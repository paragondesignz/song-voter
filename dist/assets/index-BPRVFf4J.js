var ph=e=>{throw TypeError(e)};var Ul=(e,t,r)=>t.has(e)||ph("Cannot "+r);var x=(e,t,r)=>(Ul(e,t,"read from private field"),r?r.call(e):t.get(e)),q=(e,t,r)=>t.has(e)?ph("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),$=(e,t,r,n)=>(Ul(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),G=(e,t,r)=>(Ul(e,t,"access private method"),r);var Da=(e,t,r,n)=>({set _(s){$(e,t,s,r)},get _(){return x(e,t,n)}});function xv(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var At=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _v(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function bv(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Um={exports:{}},ol={},Bm={exports:{}},X={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _a=Symbol.for("react.element"),Sv=Symbol.for("react.portal"),kv=Symbol.for("react.fragment"),jv=Symbol.for("react.strict_mode"),Nv=Symbol.for("react.profiler"),Ev=Symbol.for("react.provider"),Cv=Symbol.for("react.context"),Pv=Symbol.for("react.forward_ref"),Tv=Symbol.for("react.suspense"),Ov=Symbol.for("react.memo"),Rv=Symbol.for("react.lazy"),gh=Symbol.iterator;function Av(e){return e===null||typeof e!="object"?null:(e=gh&&e[gh]||e["@@iterator"],typeof e=="function"?e:null)}var zm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qm=Object.assign,Vm={};function ti(e,t,r){this.props=e,this.context=t,this.refs=Vm,this.updater=r||zm}ti.prototype.isReactComponent={};ti.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ti.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Wm(){}Wm.prototype=ti.prototype;function Hc(e,t,r){this.props=e,this.context=t,this.refs=Vm,this.updater=r||zm}var Qc=Hc.prototype=new Wm;Qc.constructor=Hc;qm(Qc,ti.prototype);Qc.isPureReactComponent=!0;var yh=Array.isArray,Hm=Object.prototype.hasOwnProperty,Kc={current:null},Qm={key:!0,ref:!0,__self:!0,__source:!0};function Km(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)Hm.call(t,n)&&!Qm.hasOwnProperty(n)&&(s[n]=t[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var u=Array(o),c=0;c<o;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:_a,type:e,key:i,ref:a,props:s,_owner:Kc.current}}function Dv(e,t){return{$$typeof:_a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Yc(e){return typeof e=="object"&&e!==null&&e.$$typeof===_a}function Lv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var vh=/\/+/g;function Bl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Lv(""+e.key):t.toString(36)}function io(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case _a:case Sv:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+Bl(a,0):n,yh(s)?(r="",e!=null&&(r=e.replace(vh,"$&/")+"/"),io(s,t,r,"",function(c){return c})):s!=null&&(Yc(s)&&(s=Dv(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(vh,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",yh(e))for(var o=0;o<e.length;o++){i=e[o];var u=n+Bl(i,o);a+=io(i,t,r,u,s)}else if(u=Av(e),typeof u=="function")for(e=u.call(e),o=0;!(i=e.next()).done;)i=i.value,u=n+Bl(i,o++),a+=io(i,t,r,u,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function La(e,t,r){if(e==null)return e;var n=[],s=0;return io(e,n,"","",function(i){return t.call(r,i,s++)}),n}function $v(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var nt={current:null},ao={transition:null},Mv={ReactCurrentDispatcher:nt,ReactCurrentBatchConfig:ao,ReactCurrentOwner:Kc};function Ym(){throw Error("act(...) is not supported in production builds of React.")}X.Children={map:La,forEach:function(e,t,r){La(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return La(e,function(){t++}),t},toArray:function(e){return La(e,function(t){return t})||[]},only:function(e){if(!Yc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};X.Component=ti;X.Fragment=kv;X.Profiler=Nv;X.PureComponent=Hc;X.StrictMode=jv;X.Suspense=Tv;X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mv;X.act=Ym;X.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=qm({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=Kc.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(u in t)Hm.call(t,u)&&!Qm.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&o!==void 0?o[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){o=Array(u);for(var c=0;c<u;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:_a,type:e.type,key:s,ref:i,props:n,_owner:a}};X.createContext=function(e){return e={$$typeof:Cv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ev,_context:e},e.Consumer=e};X.createElement=Km;X.createFactory=function(e){var t=Km.bind(null,e);return t.type=e,t};X.createRef=function(){return{current:null}};X.forwardRef=function(e){return{$$typeof:Pv,render:e}};X.isValidElement=Yc;X.lazy=function(e){return{$$typeof:Rv,_payload:{_status:-1,_result:e},_init:$v}};X.memo=function(e,t){return{$$typeof:Ov,type:e,compare:t===void 0?null:t}};X.startTransition=function(e){var t=ao.transition;ao.transition={};try{e()}finally{ao.transition=t}};X.unstable_act=Ym;X.useCallback=function(e,t){return nt.current.useCallback(e,t)};X.useContext=function(e){return nt.current.useContext(e)};X.useDebugValue=function(){};X.useDeferredValue=function(e){return nt.current.useDeferredValue(e)};X.useEffect=function(e,t){return nt.current.useEffect(e,t)};X.useId=function(){return nt.current.useId()};X.useImperativeHandle=function(e,t,r){return nt.current.useImperativeHandle(e,t,r)};X.useInsertionEffect=function(e,t){return nt.current.useInsertionEffect(e,t)};X.useLayoutEffect=function(e,t){return nt.current.useLayoutEffect(e,t)};X.useMemo=function(e,t){return nt.current.useMemo(e,t)};X.useReducer=function(e,t,r){return nt.current.useReducer(e,t,r)};X.useRef=function(e){return nt.current.useRef(e)};X.useState=function(e){return nt.current.useState(e)};X.useSyncExternalStore=function(e,t,r){return nt.current.useSyncExternalStore(e,t,r)};X.useTransition=function(){return nt.current.useTransition()};X.version="18.3.1";Bm.exports=X;var k=Bm.exports;const ut=_v(k),Fv=xv({__proto__:null,default:ut},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv=k,Uv=Symbol.for("react.element"),Bv=Symbol.for("react.fragment"),zv=Object.prototype.hasOwnProperty,qv=Iv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Vv={key:!0,ref:!0,__self:!0,__source:!0};function Gm(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)zv.call(t,n)&&!Vv.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Uv,type:e,key:i,ref:a,props:s,_owner:qv.current}}ol.Fragment=Bv;ol.jsx=Gm;ol.jsxs=Gm;Um.exports=ol;var l=Um.exports,Jm={exports:{}},_t={},Xm={exports:{}},Zm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,B){var Q=L.length;L.push(B);e:for(;0<Q;){var oe=Q-1>>>1,ve=L[oe];if(0<s(ve,B))L[oe]=B,L[Q]=ve,Q=oe;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var B=L[0],Q=L.pop();if(Q!==B){L[0]=Q;e:for(var oe=0,ve=L.length,lr=ve>>>1;oe<lr;){var jt=2*(oe+1)-1,is=L[jt],ur=jt+1,Or=L[ur];if(0>s(is,Q))ur<ve&&0>s(Or,is)?(L[oe]=Or,L[ur]=Q,oe=ur):(L[oe]=is,L[jt]=Q,oe=jt);else if(ur<ve&&0>s(Or,Q))L[oe]=Or,L[ur]=Q,oe=ur;else break e}}return B}function s(L,B){var Q=L.sortIndex-B.sortIndex;return Q!==0?Q:L.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var u=[],c=[],d=1,h=null,m=3,y=!1,g=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(L){for(var B=r(c);B!==null;){if(B.callback===null)n(c);else if(B.startTime<=L)n(c),B.sortIndex=B.expirationTime,t(u,B);else break;B=r(c)}}function S(L){if(w=!1,p(L),!g)if(r(u)!==null)g=!0,Ee(N);else{var B=r(c);B!==null&&We(S,B.startTime-L)}}function N(L,B){g=!1,w&&(w=!1,v(R),R=-1),y=!0;var Q=m;try{for(p(B),h=r(u);h!==null&&(!(h.expirationTime>B)||L&&!Z());){var oe=h.callback;if(typeof oe=="function"){h.callback=null,m=h.priorityLevel;var ve=oe(h.expirationTime<=B);B=e.unstable_now(),typeof ve=="function"?h.callback=ve:h===r(u)&&n(u),p(B)}else n(u);h=r(u)}if(h!==null)var lr=!0;else{var jt=r(c);jt!==null&&We(S,jt.startTime-B),lr=!1}return lr}finally{h=null,m=Q,y=!1}}var C=!1,P=null,R=-1,U=5,D=-1;function Z(){return!(e.unstable_now()-D<U)}function H(){if(P!==null){var L=e.unstable_now();D=L;var B=!0;try{B=P(!0,L)}finally{B?Y():(C=!1,P=null)}}else C=!1}var Y;if(typeof f=="function")Y=function(){f(H)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,Oe=ue.port2;ue.port1.onmessage=H,Y=function(){Oe.postMessage(null)}}else Y=function(){b(H,0)};function Ee(L){P=L,C||(C=!0,Y())}function We(L,B){R=b(function(){L(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){g||y||(g=!0,Ee(N))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(L){switch(m){case 1:case 2:case 3:var B=3;break;default:B=m}var Q=m;m=B;try{return L()}finally{m=Q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,B){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var Q=m;m=L;try{return B()}finally{m=Q}},e.unstable_scheduleCallback=function(L,B,Q){var oe=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?oe+Q:oe):Q=oe,L){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=Q+ve,L={id:d++,callback:B,priorityLevel:L,startTime:Q,expirationTime:ve,sortIndex:-1},Q>oe?(L.sortIndex=Q,t(c,L),r(u)===null&&L===r(c)&&(w?(v(R),R=-1):w=!0,We(S,Q-oe))):(L.sortIndex=ve,t(u,L),g||y||(g=!0,Ee(N))),L},e.unstable_shouldYield=Z,e.unstable_wrapCallback=function(L){var B=m;return function(){var Q=m;m=B;try{return L.apply(this,arguments)}finally{m=Q}}}})(Zm);Xm.exports=Zm;var Wv=Xm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hv=k,xt=Wv;function T(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ep=new Set,Wi={};function ts(e,t){Hs(e,t),Hs(e+"Capture",t)}function Hs(e,t){for(Wi[e]=t,e=0;e<t.length;e++)ep.add(t[e])}var kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ku=Object.prototype.hasOwnProperty,Qv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wh={},xh={};function Kv(e){return ku.call(xh,e)?!0:ku.call(wh,e)?!1:Qv.test(e)?xh[e]=!0:(wh[e]=!0,!1)}function Yv(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Gv(e,t,r,n){if(t===null||typeof t>"u"||Yv(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function st(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var Ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ve[e]=new st(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ve[t]=new st(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ve[e]=new st(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ve[e]=new st(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ve[e]=new st(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ve[e]=new st(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ve[e]=new st(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ve[e]=new st(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ve[e]=new st(e,5,!1,e.toLowerCase(),null,!1,!1)});var Gc=/[\-:]([a-z])/g;function Jc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Gc,Jc);Ve[t]=new st(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Gc,Jc);Ve[t]=new st(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Gc,Jc);Ve[t]=new st(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ve[e]=new st(e,1,!1,e.toLowerCase(),null,!1,!1)});Ve.xlinkHref=new st("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ve[e]=new st(e,1,!1,e.toLowerCase(),null,!0,!0)});function Xc(e,t,r,n){var s=Ve.hasOwnProperty(t)?Ve[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Gv(t,r,s,n)&&(r=null),n||s===null?Kv(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Tr=Hv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$a=Symbol.for("react.element"),gs=Symbol.for("react.portal"),ys=Symbol.for("react.fragment"),Zc=Symbol.for("react.strict_mode"),ju=Symbol.for("react.profiler"),tp=Symbol.for("react.provider"),rp=Symbol.for("react.context"),ed=Symbol.for("react.forward_ref"),Nu=Symbol.for("react.suspense"),Eu=Symbol.for("react.suspense_list"),td=Symbol.for("react.memo"),Fr=Symbol.for("react.lazy"),np=Symbol.for("react.offscreen"),_h=Symbol.iterator;function di(e){return e===null||typeof e!="object"?null:(e=_h&&e[_h]||e["@@iterator"],typeof e=="function"?e:null)}var _e=Object.assign,zl;function ki(e){if(zl===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);zl=t&&t[1]||""}return`
`+zl+e}var ql=!1;function Vl(e,t){if(!e||ql)return"";ql=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var u=`
`+s[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=a&&0<=o);break}}}finally{ql=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ki(e):""}function Jv(e){switch(e.tag){case 5:return ki(e.type);case 16:return ki("Lazy");case 13:return ki("Suspense");case 19:return ki("SuspenseList");case 0:case 2:case 15:return e=Vl(e.type,!1),e;case 11:return e=Vl(e.type.render,!1),e;case 1:return e=Vl(e.type,!0),e;default:return""}}function Cu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ys:return"Fragment";case gs:return"Portal";case ju:return"Profiler";case Zc:return"StrictMode";case Nu:return"Suspense";case Eu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case rp:return(e.displayName||"Context")+".Consumer";case tp:return(e._context.displayName||"Context")+".Provider";case ed:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case td:return t=e.displayName||null,t!==null?t:Cu(e.type)||"Memo";case Fr:t=e._payload,e=e._init;try{return Cu(e(t))}catch{}}return null}function Xv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cu(t);case 8:return t===Zc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function gn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function sp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Zv(e){var t=sp(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ma(e){e._valueTracker||(e._valueTracker=Zv(e))}function ip(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=sp(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function bo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Pu(e,t){var r=t.checked;return _e({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function bh(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=gn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ap(e,t){t=t.checked,t!=null&&Xc(e,"checked",t,!1)}function Tu(e,t){ap(e,t);var r=gn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ou(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ou(e,t.type,gn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Sh(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ou(e,t,r){(t!=="number"||bo(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ji=Array.isArray;function Cs(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+gn(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ru(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(T(91));return _e({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function kh(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(T(92));if(ji(r)){if(1<r.length)throw Error(T(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:gn(r)}}function op(e,t){var r=gn(t.value),n=gn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function jh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function lp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Au(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?lp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Fa,up=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Fa=Fa||document.createElement("div"),Fa.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fa.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Hi(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ti={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},e0=["Webkit","ms","Moz","O"];Object.keys(Ti).forEach(function(e){e0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ti[t]=Ti[e]})});function cp(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ti.hasOwnProperty(e)&&Ti[e]?(""+t).trim():t+"px"}function dp(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=cp(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var t0=_e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Du(e,t){if(t){if(t0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(T(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(T(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(T(61))}if(t.style!=null&&typeof t.style!="object")throw Error(T(62))}}function Lu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $u=null;function rd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Mu=null,Ps=null,Ts=null;function Nh(e){if(e=ka(e)){if(typeof Mu!="function")throw Error(T(280));var t=e.stateNode;t&&(t=hl(t),Mu(e.stateNode,e.type,t))}}function hp(e){Ps?Ts?Ts.push(e):Ts=[e]:Ps=e}function fp(){if(Ps){var e=Ps,t=Ts;if(Ts=Ps=null,Nh(e),t)for(e=0;e<t.length;e++)Nh(t[e])}}function mp(e,t){return e(t)}function pp(){}var Wl=!1;function gp(e,t,r){if(Wl)return e(t,r);Wl=!0;try{return mp(e,t,r)}finally{Wl=!1,(Ps!==null||Ts!==null)&&(pp(),fp())}}function Qi(e,t){var r=e.stateNode;if(r===null)return null;var n=hl(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(T(231,t,typeof r));return r}var Fu=!1;if(kr)try{var hi={};Object.defineProperty(hi,"passive",{get:function(){Fu=!0}}),window.addEventListener("test",hi,hi),window.removeEventListener("test",hi,hi)}catch{Fu=!1}function r0(e,t,r,n,s,i,a,o,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var Oi=!1,So=null,ko=!1,Iu=null,n0={onError:function(e){Oi=!0,So=e}};function s0(e,t,r,n,s,i,a,o,u){Oi=!1,So=null,r0.apply(n0,arguments)}function i0(e,t,r,n,s,i,a,o,u){if(s0.apply(this,arguments),Oi){if(Oi){var c=So;Oi=!1,So=null}else throw Error(T(198));ko||(ko=!0,Iu=c)}}function rs(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function yp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Eh(e){if(rs(e)!==e)throw Error(T(188))}function a0(e){var t=e.alternate;if(!t){if(t=rs(e),t===null)throw Error(T(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Eh(s),e;if(i===n)return Eh(s),t;i=i.sibling}throw Error(T(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a)throw Error(T(189))}}if(r.alternate!==n)throw Error(T(190))}if(r.tag!==3)throw Error(T(188));return r.stateNode.current===r?e:t}function vp(e){return e=a0(e),e!==null?wp(e):null}function wp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=wp(e);if(t!==null)return t;e=e.sibling}return null}var xp=xt.unstable_scheduleCallback,Ch=xt.unstable_cancelCallback,o0=xt.unstable_shouldYield,l0=xt.unstable_requestPaint,ke=xt.unstable_now,u0=xt.unstable_getCurrentPriorityLevel,nd=xt.unstable_ImmediatePriority,_p=xt.unstable_UserBlockingPriority,jo=xt.unstable_NormalPriority,c0=xt.unstable_LowPriority,bp=xt.unstable_IdlePriority,ll=null,sr=null;function d0(e){if(sr&&typeof sr.onCommitFiberRoot=="function")try{sr.onCommitFiberRoot(ll,e,void 0,(e.current.flags&128)===128)}catch{}}var Ht=Math.clz32?Math.clz32:m0,h0=Math.log,f0=Math.LN2;function m0(e){return e>>>=0,e===0?32:31-(h0(e)/f0|0)|0}var Ia=64,Ua=4194304;function Ni(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function No(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var o=a&~s;o!==0?n=Ni(o):(i&=a,i!==0&&(n=Ni(i)))}else a=r&~s,a!==0?n=Ni(a):i!==0&&(n=Ni(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ht(t),s=1<<r,n|=e[r],t&=~s;return n}function p0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function g0(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Ht(i),o=1<<a,u=s[a];u===-1?(!(o&r)||o&n)&&(s[a]=p0(o,t)):u<=t&&(e.expiredLanes|=o),i&=~o}}function Uu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Sp(){var e=Ia;return Ia<<=1,!(Ia&4194240)&&(Ia=64),e}function Hl(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ba(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ht(t),e[t]=r}function y0(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Ht(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function sd(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ht(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var ae=0;function kp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var jp,id,Np,Ep,Cp,Bu=!1,Ba=[],an=null,on=null,ln=null,Ki=new Map,Yi=new Map,Ur=[],v0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ph(e,t){switch(e){case"focusin":case"focusout":an=null;break;case"dragenter":case"dragleave":on=null;break;case"mouseover":case"mouseout":ln=null;break;case"pointerover":case"pointerout":Ki.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yi.delete(t.pointerId)}}function fi(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ka(t),t!==null&&id(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function w0(e,t,r,n,s){switch(t){case"focusin":return an=fi(an,e,t,r,n,s),!0;case"dragenter":return on=fi(on,e,t,r,n,s),!0;case"mouseover":return ln=fi(ln,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Ki.set(i,fi(Ki.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Yi.set(i,fi(Yi.get(i)||null,e,t,r,n,s)),!0}return!1}function Pp(e){var t=Rn(e.target);if(t!==null){var r=rs(t);if(r!==null){if(t=r.tag,t===13){if(t=yp(r),t!==null){e.blockedOn=t,Cp(e.priority,function(){Np(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function oo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=zu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);$u=n,r.target.dispatchEvent(n),$u=null}else return t=ka(r),t!==null&&id(t),e.blockedOn=r,!1;t.shift()}return!0}function Th(e,t,r){oo(e)&&r.delete(t)}function x0(){Bu=!1,an!==null&&oo(an)&&(an=null),on!==null&&oo(on)&&(on=null),ln!==null&&oo(ln)&&(ln=null),Ki.forEach(Th),Yi.forEach(Th)}function mi(e,t){e.blockedOn===t&&(e.blockedOn=null,Bu||(Bu=!0,xt.unstable_scheduleCallback(xt.unstable_NormalPriority,x0)))}function Gi(e){function t(s){return mi(s,e)}if(0<Ba.length){mi(Ba[0],e);for(var r=1;r<Ba.length;r++){var n=Ba[r];n.blockedOn===e&&(n.blockedOn=null)}}for(an!==null&&mi(an,e),on!==null&&mi(on,e),ln!==null&&mi(ln,e),Ki.forEach(t),Yi.forEach(t),r=0;r<Ur.length;r++)n=Ur[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ur.length&&(r=Ur[0],r.blockedOn===null);)Pp(r),r.blockedOn===null&&Ur.shift()}var Os=Tr.ReactCurrentBatchConfig,Eo=!0;function _0(e,t,r,n){var s=ae,i=Os.transition;Os.transition=null;try{ae=1,ad(e,t,r,n)}finally{ae=s,Os.transition=i}}function b0(e,t,r,n){var s=ae,i=Os.transition;Os.transition=null;try{ae=4,ad(e,t,r,n)}finally{ae=s,Os.transition=i}}function ad(e,t,r,n){if(Eo){var s=zu(e,t,r,n);if(s===null)ru(e,t,n,Co,r),Ph(e,n);else if(w0(s,e,t,r,n))n.stopPropagation();else if(Ph(e,n),t&4&&-1<v0.indexOf(e)){for(;s!==null;){var i=ka(s);if(i!==null&&jp(i),i=zu(e,t,r,n),i===null&&ru(e,t,n,Co,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else ru(e,t,n,null,r)}}var Co=null;function zu(e,t,r,n){if(Co=null,e=rd(n),e=Rn(e),e!==null)if(t=rs(e),t===null)e=null;else if(r=t.tag,r===13){if(e=yp(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Co=e,null}function Tp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(u0()){case nd:return 1;case _p:return 4;case jo:case c0:return 16;case bp:return 536870912;default:return 16}default:return 16}}var tn=null,od=null,lo=null;function Op(){if(lo)return lo;var e,t=od,r=t.length,n,s="value"in tn?tn.value:tn.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return lo=s.slice(e,1<n?1-n:void 0)}function uo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function za(){return!0}function Oh(){return!1}function bt(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?za:Oh,this.isPropagationStopped=Oh,this}return _e(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=za)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=za)},persist:function(){},isPersistent:za}),t}var ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ld=bt(ri),Sa=_e({},ri,{view:0,detail:0}),S0=bt(Sa),Ql,Kl,pi,ul=_e({},Sa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ud,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pi&&(pi&&e.type==="mousemove"?(Ql=e.screenX-pi.screenX,Kl=e.screenY-pi.screenY):Kl=Ql=0,pi=e),Ql)},movementY:function(e){return"movementY"in e?e.movementY:Kl}}),Rh=bt(ul),k0=_e({},ul,{dataTransfer:0}),j0=bt(k0),N0=_e({},Sa,{relatedTarget:0}),Yl=bt(N0),E0=_e({},ri,{animationName:0,elapsedTime:0,pseudoElement:0}),C0=bt(E0),P0=_e({},ri,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),T0=bt(P0),O0=_e({},ri,{data:0}),Ah=bt(O0),R0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},A0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},D0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function L0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=D0[e])?!!t[e]:!1}function ud(){return L0}var $0=_e({},Sa,{key:function(e){if(e.key){var t=R0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=uo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?A0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ud,charCode:function(e){return e.type==="keypress"?uo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?uo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),M0=bt($0),F0=_e({},ul,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dh=bt(F0),I0=_e({},Sa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ud}),U0=bt(I0),B0=_e({},ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),z0=bt(B0),q0=_e({},ul,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),V0=bt(q0),W0=[9,13,27,32],cd=kr&&"CompositionEvent"in window,Ri=null;kr&&"documentMode"in document&&(Ri=document.documentMode);var H0=kr&&"TextEvent"in window&&!Ri,Rp=kr&&(!cd||Ri&&8<Ri&&11>=Ri),Lh=" ",$h=!1;function Ap(e,t){switch(e){case"keyup":return W0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var vs=!1;function Q0(e,t){switch(e){case"compositionend":return Dp(t);case"keypress":return t.which!==32?null:($h=!0,Lh);case"textInput":return e=t.data,e===Lh&&$h?null:e;default:return null}}function K0(e,t){if(vs)return e==="compositionend"||!cd&&Ap(e,t)?(e=Op(),lo=od=tn=null,vs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rp&&t.locale!=="ko"?null:t.data;default:return null}}var Y0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Y0[e.type]:t==="textarea"}function Lp(e,t,r,n){hp(n),t=Po(t,"onChange"),0<t.length&&(r=new ld("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ai=null,Ji=null;function G0(e){Hp(e,0)}function cl(e){var t=_s(e);if(ip(t))return e}function J0(e,t){if(e==="change")return t}var $p=!1;if(kr){var Gl;if(kr){var Jl="oninput"in document;if(!Jl){var Fh=document.createElement("div");Fh.setAttribute("oninput","return;"),Jl=typeof Fh.oninput=="function"}Gl=Jl}else Gl=!1;$p=Gl&&(!document.documentMode||9<document.documentMode)}function Ih(){Ai&&(Ai.detachEvent("onpropertychange",Mp),Ji=Ai=null)}function Mp(e){if(e.propertyName==="value"&&cl(Ji)){var t=[];Lp(t,Ji,e,rd(e)),gp(G0,t)}}function X0(e,t,r){e==="focusin"?(Ih(),Ai=t,Ji=r,Ai.attachEvent("onpropertychange",Mp)):e==="focusout"&&Ih()}function Z0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cl(Ji)}function ew(e,t){if(e==="click")return cl(t)}function tw(e,t){if(e==="input"||e==="change")return cl(t)}function rw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Kt=typeof Object.is=="function"?Object.is:rw;function Xi(e,t){if(Kt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!ku.call(t,s)||!Kt(e[s],t[s]))return!1}return!0}function Uh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Bh(e,t){var r=Uh(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Uh(r)}}function Fp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Fp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ip(){for(var e=window,t=bo();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=bo(e.document)}return t}function dd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function nw(e){var t=Ip(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Fp(r.ownerDocument.documentElement,r)){if(n!==null&&dd(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Bh(r,i);var a=Bh(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var sw=kr&&"documentMode"in document&&11>=document.documentMode,ws=null,qu=null,Di=null,Vu=!1;function zh(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Vu||ws==null||ws!==bo(n)||(n=ws,"selectionStart"in n&&dd(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Di&&Xi(Di,n)||(Di=n,n=Po(qu,"onSelect"),0<n.length&&(t=new ld("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ws)))}function qa(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var xs={animationend:qa("Animation","AnimationEnd"),animationiteration:qa("Animation","AnimationIteration"),animationstart:qa("Animation","AnimationStart"),transitionend:qa("Transition","TransitionEnd")},Xl={},Up={};kr&&(Up=document.createElement("div").style,"AnimationEvent"in window||(delete xs.animationend.animation,delete xs.animationiteration.animation,delete xs.animationstart.animation),"TransitionEvent"in window||delete xs.transitionend.transition);function dl(e){if(Xl[e])return Xl[e];if(!xs[e])return e;var t=xs[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Up)return Xl[e]=t[r];return e}var Bp=dl("animationend"),zp=dl("animationiteration"),qp=dl("animationstart"),Vp=dl("transitionend"),Wp=new Map,qh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wn(e,t){Wp.set(e,t),ts(t,[e])}for(var Zl=0;Zl<qh.length;Zl++){var eu=qh[Zl],iw=eu.toLowerCase(),aw=eu[0].toUpperCase()+eu.slice(1);wn(iw,"on"+aw)}wn(Bp,"onAnimationEnd");wn(zp,"onAnimationIteration");wn(qp,"onAnimationStart");wn("dblclick","onDoubleClick");wn("focusin","onFocus");wn("focusout","onBlur");wn(Vp,"onTransitionEnd");Hs("onMouseEnter",["mouseout","mouseover"]);Hs("onMouseLeave",["mouseout","mouseover"]);Hs("onPointerEnter",["pointerout","pointerover"]);Hs("onPointerLeave",["pointerout","pointerover"]);ts("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ts("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ts("onBeforeInput",["compositionend","keypress","textInput","paste"]);ts("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ts("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ts("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ei="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ow=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ei));function Vh(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,i0(n,t,void 0,e),e.currentTarget=null}function Hp(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var o=n[a],u=o.instance,c=o.currentTarget;if(o=o.listener,u!==i&&s.isPropagationStopped())break e;Vh(s,o,c),i=u}else for(a=0;a<n.length;a++){if(o=n[a],u=o.instance,c=o.currentTarget,o=o.listener,u!==i&&s.isPropagationStopped())break e;Vh(s,o,c),i=u}}}if(ko)throw e=Iu,ko=!1,Iu=null,e}function fe(e,t){var r=t[Yu];r===void 0&&(r=t[Yu]=new Set);var n=e+"__bubble";r.has(n)||(Qp(t,e,2,!1),r.add(n))}function tu(e,t,r){var n=0;t&&(n|=4),Qp(r,e,n,t)}var Va="_reactListening"+Math.random().toString(36).slice(2);function Zi(e){if(!e[Va]){e[Va]=!0,ep.forEach(function(r){r!=="selectionchange"&&(ow.has(r)||tu(r,!1,e),tu(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Va]||(t[Va]=!0,tu("selectionchange",!1,t))}}function Qp(e,t,r,n){switch(Tp(t)){case 1:var s=_0;break;case 4:s=b0;break;default:s=ad}r=s.bind(null,t,r,e),s=void 0,!Fu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function ru(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;a=a.return}for(;o!==null;){if(a=Rn(o),a===null)return;if(u=a.tag,u===5||u===6){n=i=a;continue e}o=o.parentNode}}n=n.return}gp(function(){var c=i,d=rd(r),h=[];e:{var m=Wp.get(e);if(m!==void 0){var y=ld,g=e;switch(e){case"keypress":if(uo(r)===0)break e;case"keydown":case"keyup":y=M0;break;case"focusin":g="focus",y=Yl;break;case"focusout":g="blur",y=Yl;break;case"beforeblur":case"afterblur":y=Yl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Rh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=j0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=U0;break;case Bp:case zp:case qp:y=C0;break;case Vp:y=z0;break;case"scroll":y=S0;break;case"wheel":y=V0;break;case"copy":case"cut":case"paste":y=T0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Dh}var w=(t&4)!==0,b=!w&&e==="scroll",v=w?m!==null?m+"Capture":null:m;w=[];for(var f=c,p;f!==null;){p=f;var S=p.stateNode;if(p.tag===5&&S!==null&&(p=S,v!==null&&(S=Qi(f,v),S!=null&&w.push(ea(f,S,p)))),b)break;f=f.return}0<w.length&&(m=new y(m,g,null,r,d),h.push({event:m,listeners:w}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",m&&r!==$u&&(g=r.relatedTarget||r.fromElement)&&(Rn(g)||g[jr]))break e;if((y||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,y?(g=r.relatedTarget||r.toElement,y=c,g=g?Rn(g):null,g!==null&&(b=rs(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(y=null,g=c),y!==g)){if(w=Rh,S="onMouseLeave",v="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(w=Dh,S="onPointerLeave",v="onPointerEnter",f="pointer"),b=y==null?m:_s(y),p=g==null?m:_s(g),m=new w(S,f+"leave",y,r,d),m.target=b,m.relatedTarget=p,S=null,Rn(d)===c&&(w=new w(v,f+"enter",g,r,d),w.target=p,w.relatedTarget=b,S=w),b=S,y&&g)t:{for(w=y,v=g,f=0,p=w;p;p=as(p))f++;for(p=0,S=v;S;S=as(S))p++;for(;0<f-p;)w=as(w),f--;for(;0<p-f;)v=as(v),p--;for(;f--;){if(w===v||v!==null&&w===v.alternate)break t;w=as(w),v=as(v)}w=null}else w=null;y!==null&&Wh(h,m,y,w,!1),g!==null&&b!==null&&Wh(h,b,g,w,!0)}}e:{if(m=c?_s(c):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var N=J0;else if(Mh(m))if($p)N=tw;else{N=Z0;var C=X0}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(N=ew);if(N&&(N=N(e,c))){Lp(h,N,r,d);break e}C&&C(e,m,c),e==="focusout"&&(C=m._wrapperState)&&C.controlled&&m.type==="number"&&Ou(m,"number",m.value)}switch(C=c?_s(c):window,e){case"focusin":(Mh(C)||C.contentEditable==="true")&&(ws=C,qu=c,Di=null);break;case"focusout":Di=qu=ws=null;break;case"mousedown":Vu=!0;break;case"contextmenu":case"mouseup":case"dragend":Vu=!1,zh(h,r,d);break;case"selectionchange":if(sw)break;case"keydown":case"keyup":zh(h,r,d)}var P;if(cd)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else vs?Ap(e,r)&&(R="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(R="onCompositionStart");R&&(Rp&&r.locale!=="ko"&&(vs||R!=="onCompositionStart"?R==="onCompositionEnd"&&vs&&(P=Op()):(tn=d,od="value"in tn?tn.value:tn.textContent,vs=!0)),C=Po(c,R),0<C.length&&(R=new Ah(R,e,null,r,d),h.push({event:R,listeners:C}),P?R.data=P:(P=Dp(r),P!==null&&(R.data=P)))),(P=H0?Q0(e,r):K0(e,r))&&(c=Po(c,"onBeforeInput"),0<c.length&&(d=new Ah("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:c}),d.data=P))}Hp(h,t)})}function ea(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Po(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Qi(e,r),i!=null&&n.unshift(ea(e,i,s)),i=Qi(e,t),i!=null&&n.push(ea(e,i,s))),e=e.return}return n}function as(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Wh(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var o=r,u=o.alternate,c=o.stateNode;if(u!==null&&u===n)break;o.tag===5&&c!==null&&(o=c,s?(u=Qi(r,i),u!=null&&a.unshift(ea(r,u,o))):s||(u=Qi(r,i),u!=null&&a.push(ea(r,u,o)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var lw=/\r\n?/g,uw=/\u0000|\uFFFD/g;function Hh(e){return(typeof e=="string"?e:""+e).replace(lw,`
`).replace(uw,"")}function Wa(e,t,r){if(t=Hh(t),Hh(e)!==t&&r)throw Error(T(425))}function To(){}var Wu=null,Hu=null;function Qu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ku=typeof setTimeout=="function"?setTimeout:void 0,cw=typeof clearTimeout=="function"?clearTimeout:void 0,Qh=typeof Promise=="function"?Promise:void 0,dw=typeof queueMicrotask=="function"?queueMicrotask:typeof Qh<"u"?function(e){return Qh.resolve(null).then(e).catch(hw)}:Ku;function hw(e){setTimeout(function(){throw e})}function nu(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Gi(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Gi(t)}function un(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Kh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ni=Math.random().toString(36).slice(2),rr="__reactFiber$"+ni,ta="__reactProps$"+ni,jr="__reactContainer$"+ni,Yu="__reactEvents$"+ni,fw="__reactListeners$"+ni,mw="__reactHandles$"+ni;function Rn(e){var t=e[rr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[jr]||r[rr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Kh(e);e!==null;){if(r=e[rr])return r;e=Kh(e)}return t}e=r,r=e.parentNode}return null}function ka(e){return e=e[rr]||e[jr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function _s(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(T(33))}function hl(e){return e[ta]||null}var Gu=[],bs=-1;function xn(e){return{current:e}}function pe(e){0>bs||(e.current=Gu[bs],Gu[bs]=null,bs--)}function he(e,t){bs++,Gu[bs]=e.current,e.current=t}var yn={},Ge=xn(yn),mt=xn(!1),Kn=yn;function Qs(e,t){var r=e.type.contextTypes;if(!r)return yn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function pt(e){return e=e.childContextTypes,e!=null}function Oo(){pe(mt),pe(Ge)}function Yh(e,t,r){if(Ge.current!==yn)throw Error(T(168));he(Ge,t),he(mt,r)}function Kp(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(T(108,Xv(e)||"Unknown",s));return _e({},r,n)}function Ro(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||yn,Kn=Ge.current,he(Ge,e),he(mt,mt.current),!0}function Gh(e,t,r){var n=e.stateNode;if(!n)throw Error(T(169));r?(e=Kp(e,t,Kn),n.__reactInternalMemoizedMergedChildContext=e,pe(mt),pe(Ge),he(Ge,e)):pe(mt),he(mt,r)}var yr=null,fl=!1,su=!1;function Yp(e){yr===null?yr=[e]:yr.push(e)}function pw(e){fl=!0,Yp(e)}function _n(){if(!su&&yr!==null){su=!0;var e=0,t=ae;try{var r=yr;for(ae=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}yr=null,fl=!1}catch(s){throw yr!==null&&(yr=yr.slice(e+1)),xp(nd,_n),s}finally{ae=t,su=!1}}return null}var Ss=[],ks=0,Ao=null,Do=0,Pt=[],Tt=0,Yn=null,xr=1,_r="";function En(e,t){Ss[ks++]=Do,Ss[ks++]=Ao,Ao=e,Do=t}function Gp(e,t,r){Pt[Tt++]=xr,Pt[Tt++]=_r,Pt[Tt++]=Yn,Yn=e;var n=xr;e=_r;var s=32-Ht(n)-1;n&=~(1<<s),r+=1;var i=32-Ht(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,xr=1<<32-Ht(t)+s|r<<s|n,_r=i+e}else xr=1<<i|r<<s|n,_r=e}function hd(e){e.return!==null&&(En(e,1),Gp(e,1,0))}function fd(e){for(;e===Ao;)Ao=Ss[--ks],Ss[ks]=null,Do=Ss[--ks],Ss[ks]=null;for(;e===Yn;)Yn=Pt[--Tt],Pt[Tt]=null,_r=Pt[--Tt],Pt[Tt]=null,xr=Pt[--Tt],Pt[Tt]=null}var wt=null,vt=null,ye=!1,qt=null;function Jp(e,t){var r=Ot(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Jh(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,wt=e,vt=un(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,wt=e,vt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Yn!==null?{id:xr,overflow:_r}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ot(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,wt=e,vt=null,!0):!1;default:return!1}}function Ju(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Xu(e){if(ye){var t=vt;if(t){var r=t;if(!Jh(e,t)){if(Ju(e))throw Error(T(418));t=un(r.nextSibling);var n=wt;t&&Jh(e,t)?Jp(n,r):(e.flags=e.flags&-4097|2,ye=!1,wt=e)}}else{if(Ju(e))throw Error(T(418));e.flags=e.flags&-4097|2,ye=!1,wt=e}}}function Xh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;wt=e}function Ha(e){if(e!==wt)return!1;if(!ye)return Xh(e),ye=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Qu(e.type,e.memoizedProps)),t&&(t=vt)){if(Ju(e))throw Xp(),Error(T(418));for(;t;)Jp(e,t),t=un(t.nextSibling)}if(Xh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(T(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){vt=un(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}vt=null}}else vt=wt?un(e.stateNode.nextSibling):null;return!0}function Xp(){for(var e=vt;e;)e=un(e.nextSibling)}function Ks(){vt=wt=null,ye=!1}function md(e){qt===null?qt=[e]:qt.push(e)}var gw=Tr.ReactCurrentBatchConfig;function gi(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(T(309));var n=r.stateNode}if(!n)throw Error(T(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(T(284));if(!r._owner)throw Error(T(290,e))}return e}function Qa(e,t){throw e=Object.prototype.toString.call(t),Error(T(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zh(e){var t=e._init;return t(e._payload)}function Zp(e){function t(v,f){if(e){var p=v.deletions;p===null?(v.deletions=[f],v.flags|=16):p.push(f)}}function r(v,f){if(!e)return null;for(;f!==null;)t(v,f),f=f.sibling;return null}function n(v,f){for(v=new Map;f!==null;)f.key!==null?v.set(f.key,f):v.set(f.index,f),f=f.sibling;return v}function s(v,f){return v=fn(v,f),v.index=0,v.sibling=null,v}function i(v,f,p){return v.index=p,e?(p=v.alternate,p!==null?(p=p.index,p<f?(v.flags|=2,f):p):(v.flags|=2,f)):(v.flags|=1048576,f)}function a(v){return e&&v.alternate===null&&(v.flags|=2),v}function o(v,f,p,S){return f===null||f.tag!==6?(f=du(p,v.mode,S),f.return=v,f):(f=s(f,p),f.return=v,f)}function u(v,f,p,S){var N=p.type;return N===ys?d(v,f,p.props.children,S,p.key):f!==null&&(f.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Fr&&Zh(N)===f.type)?(S=s(f,p.props),S.ref=gi(v,f,p),S.return=v,S):(S=yo(p.type,p.key,p.props,null,v.mode,S),S.ref=gi(v,f,p),S.return=v,S)}function c(v,f,p,S){return f===null||f.tag!==4||f.stateNode.containerInfo!==p.containerInfo||f.stateNode.implementation!==p.implementation?(f=hu(p,v.mode,S),f.return=v,f):(f=s(f,p.children||[]),f.return=v,f)}function d(v,f,p,S,N){return f===null||f.tag!==7?(f=Qn(p,v.mode,S,N),f.return=v,f):(f=s(f,p),f.return=v,f)}function h(v,f,p){if(typeof f=="string"&&f!==""||typeof f=="number")return f=du(""+f,v.mode,p),f.return=v,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case $a:return p=yo(f.type,f.key,f.props,null,v.mode,p),p.ref=gi(v,null,f),p.return=v,p;case gs:return f=hu(f,v.mode,p),f.return=v,f;case Fr:var S=f._init;return h(v,S(f._payload),p)}if(ji(f)||di(f))return f=Qn(f,v.mode,p,null),f.return=v,f;Qa(v,f)}return null}function m(v,f,p,S){var N=f!==null?f.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return N!==null?null:o(v,f,""+p,S);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case $a:return p.key===N?u(v,f,p,S):null;case gs:return p.key===N?c(v,f,p,S):null;case Fr:return N=p._init,m(v,f,N(p._payload),S)}if(ji(p)||di(p))return N!==null?null:d(v,f,p,S,null);Qa(v,p)}return null}function y(v,f,p,S,N){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(p)||null,o(f,v,""+S,N);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case $a:return v=v.get(S.key===null?p:S.key)||null,u(f,v,S,N);case gs:return v=v.get(S.key===null?p:S.key)||null,c(f,v,S,N);case Fr:var C=S._init;return y(v,f,p,C(S._payload),N)}if(ji(S)||di(S))return v=v.get(p)||null,d(f,v,S,N,null);Qa(f,S)}return null}function g(v,f,p,S){for(var N=null,C=null,P=f,R=f=0,U=null;P!==null&&R<p.length;R++){P.index>R?(U=P,P=null):U=P.sibling;var D=m(v,P,p[R],S);if(D===null){P===null&&(P=U);break}e&&P&&D.alternate===null&&t(v,P),f=i(D,f,R),C===null?N=D:C.sibling=D,C=D,P=U}if(R===p.length)return r(v,P),ye&&En(v,R),N;if(P===null){for(;R<p.length;R++)P=h(v,p[R],S),P!==null&&(f=i(P,f,R),C===null?N=P:C.sibling=P,C=P);return ye&&En(v,R),N}for(P=n(v,P);R<p.length;R++)U=y(P,v,R,p[R],S),U!==null&&(e&&U.alternate!==null&&P.delete(U.key===null?R:U.key),f=i(U,f,R),C===null?N=U:C.sibling=U,C=U);return e&&P.forEach(function(Z){return t(v,Z)}),ye&&En(v,R),N}function w(v,f,p,S){var N=di(p);if(typeof N!="function")throw Error(T(150));if(p=N.call(p),p==null)throw Error(T(151));for(var C=N=null,P=f,R=f=0,U=null,D=p.next();P!==null&&!D.done;R++,D=p.next()){P.index>R?(U=P,P=null):U=P.sibling;var Z=m(v,P,D.value,S);if(Z===null){P===null&&(P=U);break}e&&P&&Z.alternate===null&&t(v,P),f=i(Z,f,R),C===null?N=Z:C.sibling=Z,C=Z,P=U}if(D.done)return r(v,P),ye&&En(v,R),N;if(P===null){for(;!D.done;R++,D=p.next())D=h(v,D.value,S),D!==null&&(f=i(D,f,R),C===null?N=D:C.sibling=D,C=D);return ye&&En(v,R),N}for(P=n(v,P);!D.done;R++,D=p.next())D=y(P,v,R,D.value,S),D!==null&&(e&&D.alternate!==null&&P.delete(D.key===null?R:D.key),f=i(D,f,R),C===null?N=D:C.sibling=D,C=D);return e&&P.forEach(function(H){return t(v,H)}),ye&&En(v,R),N}function b(v,f,p,S){if(typeof p=="object"&&p!==null&&p.type===ys&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case $a:e:{for(var N=p.key,C=f;C!==null;){if(C.key===N){if(N=p.type,N===ys){if(C.tag===7){r(v,C.sibling),f=s(C,p.props.children),f.return=v,v=f;break e}}else if(C.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Fr&&Zh(N)===C.type){r(v,C.sibling),f=s(C,p.props),f.ref=gi(v,C,p),f.return=v,v=f;break e}r(v,C);break}else t(v,C);C=C.sibling}p.type===ys?(f=Qn(p.props.children,v.mode,S,p.key),f.return=v,v=f):(S=yo(p.type,p.key,p.props,null,v.mode,S),S.ref=gi(v,f,p),S.return=v,v=S)}return a(v);case gs:e:{for(C=p.key;f!==null;){if(f.key===C)if(f.tag===4&&f.stateNode.containerInfo===p.containerInfo&&f.stateNode.implementation===p.implementation){r(v,f.sibling),f=s(f,p.children||[]),f.return=v,v=f;break e}else{r(v,f);break}else t(v,f);f=f.sibling}f=hu(p,v.mode,S),f.return=v,v=f}return a(v);case Fr:return C=p._init,b(v,f,C(p._payload),S)}if(ji(p))return g(v,f,p,S);if(di(p))return w(v,f,p,S);Qa(v,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,f!==null&&f.tag===6?(r(v,f.sibling),f=s(f,p),f.return=v,v=f):(r(v,f),f=du(p,v.mode,S),f.return=v,v=f),a(v)):r(v,f)}return b}var Ys=Zp(!0),eg=Zp(!1),Lo=xn(null),$o=null,js=null,pd=null;function gd(){pd=js=$o=null}function yd(e){var t=Lo.current;pe(Lo),e._currentValue=t}function Zu(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Rs(e,t){$o=e,pd=js=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ft=!0),e.firstContext=null)}function Dt(e){var t=e._currentValue;if(pd!==e)if(e={context:e,memoizedValue:t,next:null},js===null){if($o===null)throw Error(T(308));js=e,$o.dependencies={lanes:0,firstContext:e}}else js=js.next=e;return t}var An=null;function vd(e){An===null?An=[e]:An.push(e)}function tg(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,vd(t)):(r.next=s.next,s.next=r),t.interleaved=r,Nr(e,n)}function Nr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ir=!1;function wd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function br(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function cn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,te&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Nr(e,r)}return s=n.interleaved,s===null?(t.next=t,vd(n)):(t.next=s.next,s.next=t),n.interleaved=t,Nr(e,r)}function co(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,sd(e,r)}}function ef(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Mo(e,t,r,n){var s=e.updateQueue;Ir=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var u=o,c=u.next;u.next=null,a===null?i=c:a.next=c,a=u;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=u))}if(i!==null){var h=s.baseState;a=0,d=c=u=null,o=i;do{var m=o.lane,y=o.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:y,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,w=o;switch(m=t,y=r,w.tag){case 1:if(g=w.payload,typeof g=="function"){h=g.call(y,h,m);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=w.payload,m=typeof g=="function"?g.call(y,h,m):g,m==null)break e;h=_e({},h,m);break e;case 2:Ir=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[o]:m.push(o))}else y={eventTime:y,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=y,u=h):d=d.next=y,a|=m;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;m=o,o=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(u=h),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Jn|=a,e.lanes=a,e.memoizedState=h}}function tf(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(T(191,s));s.call(n)}}}var ja={},ir=xn(ja),ra=xn(ja),na=xn(ja);function Dn(e){if(e===ja)throw Error(T(174));return e}function xd(e,t){switch(he(na,t),he(ra,e),he(ir,ja),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Au(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Au(t,e)}pe(ir),he(ir,t)}function Gs(){pe(ir),pe(ra),pe(na)}function ng(e){Dn(na.current);var t=Dn(ir.current),r=Au(t,e.type);t!==r&&(he(ra,e),he(ir,r))}function _d(e){ra.current===e&&(pe(ir),pe(ra))}var we=xn(0);function Fo(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var iu=[];function bd(){for(var e=0;e<iu.length;e++)iu[e]._workInProgressVersionPrimary=null;iu.length=0}var ho=Tr.ReactCurrentDispatcher,au=Tr.ReactCurrentBatchConfig,Gn=0,xe=null,Ae=null,Fe=null,Io=!1,Li=!1,sa=0,yw=0;function He(){throw Error(T(321))}function Sd(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Kt(e[r],t[r]))return!1;return!0}function kd(e,t,r,n,s,i){if(Gn=i,xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ho.current=e===null||e.memoizedState===null?_w:bw,e=r(n,s),Li){i=0;do{if(Li=!1,sa=0,25<=i)throw Error(T(301));i+=1,Fe=Ae=null,t.updateQueue=null,ho.current=Sw,e=r(n,s)}while(Li)}if(ho.current=Uo,t=Ae!==null&&Ae.next!==null,Gn=0,Fe=Ae=xe=null,Io=!1,t)throw Error(T(300));return e}function jd(){var e=sa!==0;return sa=0,e}function Jt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?xe.memoizedState=Fe=e:Fe=Fe.next=e,Fe}function Lt(){if(Ae===null){var e=xe.alternate;e=e!==null?e.memoizedState:null}else e=Ae.next;var t=Fe===null?xe.memoizedState:Fe.next;if(t!==null)Fe=t,Ae=e;else{if(e===null)throw Error(T(310));Ae=e,e={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},Fe===null?xe.memoizedState=Fe=e:Fe=Fe.next=e}return Fe}function ia(e,t){return typeof t=="function"?t(e):t}function ou(e){var t=Lt(),r=t.queue;if(r===null)throw Error(T(311));r.lastRenderedReducer=e;var n=Ae,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var o=a=null,u=null,c=i;do{var d=c.lane;if((Gn&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(o=u=h,a=n):u=u.next=h,xe.lanes|=d,Jn|=d}c=c.next}while(c!==null&&c!==i);u===null?a=n:u.next=o,Kt(n,t.memoizedState)||(ft=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=u,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,xe.lanes|=i,Jn|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function lu(e){var t=Lt(),r=t.queue;if(r===null)throw Error(T(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);Kt(i,t.memoizedState)||(ft=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function sg(){}function ig(e,t){var r=xe,n=Lt(),s=t(),i=!Kt(n.memoizedState,s);if(i&&(n.memoizedState=s,ft=!0),n=n.queue,Nd(lg.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Fe!==null&&Fe.memoizedState.tag&1){if(r.flags|=2048,aa(9,og.bind(null,r,n,s,t),void 0,null),Ie===null)throw Error(T(349));Gn&30||ag(r,t,s)}return s}function ag(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function og(e,t,r,n){t.value=r,t.getSnapshot=n,ug(t)&&cg(e)}function lg(e,t,r){return r(function(){ug(t)&&cg(e)})}function ug(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Kt(e,r)}catch{return!0}}function cg(e){var t=Nr(e,1);t!==null&&Qt(t,e,1,-1)}function rf(e){var t=Jt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:e},t.queue=e,e=e.dispatch=xw.bind(null,xe,e),[t.memoizedState,e]}function aa(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function dg(){return Lt().memoizedState}function fo(e,t,r,n){var s=Jt();xe.flags|=e,s.memoizedState=aa(1|t,r,void 0,n===void 0?null:n)}function ml(e,t,r,n){var s=Lt();n=n===void 0?null:n;var i=void 0;if(Ae!==null){var a=Ae.memoizedState;if(i=a.destroy,n!==null&&Sd(n,a.deps)){s.memoizedState=aa(t,r,i,n);return}}xe.flags|=e,s.memoizedState=aa(1|t,r,i,n)}function nf(e,t){return fo(8390656,8,e,t)}function Nd(e,t){return ml(2048,8,e,t)}function hg(e,t){return ml(4,2,e,t)}function fg(e,t){return ml(4,4,e,t)}function mg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function pg(e,t,r){return r=r!=null?r.concat([e]):null,ml(4,4,mg.bind(null,t,e),r)}function Ed(){}function gg(e,t){var r=Lt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Sd(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function yg(e,t){var r=Lt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Sd(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function vg(e,t,r){return Gn&21?(Kt(r,t)||(r=Sp(),xe.lanes|=r,Jn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ft=!0),e.memoizedState=r)}function vw(e,t){var r=ae;ae=r!==0&&4>r?r:4,e(!0);var n=au.transition;au.transition={};try{e(!1),t()}finally{ae=r,au.transition=n}}function wg(){return Lt().memoizedState}function ww(e,t,r){var n=hn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},xg(e))_g(t,r);else if(r=tg(e,t,r,n),r!==null){var s=rt();Qt(r,e,n,s),bg(r,t,n)}}function xw(e,t,r){var n=hn(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(xg(e))_g(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,o=i(a,r);if(s.hasEagerState=!0,s.eagerState=o,Kt(o,a)){var u=t.interleaved;u===null?(s.next=s,vd(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}r=tg(e,t,s,n),r!==null&&(s=rt(),Qt(r,e,n,s),bg(r,t,n))}}function xg(e){var t=e.alternate;return e===xe||t!==null&&t===xe}function _g(e,t){Li=Io=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function bg(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,sd(e,r)}}var Uo={readContext:Dt,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useInsertionEffect:He,useLayoutEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useMutableSource:He,useSyncExternalStore:He,useId:He,unstable_isNewReconciler:!1},_w={readContext:Dt,useCallback:function(e,t){return Jt().memoizedState=[e,t===void 0?null:t],e},useContext:Dt,useEffect:nf,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,fo(4194308,4,mg.bind(null,t,e),r)},useLayoutEffect:function(e,t){return fo(4194308,4,e,t)},useInsertionEffect:function(e,t){return fo(4,2,e,t)},useMemo:function(e,t){var r=Jt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Jt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=ww.bind(null,xe,e),[n.memoizedState,e]},useRef:function(e){var t=Jt();return e={current:e},t.memoizedState=e},useState:rf,useDebugValue:Ed,useDeferredValue:function(e){return Jt().memoizedState=e},useTransition:function(){var e=rf(!1),t=e[0];return e=vw.bind(null,e[1]),Jt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=xe,s=Jt();if(ye){if(r===void 0)throw Error(T(407));r=r()}else{if(r=t(),Ie===null)throw Error(T(349));Gn&30||ag(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,nf(lg.bind(null,n,i,e),[e]),n.flags|=2048,aa(9,og.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Jt(),t=Ie.identifierPrefix;if(ye){var r=_r,n=xr;r=(n&~(1<<32-Ht(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=sa++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=yw++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},bw={readContext:Dt,useCallback:gg,useContext:Dt,useEffect:Nd,useImperativeHandle:pg,useInsertionEffect:hg,useLayoutEffect:fg,useMemo:yg,useReducer:ou,useRef:dg,useState:function(){return ou(ia)},useDebugValue:Ed,useDeferredValue:function(e){var t=Lt();return vg(t,Ae.memoizedState,e)},useTransition:function(){var e=ou(ia)[0],t=Lt().memoizedState;return[e,t]},useMutableSource:sg,useSyncExternalStore:ig,useId:wg,unstable_isNewReconciler:!1},Sw={readContext:Dt,useCallback:gg,useContext:Dt,useEffect:Nd,useImperativeHandle:pg,useInsertionEffect:hg,useLayoutEffect:fg,useMemo:yg,useReducer:lu,useRef:dg,useState:function(){return lu(ia)},useDebugValue:Ed,useDeferredValue:function(e){var t=Lt();return Ae===null?t.memoizedState=e:vg(t,Ae.memoizedState,e)},useTransition:function(){var e=lu(ia)[0],t=Lt().memoizedState;return[e,t]},useMutableSource:sg,useSyncExternalStore:ig,useId:wg,unstable_isNewReconciler:!1};function Ft(e,t){if(e&&e.defaultProps){t=_e({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ec(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:_e({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var pl={isMounted:function(e){return(e=e._reactInternals)?rs(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=rt(),s=hn(e),i=br(n,s);i.payload=t,r!=null&&(i.callback=r),t=cn(e,i,s),t!==null&&(Qt(t,e,s,n),co(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=rt(),s=hn(e),i=br(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=cn(e,i,s),t!==null&&(Qt(t,e,s,n),co(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=rt(),n=hn(e),s=br(r,n);s.tag=2,t!=null&&(s.callback=t),t=cn(e,s,n),t!==null&&(Qt(t,e,n,r),co(t,e,n))}};function sf(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!Xi(r,n)||!Xi(s,i):!0}function Sg(e,t,r){var n=!1,s=yn,i=t.contextType;return typeof i=="object"&&i!==null?i=Dt(i):(s=pt(t)?Kn:Ge.current,n=t.contextTypes,i=(n=n!=null)?Qs(e,s):yn),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=pl,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function af(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&pl.enqueueReplaceState(t,t.state,null)}function tc(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},wd(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Dt(i):(i=pt(t)?Kn:Ge.current,s.context=Qs(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ec(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&pl.enqueueReplaceState(s,s.state,null),Mo(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Js(e,t){try{var r="",n=t;do r+=Jv(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function uu(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function rc(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var kw=typeof WeakMap=="function"?WeakMap:Map;function kg(e,t,r){r=br(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){zo||(zo=!0,hc=n),rc(e,t)},r}function jg(e,t,r){r=br(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){rc(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){rc(e,t),typeof n!="function"&&(dn===null?dn=new Set([this]):dn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function of(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new kw;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Fw.bind(null,e,t,r),t.then(e,e))}function lf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function uf(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=br(-1,1),t.tag=2,cn(r,t,1))),r.lanes|=1),e)}var jw=Tr.ReactCurrentOwner,ft=!1;function Ze(e,t,r,n){t.child=e===null?eg(t,null,r,n):Ys(t,e.child,r,n)}function cf(e,t,r,n,s){r=r.render;var i=t.ref;return Rs(t,s),n=kd(e,t,r,n,i,s),r=jd(),e!==null&&!ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Er(e,t,s)):(ye&&r&&hd(t),t.flags|=1,Ze(e,t,n,s),t.child)}function df(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Ld(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Ng(e,t,i,n,s)):(e=yo(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:Xi,r(a,n)&&e.ref===t.ref)return Er(e,t,s)}return t.flags|=1,e=fn(i,n),e.ref=t.ref,e.return=t,t.child=e}function Ng(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Xi(i,n)&&e.ref===t.ref)if(ft=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(ft=!0);else return t.lanes=e.lanes,Er(e,t,s)}return nc(e,t,r,n,s)}function Eg(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},he(Es,yt),yt|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,he(Es,yt),yt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,he(Es,yt),yt|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,he(Es,yt),yt|=n;return Ze(e,t,s,r),t.child}function Cg(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function nc(e,t,r,n,s){var i=pt(r)?Kn:Ge.current;return i=Qs(t,i),Rs(t,s),r=kd(e,t,r,n,i,s),n=jd(),e!==null&&!ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Er(e,t,s)):(ye&&n&&hd(t),t.flags|=1,Ze(e,t,r,s),t.child)}function hf(e,t,r,n,s){if(pt(r)){var i=!0;Ro(t)}else i=!1;if(Rs(t,s),t.stateNode===null)mo(e,t),Sg(t,r,n),tc(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var u=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=Dt(c):(c=pt(r)?Kn:Ge.current,c=Qs(t,c));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||u!==c)&&af(t,a,n,c),Ir=!1;var m=t.memoizedState;a.state=m,Mo(t,n,a,s),u=t.memoizedState,o!==n||m!==u||mt.current||Ir?(typeof d=="function"&&(ec(t,r,d,n),u=t.memoizedState),(o=Ir||sf(t,r,o,n,m,u,c))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),a.props=n,a.state=u,a.context=c,n=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,rg(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:Ft(t.type,o),a.props=c,h=t.pendingProps,m=a.context,u=r.contextType,typeof u=="object"&&u!==null?u=Dt(u):(u=pt(r)?Kn:Ge.current,u=Qs(t,u));var y=r.getDerivedStateFromProps;(d=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||m!==u)&&af(t,a,n,u),Ir=!1,m=t.memoizedState,a.state=m,Mo(t,n,a,s);var g=t.memoizedState;o!==h||m!==g||mt.current||Ir?(typeof y=="function"&&(ec(t,r,y,n),g=t.memoizedState),(c=Ir||sf(t,r,c,n,m,g,u)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,g,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,g,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),a.props=n,a.state=g,a.context=u,n=c):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return sc(e,t,r,n,i,s)}function sc(e,t,r,n,s,i){Cg(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&Gh(t,r,!1),Er(e,t,i);n=t.stateNode,jw.current=t;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Ys(t,e.child,null,i),t.child=Ys(t,null,o,i)):Ze(e,t,o,i),t.memoizedState=n.state,s&&Gh(t,r,!0),t.child}function Pg(e){var t=e.stateNode;t.pendingContext?Yh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Yh(e,t.context,!1),xd(e,t.containerInfo)}function ff(e,t,r,n,s){return Ks(),md(s),t.flags|=256,Ze(e,t,r,n),t.child}var ic={dehydrated:null,treeContext:null,retryLane:0};function ac(e){return{baseLanes:e,cachePool:null,transitions:null}}function Tg(e,t,r){var n=t.pendingProps,s=we.current,i=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),he(we,s&1),e===null)return Xu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=vl(a,n,0,null),e=Qn(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ac(r),t.memoizedState=ic,e):Cd(t,a));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return Nw(e,t,a,n,o,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,o=s.sibling;var u={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=u,t.deletions=null):(n=fn(s,u),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=fn(o,i):(i=Qn(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?ac(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=ic,n}return i=e.child,e=i.sibling,n=fn(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Cd(e,t){return t=vl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ka(e,t,r,n){return n!==null&&md(n),Ys(t,e.child,null,r),e=Cd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Nw(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=uu(Error(T(422))),Ka(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=vl({mode:"visible",children:n.children},s,0,null),i=Qn(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Ys(t,e.child,null,a),t.child.memoizedState=ac(a),t.memoizedState=ic,i);if(!(t.mode&1))return Ka(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(T(419)),n=uu(i,n,void 0),Ka(e,t,a,n)}if(o=(a&e.childLanes)!==0,ft||o){if(n=Ie,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Nr(e,s),Qt(n,e,s,-1))}return Dd(),n=uu(Error(T(421))),Ka(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Iw.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,vt=un(s.nextSibling),wt=t,ye=!0,qt=null,e!==null&&(Pt[Tt++]=xr,Pt[Tt++]=_r,Pt[Tt++]=Yn,xr=e.id,_r=e.overflow,Yn=t),t=Cd(t,n.children),t.flags|=4096,t)}function mf(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Zu(e.return,t,r)}function cu(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Og(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Ze(e,t,n.children,r),n=we.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mf(e,r,t);else if(e.tag===19)mf(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(he(we,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Fo(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),cu(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Fo(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}cu(t,!0,r,null,i);break;case"together":cu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function mo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Er(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Jn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(T(153));if(t.child!==null){for(e=t.child,r=fn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=fn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Ew(e,t,r){switch(t.tag){case 3:Pg(t),Ks();break;case 5:ng(t);break;case 1:pt(t.type)&&Ro(t);break;case 4:xd(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;he(Lo,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(he(we,we.current&1),t.flags|=128,null):r&t.child.childLanes?Tg(e,t,r):(he(we,we.current&1),e=Er(e,t,r),e!==null?e.sibling:null);he(we,we.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Og(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),he(we,we.current),n)break;return null;case 22:case 23:return t.lanes=0,Eg(e,t,r)}return Er(e,t,r)}var Rg,oc,Ag,Dg;Rg=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};oc=function(){};Ag=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Dn(ir.current);var i=null;switch(r){case"input":s=Pu(e,s),n=Pu(e,n),i=[];break;case"select":s=_e({},s,{value:void 0}),n=_e({},n,{value:void 0}),i=[];break;case"textarea":s=Ru(e,s),n=Ru(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=To)}Du(r,n);var a;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var o=s[c];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Wi.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var u=n[c];if(o=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&u!==o&&(u!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in u)u.hasOwnProperty(a)&&o[a]!==u[a]&&(r||(r={}),r[a]=u[a])}else r||(i||(i=[]),i.push(c,r)),r=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,o=o?o.__html:void 0,u!=null&&o!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Wi.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&fe("scroll",e),i||o===u||(i=[])):(i=i||[]).push(c,u))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Dg=function(e,t,r,n){r!==n&&(t.flags|=4)};function yi(e,t){if(!ye)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Cw(e,t,r){var n=t.pendingProps;switch(fd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(t),null;case 1:return pt(t.type)&&Oo(),Qe(t),null;case 3:return n=t.stateNode,Gs(),pe(mt),pe(Ge),bd(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ha(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,qt!==null&&(pc(qt),qt=null))),oc(e,t),Qe(t),null;case 5:_d(t);var s=Dn(na.current);if(r=t.type,e!==null&&t.stateNode!=null)Ag(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(T(166));return Qe(t),null}if(e=Dn(ir.current),Ha(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[rr]=t,n[ta]=i,e=(t.mode&1)!==0,r){case"dialog":fe("cancel",n),fe("close",n);break;case"iframe":case"object":case"embed":fe("load",n);break;case"video":case"audio":for(s=0;s<Ei.length;s++)fe(Ei[s],n);break;case"source":fe("error",n);break;case"img":case"image":case"link":fe("error",n),fe("load",n);break;case"details":fe("toggle",n);break;case"input":bh(n,i),fe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},fe("invalid",n);break;case"textarea":kh(n,i),fe("invalid",n)}Du(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Wa(n.textContent,o,e),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Wa(n.textContent,o,e),s=["children",""+o]):Wi.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&fe("scroll",n)}switch(r){case"input":Ma(n),Sh(n,i,!0);break;case"textarea":Ma(n),jh(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=To)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=lp(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[rr]=t,e[ta]=n,Rg(e,t,!1,!1),t.stateNode=e;e:{switch(a=Lu(r,n),r){case"dialog":fe("cancel",e),fe("close",e),s=n;break;case"iframe":case"object":case"embed":fe("load",e),s=n;break;case"video":case"audio":for(s=0;s<Ei.length;s++)fe(Ei[s],e);s=n;break;case"source":fe("error",e),s=n;break;case"img":case"image":case"link":fe("error",e),fe("load",e),s=n;break;case"details":fe("toggle",e),s=n;break;case"input":bh(e,n),s=Pu(e,n),fe("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=_e({},n,{value:void 0}),fe("invalid",e);break;case"textarea":kh(e,n),s=Ru(e,n),fe("invalid",e);break;default:s=n}Du(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var u=o[i];i==="style"?dp(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&up(e,u)):i==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&Hi(e,u):typeof u=="number"&&Hi(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Wi.hasOwnProperty(i)?u!=null&&i==="onScroll"&&fe("scroll",e):u!=null&&Xc(e,i,u,a))}switch(r){case"input":Ma(e),Sh(e,n,!1);break;case"textarea":Ma(e),jh(e);break;case"option":n.value!=null&&e.setAttribute("value",""+gn(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Cs(e,!!n.multiple,i,!1):n.defaultValue!=null&&Cs(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=To)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Qe(t),null;case 6:if(e&&t.stateNode!=null)Dg(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(T(166));if(r=Dn(na.current),Dn(ir.current),Ha(t)){if(n=t.stateNode,r=t.memoizedProps,n[rr]=t,(i=n.nodeValue!==r)&&(e=wt,e!==null))switch(e.tag){case 3:Wa(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Wa(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[rr]=t,t.stateNode=n}return Qe(t),null;case 13:if(pe(we),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ye&&vt!==null&&t.mode&1&&!(t.flags&128))Xp(),Ks(),t.flags|=98560,i=!1;else if(i=Ha(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(T(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(T(317));i[rr]=t}else Ks(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Qe(t),i=!1}else qt!==null&&(pc(qt),qt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||we.current&1?Le===0&&(Le=3):Dd())),t.updateQueue!==null&&(t.flags|=4),Qe(t),null);case 4:return Gs(),oc(e,t),e===null&&Zi(t.stateNode.containerInfo),Qe(t),null;case 10:return yd(t.type._context),Qe(t),null;case 17:return pt(t.type)&&Oo(),Qe(t),null;case 19:if(pe(we),i=t.memoizedState,i===null)return Qe(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)yi(i,!1);else{if(Le!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Fo(e),a!==null){for(t.flags|=128,yi(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return he(we,we.current&1|2),t.child}e=e.sibling}i.tail!==null&&ke()>Xs&&(t.flags|=128,n=!0,yi(i,!1),t.lanes=4194304)}else{if(!n)if(e=Fo(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),yi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!ye)return Qe(t),null}else 2*ke()-i.renderingStartTime>Xs&&r!==1073741824&&(t.flags|=128,n=!0,yi(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ke(),t.sibling=null,r=we.current,he(we,n?r&1|2:r&1),t):(Qe(t),null);case 22:case 23:return Ad(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?yt&1073741824&&(Qe(t),t.subtreeFlags&6&&(t.flags|=8192)):Qe(t),null;case 24:return null;case 25:return null}throw Error(T(156,t.tag))}function Pw(e,t){switch(fd(t),t.tag){case 1:return pt(t.type)&&Oo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Gs(),pe(mt),pe(Ge),bd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return _d(t),null;case 13:if(pe(we),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(T(340));Ks()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return pe(we),null;case 4:return Gs(),null;case 10:return yd(t.type._context),null;case 22:case 23:return Ad(),null;case 24:return null;default:return null}}var Ya=!1,Ye=!1,Tw=typeof WeakSet=="function"?WeakSet:Set,F=null;function Ns(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Se(e,t,n)}else r.current=null}function lc(e,t,r){try{r()}catch(n){Se(e,t,n)}}var pf=!1;function Ow(e,t){if(Wu=Eo,e=Ip(),dd(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,o=-1,u=-1,c=0,d=0,h=e,m=null;t:for(;;){for(var y;h!==r||s!==0&&h.nodeType!==3||(o=a+s),h!==i||n!==0&&h.nodeType!==3||(u=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(y=h.firstChild)!==null;)m=h,h=y;for(;;){if(h===e)break t;if(m===r&&++c===s&&(o=a),m===i&&++d===n&&(u=a),(y=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=y}r=o===-1||u===-1?null:{start:o,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(Hu={focusedElem:e,selectionRange:r},Eo=!1,F=t;F!==null;)if(t=F,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,F=e;else for(;F!==null;){t=F;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var w=g.memoizedProps,b=g.memoizedState,v=t.stateNode,f=v.getSnapshotBeforeUpdate(t.elementType===t.type?w:Ft(t.type,w),b);v.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(S){Se(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,F=e;break}F=t.return}return g=pf,pf=!1,g}function $i(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&lc(t,r,i)}s=s.next}while(s!==n)}}function gl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function uc(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Lg(e){var t=e.alternate;t!==null&&(e.alternate=null,Lg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[rr],delete t[ta],delete t[Yu],delete t[fw],delete t[mw])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function $g(e){return e.tag===5||e.tag===3||e.tag===4}function gf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||$g(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=To));else if(n!==4&&(e=e.child,e!==null))for(cc(e,t,r),e=e.sibling;e!==null;)cc(e,t,r),e=e.sibling}function dc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(dc(e,t,r),e=e.sibling;e!==null;)dc(e,t,r),e=e.sibling}var ze=null,Bt=!1;function Ar(e,t,r){for(r=r.child;r!==null;)Mg(e,t,r),r=r.sibling}function Mg(e,t,r){if(sr&&typeof sr.onCommitFiberUnmount=="function")try{sr.onCommitFiberUnmount(ll,r)}catch{}switch(r.tag){case 5:Ye||Ns(r,t);case 6:var n=ze,s=Bt;ze=null,Ar(e,t,r),ze=n,Bt=s,ze!==null&&(Bt?(e=ze,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ze.removeChild(r.stateNode));break;case 18:ze!==null&&(Bt?(e=ze,r=r.stateNode,e.nodeType===8?nu(e.parentNode,r):e.nodeType===1&&nu(e,r),Gi(e)):nu(ze,r.stateNode));break;case 4:n=ze,s=Bt,ze=r.stateNode.containerInfo,Bt=!0,Ar(e,t,r),ze=n,Bt=s;break;case 0:case 11:case 14:case 15:if(!Ye&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&lc(r,t,a),s=s.next}while(s!==n)}Ar(e,t,r);break;case 1:if(!Ye&&(Ns(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Se(r,t,o)}Ar(e,t,r);break;case 21:Ar(e,t,r);break;case 22:r.mode&1?(Ye=(n=Ye)||r.memoizedState!==null,Ar(e,t,r),Ye=n):Ar(e,t,r);break;default:Ar(e,t,r)}}function yf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Tw),t.forEach(function(n){var s=Uw.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function $t(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:ze=o.stateNode,Bt=!1;break e;case 3:ze=o.stateNode.containerInfo,Bt=!0;break e;case 4:ze=o.stateNode.containerInfo,Bt=!0;break e}o=o.return}if(ze===null)throw Error(T(160));Mg(i,a,s),ze=null,Bt=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){Se(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Fg(t,e),t=t.sibling}function Fg(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if($t(t,e),Gt(e),n&4){try{$i(3,e,e.return),gl(3,e)}catch(w){Se(e,e.return,w)}try{$i(5,e,e.return)}catch(w){Se(e,e.return,w)}}break;case 1:$t(t,e),Gt(e),n&512&&r!==null&&Ns(r,r.return);break;case 5:if($t(t,e),Gt(e),n&512&&r!==null&&Ns(r,r.return),e.flags&32){var s=e.stateNode;try{Hi(s,"")}catch(w){Se(e,e.return,w)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,o=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&ap(s,i),Lu(o,a);var c=Lu(o,i);for(a=0;a<u.length;a+=2){var d=u[a],h=u[a+1];d==="style"?dp(s,h):d==="dangerouslySetInnerHTML"?up(s,h):d==="children"?Hi(s,h):Xc(s,d,h,c)}switch(o){case"input":Tu(s,i);break;case"textarea":op(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Cs(s,!!i.multiple,y,!1):m!==!!i.multiple&&(i.defaultValue!=null?Cs(s,!!i.multiple,i.defaultValue,!0):Cs(s,!!i.multiple,i.multiple?[]:"",!1))}s[ta]=i}catch(w){Se(e,e.return,w)}}break;case 6:if($t(t,e),Gt(e),n&4){if(e.stateNode===null)throw Error(T(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){Se(e,e.return,w)}}break;case 3:if($t(t,e),Gt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Gi(t.containerInfo)}catch(w){Se(e,e.return,w)}break;case 4:$t(t,e),Gt(e);break;case 13:$t(t,e),Gt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Od=ke())),n&4&&yf(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Ye=(c=Ye)||d,$t(t,e),Ye=c):$t(t,e),Gt(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(F=e,d=e.child;d!==null;){for(h=F=d;F!==null;){switch(m=F,y=m.child,m.tag){case 0:case 11:case 14:case 15:$i(4,m,m.return);break;case 1:Ns(m,m.return);var g=m.stateNode;if(typeof g.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(w){Se(n,r,w)}}break;case 5:Ns(m,m.return);break;case 22:if(m.memoizedState!==null){wf(h);continue}}y!==null?(y.return=m,F=y):wf(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=h.stateNode,u=h.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,o.style.display=cp("display",a))}catch(w){Se(e,e.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(w){Se(e,e.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:$t(t,e),Gt(e),n&4&&yf(e);break;case 21:break;default:$t(t,e),Gt(e)}}function Gt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if($g(r)){var n=r;break e}r=r.return}throw Error(T(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Hi(s,""),n.flags&=-33);var i=gf(e);dc(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,o=gf(e);cc(e,o,a);break;default:throw Error(T(161))}}catch(u){Se(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Rw(e,t,r){F=e,Ig(e)}function Ig(e,t,r){for(var n=(e.mode&1)!==0;F!==null;){var s=F,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||Ya;if(!a){var o=s.alternate,u=o!==null&&o.memoizedState!==null||Ye;o=Ya;var c=Ye;if(Ya=a,(Ye=u)&&!c)for(F=s;F!==null;)a=F,u=a.child,a.tag===22&&a.memoizedState!==null?xf(s):u!==null?(u.return=a,F=u):xf(s);for(;i!==null;)F=i,Ig(i),i=i.sibling;F=s,Ya=o,Ye=c}vf(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,F=i):vf(e)}}function vf(e){for(;F!==null;){var t=F;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ye||gl(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ye)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Ft(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&tf(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}tf(t,a,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Gi(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}Ye||t.flags&512&&uc(t)}catch(m){Se(t,t.return,m)}}if(t===e){F=null;break}if(r=t.sibling,r!==null){r.return=t.return,F=r;break}F=t.return}}function wf(e){for(;F!==null;){var t=F;if(t===e){F=null;break}var r=t.sibling;if(r!==null){r.return=t.return,F=r;break}F=t.return}}function xf(e){for(;F!==null;){var t=F;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{gl(4,t)}catch(u){Se(t,r,u)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(u){Se(t,s,u)}}var i=t.return;try{uc(t)}catch(u){Se(t,i,u)}break;case 5:var a=t.return;try{uc(t)}catch(u){Se(t,a,u)}}}catch(u){Se(t,t.return,u)}if(t===e){F=null;break}var o=t.sibling;if(o!==null){o.return=t.return,F=o;break}F=t.return}}var Aw=Math.ceil,Bo=Tr.ReactCurrentDispatcher,Pd=Tr.ReactCurrentOwner,Rt=Tr.ReactCurrentBatchConfig,te=0,Ie=null,Te=null,qe=0,yt=0,Es=xn(0),Le=0,oa=null,Jn=0,yl=0,Td=0,Mi=null,dt=null,Od=0,Xs=1/0,mr=null,zo=!1,hc=null,dn=null,Ga=!1,rn=null,qo=0,Fi=0,fc=null,po=-1,go=0;function rt(){return te&6?ke():po!==-1?po:po=ke()}function hn(e){return e.mode&1?te&2&&qe!==0?qe&-qe:gw.transition!==null?(go===0&&(go=Sp()),go):(e=ae,e!==0||(e=window.event,e=e===void 0?16:Tp(e.type)),e):1}function Qt(e,t,r,n){if(50<Fi)throw Fi=0,fc=null,Error(T(185));ba(e,r,n),(!(te&2)||e!==Ie)&&(e===Ie&&(!(te&2)&&(yl|=r),Le===4&&Br(e,qe)),gt(e,n),r===1&&te===0&&!(t.mode&1)&&(Xs=ke()+500,fl&&_n()))}function gt(e,t){var r=e.callbackNode;g0(e,t);var n=No(e,e===Ie?qe:0);if(n===0)r!==null&&Ch(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Ch(r),t===1)e.tag===0?pw(_f.bind(null,e)):Yp(_f.bind(null,e)),dw(function(){!(te&6)&&_n()}),r=null;else{switch(kp(n)){case 1:r=nd;break;case 4:r=_p;break;case 16:r=jo;break;case 536870912:r=bp;break;default:r=jo}r=Qg(r,Ug.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Ug(e,t){if(po=-1,go=0,te&6)throw Error(T(327));var r=e.callbackNode;if(As()&&e.callbackNode!==r)return null;var n=No(e,e===Ie?qe:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Vo(e,n);else{t=n;var s=te;te|=2;var i=zg();(Ie!==e||qe!==t)&&(mr=null,Xs=ke()+500,Hn(e,t));do try{$w();break}catch(o){Bg(e,o)}while(!0);gd(),Bo.current=i,te=s,Te!==null?t=0:(Ie=null,qe=0,t=Le)}if(t!==0){if(t===2&&(s=Uu(e),s!==0&&(n=s,t=mc(e,s))),t===1)throw r=oa,Hn(e,0),Br(e,n),gt(e,ke()),r;if(t===6)Br(e,n);else{if(s=e.current.alternate,!(n&30)&&!Dw(s)&&(t=Vo(e,n),t===2&&(i=Uu(e),i!==0&&(n=i,t=mc(e,i))),t===1))throw r=oa,Hn(e,0),Br(e,n),gt(e,ke()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(T(345));case 2:Cn(e,dt,mr);break;case 3:if(Br(e,n),(n&130023424)===n&&(t=Od+500-ke(),10<t)){if(No(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){rt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Ku(Cn.bind(null,e,dt,mr),t);break}Cn(e,dt,mr);break;case 4:if(Br(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-Ht(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=ke()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Aw(n/1960))-n,10<n){e.timeoutHandle=Ku(Cn.bind(null,e,dt,mr),n);break}Cn(e,dt,mr);break;case 5:Cn(e,dt,mr);break;default:throw Error(T(329))}}}return gt(e,ke()),e.callbackNode===r?Ug.bind(null,e):null}function mc(e,t){var r=Mi;return e.current.memoizedState.isDehydrated&&(Hn(e,t).flags|=256),e=Vo(e,t),e!==2&&(t=dt,dt=r,t!==null&&pc(t)),e}function pc(e){dt===null?dt=e:dt.push.apply(dt,e)}function Dw(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Kt(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Br(e,t){for(t&=~Td,t&=~yl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ht(t),n=1<<r;e[r]=-1,t&=~n}}function _f(e){if(te&6)throw Error(T(327));As();var t=No(e,0);if(!(t&1))return gt(e,ke()),null;var r=Vo(e,t);if(e.tag!==0&&r===2){var n=Uu(e);n!==0&&(t=n,r=mc(e,n))}if(r===1)throw r=oa,Hn(e,0),Br(e,t),gt(e,ke()),r;if(r===6)throw Error(T(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cn(e,dt,mr),gt(e,ke()),null}function Rd(e,t){var r=te;te|=1;try{return e(t)}finally{te=r,te===0&&(Xs=ke()+500,fl&&_n())}}function Xn(e){rn!==null&&rn.tag===0&&!(te&6)&&As();var t=te;te|=1;var r=Rt.transition,n=ae;try{if(Rt.transition=null,ae=1,e)return e()}finally{ae=n,Rt.transition=r,te=t,!(te&6)&&_n()}}function Ad(){yt=Es.current,pe(Es)}function Hn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,cw(r)),Te!==null)for(r=Te.return;r!==null;){var n=r;switch(fd(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Oo();break;case 3:Gs(),pe(mt),pe(Ge),bd();break;case 5:_d(n);break;case 4:Gs();break;case 13:pe(we);break;case 19:pe(we);break;case 10:yd(n.type._context);break;case 22:case 23:Ad()}r=r.return}if(Ie=e,Te=e=fn(e.current,null),qe=yt=t,Le=0,oa=null,Td=yl=Jn=0,dt=Mi=null,An!==null){for(t=0;t<An.length;t++)if(r=An[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}An=null}return e}function Bg(e,t){do{var r=Te;try{if(gd(),ho.current=Uo,Io){for(var n=xe.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Io=!1}if(Gn=0,Fe=Ae=xe=null,Li=!1,sa=0,Pd.current=null,r===null||r.return===null){Le=1,oa=t,Te=null;break}e:{var i=e,a=r.return,o=r,u=t;if(t=qe,o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=lf(a);if(y!==null){y.flags&=-257,uf(y,a,o,i,t),y.mode&1&&of(i,c,t),t=y,u=c;var g=t.updateQueue;if(g===null){var w=new Set;w.add(u),t.updateQueue=w}else g.add(u);break e}else{if(!(t&1)){of(i,c,t),Dd();break e}u=Error(T(426))}}else if(ye&&o.mode&1){var b=lf(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),uf(b,a,o,i,t),md(Js(u,o));break e}}i=u=Js(u,o),Le!==4&&(Le=2),Mi===null?Mi=[i]:Mi.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=kg(i,u,t);ef(i,v);break e;case 1:o=u;var f=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(dn===null||!dn.has(p)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=jg(i,o,t);ef(i,S);break e}}i=i.return}while(i!==null)}Vg(r)}catch(N){t=N,Te===r&&r!==null&&(Te=r=r.return);continue}break}while(!0)}function zg(){var e=Bo.current;return Bo.current=Uo,e===null?Uo:e}function Dd(){(Le===0||Le===3||Le===2)&&(Le=4),Ie===null||!(Jn&268435455)&&!(yl&268435455)||Br(Ie,qe)}function Vo(e,t){var r=te;te|=2;var n=zg();(Ie!==e||qe!==t)&&(mr=null,Hn(e,t));do try{Lw();break}catch(s){Bg(e,s)}while(!0);if(gd(),te=r,Bo.current=n,Te!==null)throw Error(T(261));return Ie=null,qe=0,Le}function Lw(){for(;Te!==null;)qg(Te)}function $w(){for(;Te!==null&&!o0();)qg(Te)}function qg(e){var t=Hg(e.alternate,e,yt);e.memoizedProps=e.pendingProps,t===null?Vg(e):Te=t,Pd.current=null}function Vg(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Pw(r,t),r!==null){r.flags&=32767,Te=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Le=6,Te=null;return}}else if(r=Cw(r,t,yt),r!==null){Te=r;return}if(t=t.sibling,t!==null){Te=t;return}Te=t=e}while(t!==null);Le===0&&(Le=5)}function Cn(e,t,r){var n=ae,s=Rt.transition;try{Rt.transition=null,ae=1,Mw(e,t,r,n)}finally{Rt.transition=s,ae=n}return null}function Mw(e,t,r,n){do As();while(rn!==null);if(te&6)throw Error(T(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(T(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(y0(e,i),e===Ie&&(Te=Ie=null,qe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ga||(Ga=!0,Qg(jo,function(){return As(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Rt.transition,Rt.transition=null;var a=ae;ae=1;var o=te;te|=4,Pd.current=null,Ow(e,r),Fg(r,e),nw(Hu),Eo=!!Wu,Hu=Wu=null,e.current=r,Rw(r),l0(),te=o,ae=a,Rt.transition=i}else e.current=r;if(Ga&&(Ga=!1,rn=e,qo=s),i=e.pendingLanes,i===0&&(dn=null),d0(r.stateNode),gt(e,ke()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(zo)throw zo=!1,e=hc,hc=null,e;return qo&1&&e.tag!==0&&As(),i=e.pendingLanes,i&1?e===fc?Fi++:(Fi=0,fc=e):Fi=0,_n(),null}function As(){if(rn!==null){var e=kp(qo),t=Rt.transition,r=ae;try{if(Rt.transition=null,ae=16>e?16:e,rn===null)var n=!1;else{if(e=rn,rn=null,qo=0,te&6)throw Error(T(331));var s=te;for(te|=4,F=e.current;F!==null;){var i=F,a=i.child;if(F.flags&16){var o=i.deletions;if(o!==null){for(var u=0;u<o.length;u++){var c=o[u];for(F=c;F!==null;){var d=F;switch(d.tag){case 0:case 11:case 15:$i(8,d,i)}var h=d.child;if(h!==null)h.return=d,F=h;else for(;F!==null;){d=F;var m=d.sibling,y=d.return;if(Lg(d),d===c){F=null;break}if(m!==null){m.return=y,F=m;break}F=y}}}var g=i.alternate;if(g!==null){var w=g.child;if(w!==null){g.child=null;do{var b=w.sibling;w.sibling=null,w=b}while(w!==null)}}F=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,F=a;else e:for(;F!==null;){if(i=F,i.flags&2048)switch(i.tag){case 0:case 11:case 15:$i(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,F=v;break e}F=i.return}}var f=e.current;for(F=f;F!==null;){a=F;var p=a.child;if(a.subtreeFlags&2064&&p!==null)p.return=a,F=p;else e:for(a=f;F!==null;){if(o=F,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:gl(9,o)}}catch(N){Se(o,o.return,N)}if(o===a){F=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,F=S;break e}F=o.return}}if(te=s,_n(),sr&&typeof sr.onPostCommitFiberRoot=="function")try{sr.onPostCommitFiberRoot(ll,e)}catch{}n=!0}return n}finally{ae=r,Rt.transition=t}}return!1}function bf(e,t,r){t=Js(r,t),t=kg(e,t,1),e=cn(e,t,1),t=rt(),e!==null&&(ba(e,1,t),gt(e,t))}function Se(e,t,r){if(e.tag===3)bf(e,e,r);else for(;t!==null;){if(t.tag===3){bf(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(dn===null||!dn.has(n))){e=Js(r,e),e=jg(t,e,1),t=cn(t,e,1),e=rt(),t!==null&&(ba(t,1,e),gt(t,e));break}}t=t.return}}function Fw(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=rt(),e.pingedLanes|=e.suspendedLanes&r,Ie===e&&(qe&r)===r&&(Le===4||Le===3&&(qe&130023424)===qe&&500>ke()-Od?Hn(e,0):Td|=r),gt(e,t)}function Wg(e,t){t===0&&(e.mode&1?(t=Ua,Ua<<=1,!(Ua&130023424)&&(Ua=4194304)):t=1);var r=rt();e=Nr(e,t),e!==null&&(ba(e,t,r),gt(e,r))}function Iw(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Wg(e,r)}function Uw(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(T(314))}n!==null&&n.delete(t),Wg(e,r)}var Hg;Hg=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||mt.current)ft=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ft=!1,Ew(e,t,r);ft=!!(e.flags&131072)}else ft=!1,ye&&t.flags&1048576&&Gp(t,Do,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;mo(e,t),e=t.pendingProps;var s=Qs(t,Ge.current);Rs(t,r),s=kd(null,t,n,e,s,r);var i=jd();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,pt(n)?(i=!0,Ro(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,wd(t),s.updater=pl,t.stateNode=s,s._reactInternals=t,tc(t,n,e,r),t=sc(null,t,n,!0,i,r)):(t.tag=0,ye&&i&&hd(t),Ze(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(mo(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=zw(n),e=Ft(n,e),s){case 0:t=nc(null,t,n,e,r);break e;case 1:t=hf(null,t,n,e,r);break e;case 11:t=cf(null,t,n,e,r);break e;case 14:t=df(null,t,n,Ft(n.type,e),r);break e}throw Error(T(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ft(n,s),nc(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ft(n,s),hf(e,t,n,s,r);case 3:e:{if(Pg(t),e===null)throw Error(T(387));n=t.pendingProps,i=t.memoizedState,s=i.element,rg(e,t),Mo(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Js(Error(T(423)),t),t=ff(e,t,n,r,s);break e}else if(n!==s){s=Js(Error(T(424)),t),t=ff(e,t,n,r,s);break e}else for(vt=un(t.stateNode.containerInfo.firstChild),wt=t,ye=!0,qt=null,r=eg(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ks(),n===s){t=Er(e,t,r);break e}Ze(e,t,n,r)}t=t.child}return t;case 5:return ng(t),e===null&&Xu(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,Qu(n,s)?a=null:i!==null&&Qu(n,i)&&(t.flags|=32),Cg(e,t),Ze(e,t,a,r),t.child;case 6:return e===null&&Xu(t),null;case 13:return Tg(e,t,r);case 4:return xd(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ys(t,null,n,r):Ze(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ft(n,s),cf(e,t,n,s,r);case 7:return Ze(e,t,t.pendingProps,r),t.child;case 8:return Ze(e,t,t.pendingProps.children,r),t.child;case 12:return Ze(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,he(Lo,n._currentValue),n._currentValue=a,i!==null)if(Kt(i.value,a)){if(i.children===s.children&&!mt.current){t=Er(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var u=o.firstContext;u!==null;){if(u.context===n){if(i.tag===1){u=br(-1,r&-r),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=r,u=i.alternate,u!==null&&(u.lanes|=r),Zu(i.return,r,t),o.lanes|=r;break}u=u.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(T(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),Zu(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Ze(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Rs(t,r),s=Dt(s),n=n(s),t.flags|=1,Ze(e,t,n,r),t.child;case 14:return n=t.type,s=Ft(n,t.pendingProps),s=Ft(n.type,s),df(e,t,n,s,r);case 15:return Ng(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ft(n,s),mo(e,t),t.tag=1,pt(n)?(e=!0,Ro(t)):e=!1,Rs(t,r),Sg(t,n,s),tc(t,n,s,r),sc(null,t,n,!0,e,r);case 19:return Og(e,t,r);case 22:return Eg(e,t,r)}throw Error(T(156,t.tag))};function Qg(e,t){return xp(e,t)}function Bw(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ot(e,t,r,n){return new Bw(e,t,r,n)}function Ld(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zw(e){if(typeof e=="function")return Ld(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ed)return 11;if(e===td)return 14}return 2}function fn(e,t){var r=e.alternate;return r===null?(r=Ot(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function yo(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")Ld(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case ys:return Qn(r.children,s,i,t);case Zc:a=8,s|=8;break;case ju:return e=Ot(12,r,t,s|2),e.elementType=ju,e.lanes=i,e;case Nu:return e=Ot(13,r,t,s),e.elementType=Nu,e.lanes=i,e;case Eu:return e=Ot(19,r,t,s),e.elementType=Eu,e.lanes=i,e;case np:return vl(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case tp:a=10;break e;case rp:a=9;break e;case ed:a=11;break e;case td:a=14;break e;case Fr:a=16,n=null;break e}throw Error(T(130,e==null?e:typeof e,""))}return t=Ot(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Qn(e,t,r,n){return e=Ot(7,e,n,t),e.lanes=r,e}function vl(e,t,r,n){return e=Ot(22,e,n,t),e.elementType=np,e.lanes=r,e.stateNode={isHidden:!1},e}function du(e,t,r){return e=Ot(6,e,null,t),e.lanes=r,e}function hu(e,t,r){return t=Ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qw(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hl(0),this.expirationTimes=Hl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hl(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function $d(e,t,r,n,s,i,a,o,u){return e=new qw(e,t,r,o,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ot(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},wd(i),e}function Vw(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gs,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Kg(e){if(!e)return yn;e=e._reactInternals;e:{if(rs(e)!==e||e.tag!==1)throw Error(T(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(pt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(T(171))}if(e.tag===1){var r=e.type;if(pt(r))return Kp(e,r,t)}return t}function Yg(e,t,r,n,s,i,a,o,u){return e=$d(r,n,!0,e,s,i,a,o,u),e.context=Kg(null),r=e.current,n=rt(),s=hn(r),i=br(n,s),i.callback=t??null,cn(r,i,s),e.current.lanes=s,ba(e,s,n),gt(e,n),e}function wl(e,t,r,n){var s=t.current,i=rt(),a=hn(s);return r=Kg(r),t.context===null?t.context=r:t.pendingContext=r,t=br(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=cn(s,t,a),e!==null&&(Qt(e,s,a,i),co(e,s,a)),a}function Wo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Sf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Md(e,t){Sf(e,t),(e=e.alternate)&&Sf(e,t)}function Ww(){return null}var Gg=typeof reportError=="function"?reportError:function(e){console.error(e)};function Fd(e){this._internalRoot=e}xl.prototype.render=Fd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(T(409));wl(e,t,null,null)};xl.prototype.unmount=Fd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xn(function(){wl(null,e,null,null)}),t[jr]=null}};function xl(e){this._internalRoot=e}xl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ep();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ur.length&&t!==0&&t<Ur[r].priority;r++);Ur.splice(r,0,e),r===0&&Pp(e)}};function Id(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function _l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function kf(){}function Hw(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=Wo(a);i.call(c)}}var a=Yg(t,n,e,0,null,!1,!1,"",kf);return e._reactRootContainer=a,e[jr]=a.current,Zi(e.nodeType===8?e.parentNode:e),Xn(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var c=Wo(u);o.call(c)}}var u=$d(e,0,!1,null,null,!1,!1,"",kf);return e._reactRootContainer=u,e[jr]=u.current,Zi(e.nodeType===8?e.parentNode:e),Xn(function(){wl(t,u,r,n)}),u}function bl(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var u=Wo(a);o.call(u)}}wl(t,a,e,s)}else a=Hw(r,t,e,s,n);return Wo(a)}jp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ni(t.pendingLanes);r!==0&&(sd(t,r|1),gt(t,ke()),!(te&6)&&(Xs=ke()+500,_n()))}break;case 13:Xn(function(){var n=Nr(e,1);if(n!==null){var s=rt();Qt(n,e,1,s)}}),Md(e,1)}};id=function(e){if(e.tag===13){var t=Nr(e,134217728);if(t!==null){var r=rt();Qt(t,e,134217728,r)}Md(e,134217728)}};Np=function(e){if(e.tag===13){var t=hn(e),r=Nr(e,t);if(r!==null){var n=rt();Qt(r,e,t,n)}Md(e,t)}};Ep=function(){return ae};Cp=function(e,t){var r=ae;try{return ae=e,t()}finally{ae=r}};Mu=function(e,t,r){switch(t){case"input":if(Tu(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=hl(n);if(!s)throw Error(T(90));ip(n),Tu(n,s)}}}break;case"textarea":op(e,r);break;case"select":t=r.value,t!=null&&Cs(e,!!r.multiple,t,!1)}};mp=Rd;pp=Xn;var Qw={usingClientEntryPoint:!1,Events:[ka,_s,hl,hp,fp,Rd]},vi={findFiberByHostInstance:Rn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Kw={bundleType:vi.bundleType,version:vi.version,rendererPackageName:vi.rendererPackageName,rendererConfig:vi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=vp(e),e===null?null:e.stateNode},findFiberByHostInstance:vi.findFiberByHostInstance||Ww,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ja=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ja.isDisabled&&Ja.supportsFiber)try{ll=Ja.inject(Kw),sr=Ja}catch{}}_t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qw;_t.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Id(t))throw Error(T(200));return Vw(e,t,null,r)};_t.createRoot=function(e,t){if(!Id(e))throw Error(T(299));var r=!1,n="",s=Gg;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=$d(e,1,!1,null,null,r,!1,n,s),e[jr]=t.current,Zi(e.nodeType===8?e.parentNode:e),new Fd(t)};_t.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(T(188)):(e=Object.keys(e).join(","),Error(T(268,e)));return e=vp(t),e=e===null?null:e.stateNode,e};_t.flushSync=function(e){return Xn(e)};_t.hydrate=function(e,t,r){if(!_l(t))throw Error(T(200));return bl(null,e,t,!0,r)};_t.hydrateRoot=function(e,t,r){if(!Id(e))throw Error(T(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=Gg;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=Yg(t,null,e,1,r??null,s,!1,i,a),e[jr]=t.current,Zi(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new xl(t)};_t.render=function(e,t,r){if(!_l(t))throw Error(T(200));return bl(null,e,t,!1,r)};_t.unmountComponentAtNode=function(e){if(!_l(e))throw Error(T(40));return e._reactRootContainer?(Xn(function(){bl(null,null,e,!1,function(){e._reactRootContainer=null,e[jr]=null})}),!0):!1};_t.unstable_batchedUpdates=Rd;_t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!_l(r))throw Error(T(200));if(e==null||e._reactInternals===void 0)throw Error(T(38));return bl(e,t,r,!1,n)};_t.version="18.3.1-next-f1338f8080-20240426";function Jg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Jg)}catch(e){console.error(e)}}Jg(),Jm.exports=_t;var Yw=Jm.exports,Xg,jf=Yw;Xg=jf.createRoot,jf.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function la(){return la=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},la.apply(this,arguments)}var nn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(nn||(nn={}));const Nf="popstate";function Gw(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:a,hash:o}=n.location;return gc("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Ho(s)}return Xw(t,r,null,e)}function je(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Zg(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Jw(){return Math.random().toString(36).substr(2,8)}function Ef(e,t){return{usr:e.state,key:e.key,idx:t}}function gc(e,t,r,n){return r===void 0&&(r=null),la({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?si(t):t,{state:r,key:t&&t.key||n||Jw()})}function Ho(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function si(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Xw(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,o=nn.Pop,u=null,c=d();c==null&&(c=0,a.replaceState(la({},a.state,{idx:c}),""));function d(){return(a.state||{idx:null}).idx}function h(){o=nn.Pop;let b=d(),v=b==null?null:b-c;c=b,u&&u({action:o,location:w.location,delta:v})}function m(b,v){o=nn.Push;let f=gc(w.location,b,v);c=d()+1;let p=Ef(f,c),S=w.createHref(f);try{a.pushState(p,"",S)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(S)}i&&u&&u({action:o,location:w.location,delta:1})}function y(b,v){o=nn.Replace;let f=gc(w.location,b,v);c=d();let p=Ef(f,c),S=w.createHref(f);a.replaceState(p,"",S),i&&u&&u({action:o,location:w.location,delta:0})}function g(b){let v=s.location.origin!=="null"?s.location.origin:s.location.href,f=typeof b=="string"?b:Ho(b);return f=f.replace(/ $/,"%20"),je(v,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,v)}let w={get action(){return o},get location(){return e(s,a)},listen(b){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(Nf,h),u=b,()=>{s.removeEventListener(Nf,h),u=null}},createHref(b){return t(s,b)},createURL:g,encodeLocation(b){let v=g(b);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:m,replace:y,go(b){return a.go(b)}};return w}var Cf;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Cf||(Cf={}));function Zw(e,t,r){return r===void 0&&(r="/"),ex(e,t,r)}function ex(e,t,r,n){let s=typeof t=="string"?si(t):t,i=Ud(s.pathname||"/",r);if(i==null)return null;let a=ey(e);tx(a);let o=null;for(let u=0;o==null&&u<a.length;++u){let c=fx(i);o=cx(a[u],c)}return o}function ey(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,a,o)=>{let u={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};u.relativePath.startsWith("/")&&(je(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let c=mn([n,u.relativePath]),d=r.concat(u);i.children&&i.children.length>0&&(je(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),ey(i.children,t,d,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:lx(c,i.index),routesMeta:d})};return e.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let u of ty(i.path))s(i,a,u)}),t}function ty(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=ty(n.join("/")),o=[];return o.push(...a.map(u=>u===""?i:[i,u].join("/"))),s&&o.push(...a),o.map(u=>e.startsWith("/")&&u===""?"/":u)}function tx(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:ux(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const rx=/^:[\w-]+$/,nx=3,sx=2,ix=1,ax=10,ox=-2,Pf=e=>e==="*";function lx(e,t){let r=e.split("/"),n=r.length;return r.some(Pf)&&(n+=ox),t&&(n+=sx),r.filter(s=>!Pf(s)).reduce((s,i)=>s+(rx.test(i)?nx:i===""?ix:ax),n)}function ux(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function cx(e,t,r){let{routesMeta:n}=e,s={},i="/",a=[];for(let o=0;o<n.length;++o){let u=n[o],c=o===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=dx({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),m=u.route;if(!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:mn([i,h.pathname]),pathnameBase:yx(mn([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=mn([i,h.pathnameBase]))}return a}function dx(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=hx(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((c,d,h)=>{let{paramName:m,isOptional:y}=d;if(m==="*"){let w=o[h]||"";a=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const g=o[h];return y&&!g?c[m]=void 0:c[m]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:a,pattern:e}}function hx(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Zg(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,u)=>(n.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function fx(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Zg(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ud(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function mx(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?si(e):e;return{pathname:r?r.startsWith("/")?r:px(r,t):t,search:vx(n),hash:wx(s)}}function px(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function fu(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function gx(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Bd(e,t){let r=gx(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function zd(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=si(e):(s=la({},e),je(!s.pathname||!s.pathname.includes("?"),fu("?","pathname","search",s)),je(!s.pathname||!s.pathname.includes("#"),fu("#","pathname","hash",s)),je(!s.search||!s.search.includes("#"),fu("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=r;else{let h=t.length-1;if(!n&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),h-=1;s.pathname=m.join("/")}o=h>=0?t[h]:"/"}let u=mx(s,o),c=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const mn=e=>e.join("/").replace(/\/\/+/g,"/"),yx=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),vx=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,wx=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function xx(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const ry=["post","put","patch","delete"];new Set(ry);const _x=["get",...ry];new Set(_x);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ua(){return ua=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ua.apply(this,arguments)}const qd=k.createContext(null),bx=k.createContext(null),bn=k.createContext(null),Sl=k.createContext(null),or=k.createContext({outlet:null,matches:[],isDataRoute:!1}),ny=k.createContext(null);function Sx(e,t){let{relative:r}=t===void 0?{}:t;ii()||je(!1);let{basename:n,navigator:s}=k.useContext(bn),{hash:i,pathname:a,search:o}=iy(e,{relative:r}),u=a;return n!=="/"&&(u=a==="/"?n:mn([n,a])),s.createHref({pathname:u,search:o,hash:i})}function ii(){return k.useContext(Sl)!=null}function Na(){return ii()||je(!1),k.useContext(Sl).location}function sy(e){k.useContext(bn).static||k.useLayoutEffect(e)}function it(){let{isDataRoute:e}=k.useContext(or);return e?Fx():kx()}function kx(){ii()||je(!1);let e=k.useContext(qd),{basename:t,future:r,navigator:n}=k.useContext(bn),{matches:s}=k.useContext(or),{pathname:i}=Na(),a=JSON.stringify(Bd(s,r.v7_relativeSplatPath)),o=k.useRef(!1);return sy(()=>{o.current=!0}),k.useCallback(function(c,d){if(d===void 0&&(d={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let h=zd(c,JSON.parse(a),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:mn([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,a,i,e])}const jx=k.createContext(null);function Nx(e){let t=k.useContext(or).outlet;return t&&k.createElement(jx.Provider,{value:e},t)}function ai(){let{matches:e}=k.useContext(or),t=e[e.length-1];return t?t.params:{}}function iy(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=k.useContext(bn),{matches:s}=k.useContext(or),{pathname:i}=Na(),a=JSON.stringify(Bd(s,n.v7_relativeSplatPath));return k.useMemo(()=>zd(e,JSON.parse(a),i,r==="path"),[e,a,i,r])}function Ex(e,t){return Cx(e,t)}function Cx(e,t,r,n){ii()||je(!1);let{navigator:s}=k.useContext(bn),{matches:i}=k.useContext(or),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let c=Na(),d;if(t){var h;let b=typeof t=="string"?si(t):t;u==="/"||(h=b.pathname)!=null&&h.startsWith(u)||je(!1),d=b}else d=c;let m=d.pathname||"/",y=m;if(u!=="/"){let b=u.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(b.length).join("/")}let g=Zw(e,{pathname:y}),w=Ax(g&&g.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:mn([u,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?u:mn([u,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,r,n);return t&&w?k.createElement(Sl.Provider,{value:{location:ua({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:nn.Pop}},w):w}function Px(){let e=Mx(),t=xx(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),r?k.createElement("pre",{style:s},r):null,null)}const Tx=k.createElement(Px,null);class Ox extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?k.createElement(or.Provider,{value:this.props.routeContext},k.createElement(ny.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Rx(e){let{routeContext:t,match:r,children:n}=e,s=k.useContext(qd);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),k.createElement(or.Provider,{value:t},n)}function Ax(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,o=(s=r)==null?void 0:s.errors;if(o!=null){let d=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);d>=0||je(!1),a=a.slice(0,Math.min(a.length,d+1))}let u=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:m,errors:y}=r,g=h.route.loader&&m[h.route.id]===void 0&&(!y||y[h.route.id]===void 0);if(h.route.lazy||g){u=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,h,m)=>{let y,g=!1,w=null,b=null;r&&(y=o&&h.route.id?o[h.route.id]:void 0,w=h.route.errorElement||Tx,u&&(c<0&&m===0?(Ix("route-fallback"),g=!0,b=null):c===m&&(g=!0,b=h.route.hydrateFallbackElement||null)));let v=t.concat(a.slice(0,m+1)),f=()=>{let p;return y?p=w:g?p=b:h.route.Component?p=k.createElement(h.route.Component,null):h.route.element?p=h.route.element:p=d,k.createElement(Rx,{match:h,routeContext:{outlet:d,matches:v,isDataRoute:r!=null},children:p})};return r&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?k.createElement(Ox,{location:r.location,revalidation:r.revalidation,component:w,error:y,children:f(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):f()},null)}var ay=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ay||{}),oy=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(oy||{});function Dx(e){let t=k.useContext(qd);return t||je(!1),t}function Lx(e){let t=k.useContext(bx);return t||je(!1),t}function $x(e){let t=k.useContext(or);return t||je(!1),t}function ly(e){let t=$x(),r=t.matches[t.matches.length-1];return r.route.id||je(!1),r.route.id}function Mx(){var e;let t=k.useContext(ny),r=Lx(),n=ly();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Fx(){let{router:e}=Dx(ay.UseNavigateStable),t=ly(oy.UseNavigateStable),r=k.useRef(!1);return sy(()=>{r.current=!0}),k.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ua({fromRouteId:t},i)))},[e,t])}const Tf={};function Ix(e,t,r){Tf[e]||(Tf[e]=!0)}function Ux(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function uy(e){let{to:t,replace:r,state:n,relative:s}=e;ii()||je(!1);let{future:i,static:a}=k.useContext(bn),{matches:o}=k.useContext(or),{pathname:u}=Na(),c=it(),d=zd(t,Bd(o,i.v7_relativeSplatPath),u,s==="path"),h=JSON.stringify(d);return k.useEffect(()=>c(JSON.parse(h),{replace:r,state:n,relative:s}),[c,h,s,r,n]),null}function Bx(e){return Nx(e.context)}function Be(e){je(!1)}function zx(e){let{basename:t="/",children:r=null,location:n,navigationType:s=nn.Pop,navigator:i,static:a=!1,future:o}=e;ii()&&je(!1);let u=t.replace(/^\/*/,"/"),c=k.useMemo(()=>({basename:u,navigator:i,static:a,future:ua({v7_relativeSplatPath:!1},o)}),[u,o,i,a]);typeof n=="string"&&(n=si(n));let{pathname:d="/",search:h="",hash:m="",state:y=null,key:g="default"}=n,w=k.useMemo(()=>{let b=Ud(d,u);return b==null?null:{location:{pathname:b,search:h,hash:m,state:y,key:g},navigationType:s}},[u,d,h,m,y,g,s]);return w==null?null:k.createElement(bn.Provider,{value:c},k.createElement(Sl.Provider,{children:r,value:w}))}function qx(e){let{children:t,location:r}=e;return Ex(yc(t),r)}new Promise(()=>{});function yc(e,t){t===void 0&&(t=[]);let r=[];return k.Children.forEach(e,(n,s)=>{if(!k.isValidElement(n))return;let i=[...t,s];if(n.type===k.Fragment){r.push.apply(r,yc(n.props.children,i));return}n.type!==Be&&je(!1),!n.props.index||!n.props.children||je(!1);let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=yc(n.props.children,i)),r.push(a)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vc(){return vc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vc.apply(this,arguments)}function Vx(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function Wx(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Hx(e,t){return e.button===0&&(!t||t==="_self")&&!Wx(e)}const Qx=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Kx="6";try{window.__reactRouterVersion=Kx}catch{}const Yx="startTransition",Of=Fv[Yx];function Gx(e){let{basename:t,children:r,future:n,window:s}=e,i=k.useRef();i.current==null&&(i.current=Gw({window:s,v5Compat:!0}));let a=i.current,[o,u]=k.useState({action:a.action,location:a.location}),{v7_startTransition:c}=n||{},d=k.useCallback(h=>{c&&Of?Of(()=>u(h)):u(h)},[u,c]);return k.useLayoutEffect(()=>a.listen(d),[a,d]),k.useEffect(()=>Ux(n),[n]),k.createElement(zx,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const Jx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Xx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ca=k.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:a,state:o,target:u,to:c,preventScrollReset:d,viewTransition:h}=t,m=Vx(t,Qx),{basename:y}=k.useContext(bn),g,w=!1;if(typeof c=="string"&&Xx.test(c)&&(g=c,Jx))try{let p=new URL(window.location.href),S=c.startsWith("//")?new URL(p.protocol+c):new URL(c),N=Ud(S.pathname,y);S.origin===p.origin&&N!=null?c=N+S.search+S.hash:w=!0}catch{}let b=Sx(c,{relative:s}),v=Zx(c,{replace:a,state:o,target:u,preventScrollReset:d,relative:s,viewTransition:h});function f(p){n&&n(p),p.defaultPrevented||v(p)}return k.createElement("a",vc({},m,{href:g||b,onClick:w||i?n:f,ref:r,target:u}))});var Rf;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Rf||(Rf={}));var Af;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Af||(Af={}));function Zx(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:a,viewTransition:o}=t===void 0?{}:t,u=it(),c=Na(),d=iy(e,{relative:a});return k.useCallback(h=>{if(Hx(h,r)){h.preventDefault();let m=n!==void 0?n:Ho(c)===Ho(d);u(e,{replace:m,state:s,preventScrollReset:i,relative:a,viewTransition:o})}},[c,u,d,n,s,r,e,i,a,o])}var oi=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Zn=typeof window>"u"||"Deno"in globalThis;function et(){}function e_(e,t){return typeof e=="function"?e(t):e}function wc(e){return typeof e=="number"&&e>=0&&e!==1/0}function cy(e,t){return Math.max(e+(t||0)-Date.now(),0)}function pn(e,t){return typeof e=="function"?e(t):e}function Ct(e,t){return typeof e=="function"?e(t):e}function Df(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:a,stale:o}=e;if(a){if(n){if(t.queryHash!==Vd(a,t.options))return!1}else if(!da(t.queryKey,a))return!1}if(r!=="all"){const u=t.isActive();if(r==="active"&&!u||r==="inactive"&&u)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||s&&s!==t.state.fetchStatus||i&&!i(t))}function Lf(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(es(t.options.mutationKey)!==es(i))return!1}else if(!da(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function Vd(e,t){return((t==null?void 0:t.queryKeyHashFn)||es)(e)}function es(e){return JSON.stringify(e,(t,r)=>xc(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function da(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>da(e[r],t[r])):!1}function dy(e,t){if(e===t)return e;const r=$f(e)&&$f(t);if(r||xc(e)&&xc(t)){const n=r?e:Object.keys(e),s=n.length,i=r?t:Object.keys(t),a=i.length,o=r?[]:{},u=new Set(n);let c=0;for(let d=0;d<a;d++){const h=r?d:i[d];(!r&&u.has(h)||r)&&e[h]===void 0&&t[h]===void 0?(o[h]=void 0,c++):(o[h]=dy(e[h],t[h]),o[h]===e[h]&&e[h]!==void 0&&c++)}return s===a&&c===s?e:o}return t}function Qo(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function $f(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function xc(e){if(!Mf(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Mf(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Mf(e){return Object.prototype.toString.call(e)==="[object Object]"}function t_(e){return new Promise(t=>{setTimeout(t,e)})}function _c(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?dy(e,t):t}function r_(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function n_(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Wd=Symbol();function hy(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Wd?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function fy(e,t){return typeof e=="function"?e(...t):!!e}var Mn,Wr,Ds,Tm,s_=(Tm=class extends oi{constructor(){super();q(this,Mn);q(this,Wr);q(this,Ds);$(this,Ds,t=>{if(!Zn&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){x(this,Wr)||this.setEventListener(x(this,Ds))}onUnsubscribe(){var t;this.hasListeners()||((t=x(this,Wr))==null||t.call(this),$(this,Wr,void 0))}setEventListener(t){var r;$(this,Ds,t),(r=x(this,Wr))==null||r.call(this),$(this,Wr,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){x(this,Mn)!==t&&($(this,Mn,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof x(this,Mn)=="boolean"?x(this,Mn):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Mn=new WeakMap,Wr=new WeakMap,Ds=new WeakMap,Tm),Hd=new s_,Ls,Hr,$s,Om,i_=(Om=class extends oi{constructor(){super();q(this,Ls,!0);q(this,Hr);q(this,$s);$(this,$s,t=>{if(!Zn&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){x(this,Hr)||this.setEventListener(x(this,$s))}onUnsubscribe(){var t;this.hasListeners()||((t=x(this,Hr))==null||t.call(this),$(this,Hr,void 0))}setEventListener(t){var r;$(this,$s,t),(r=x(this,Hr))==null||r.call(this),$(this,Hr,t(this.setOnline.bind(this)))}setOnline(t){x(this,Ls)!==t&&($(this,Ls,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return x(this,Ls)}},Ls=new WeakMap,Hr=new WeakMap,$s=new WeakMap,Om),Ko=new i_;function bc(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function a_(e){return Math.min(1e3*2**e,3e4)}function my(e){return(e??"online")==="online"?Ko.isOnline():!0}var py=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function mu(e){return e instanceof py}function gy(e){let t=!1,r=0,n=!1,s;const i=bc(),a=w=>{var b;n||(m(new py(w)),(b=e.abort)==null||b.call(e))},o=()=>{t=!0},u=()=>{t=!1},c=()=>Hd.isFocused()&&(e.networkMode==="always"||Ko.isOnline())&&e.canRun(),d=()=>my(e.networkMode)&&e.canRun(),h=w=>{var b;n||(n=!0,(b=e.onSuccess)==null||b.call(e,w),s==null||s(),i.resolve(w))},m=w=>{var b;n||(n=!0,(b=e.onError)==null||b.call(e,w),s==null||s(),i.reject(w))},y=()=>new Promise(w=>{var b;s=v=>{(n||c())&&w(v)},(b=e.onPause)==null||b.call(e)}).then(()=>{var w;s=void 0,n||(w=e.onContinue)==null||w.call(e)}),g=()=>{if(n)return;let w;const b=r===0?e.initialPromise:void 0;try{w=b??e.fn()}catch(v){w=Promise.reject(v)}Promise.resolve(w).then(h).catch(v=>{var C;if(n)return;const f=e.retry??(Zn?0:3),p=e.retryDelay??a_,S=typeof p=="function"?p(r,v):p,N=f===!0||typeof f=="number"&&r<f||typeof f=="function"&&f(r,v);if(t||!N){m(v);return}r++,(C=e.onFail)==null||C.call(e,r,v),t_(S).then(()=>c()?void 0:y()).then(()=>{t?m(v):g()})})};return{promise:i,cancel:a,continue:()=>(s==null||s(),i),cancelRetry:o,continueRetry:u,canStart:d,start:()=>(d()?g():y().then(g),i)}}var o_=e=>setTimeout(e,0);function l_(){let e=[],t=0,r=o=>{o()},n=o=>{o()},s=o_;const i=o=>{t?e.push(o):s(()=>{r(o)})},a=()=>{const o=e;e=[],o.length&&s(()=>{n(()=>{o.forEach(u=>{r(u)})})})};return{batch:o=>{let u;t++;try{u=o()}finally{t--,t||a()}return u},batchCalls:o=>(...u)=>{i(()=>{o(...u)})},schedule:i,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{s=o}}}var De=l_(),Fn,Rm,yy=(Rm=class{constructor(){q(this,Fn)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),wc(this.gcTime)&&$(this,Fn,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Zn?1/0:5*60*1e3))}clearGcTimeout(){x(this,Fn)&&(clearTimeout(x(this,Fn)),$(this,Fn,void 0))}},Fn=new WeakMap,Rm),Ms,In,Et,Un,Ke,ya,Bn,It,hr,Am,u_=(Am=class extends yy{constructor(t){super();q(this,It);q(this,Ms);q(this,In);q(this,Et);q(this,Un);q(this,Ke);q(this,ya);q(this,Bn);$(this,Bn,!1),$(this,ya,t.defaultOptions),this.setOptions(t.options),this.observers=[],$(this,Un,t.client),$(this,Et,x(this,Un).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,$(this,Ms,c_(this.options)),this.state=t.state??x(this,Ms),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=x(this,Ke))==null?void 0:t.promise}setOptions(t){this.options={...x(this,ya),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&x(this,Et).remove(this)}setData(t,r){const n=_c(this.state.data,t,this.options);return G(this,It,hr).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){G(this,It,hr).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=x(this,Ke))==null?void 0:n.promise;return(s=x(this,Ke))==null||s.cancel(t),r?r.then(et).catch(et):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(x(this,Ms))}isActive(){return this.observers.some(t=>Ct(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Wd||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>pn(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!cy(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=x(this,Ke))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=x(this,Ke))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),x(this,Et).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(x(this,Ke)&&(x(this,Bn)?x(this,Ke).cancel({revert:!0}):x(this,Ke).cancelRetry()),this.scheduleGc()),x(this,Et).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||G(this,It,hr).call(this,{type:"invalidate"})}fetch(t,r){var c,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(x(this,Ke))return x(this,Ke).continueRetry(),x(this,Ke).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(y=>y.options.queryFn);m&&this.setOptions(m.options)}const n=new AbortController,s=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>($(this,Bn,!0),n.signal)})},i=()=>{const m=hy(this.options,r),g=(()=>{const w={client:x(this,Un),queryKey:this.queryKey,meta:this.meta};return s(w),w})();return $(this,Bn,!1),this.options.persister?this.options.persister(m,g,this):m(g)},o=(()=>{const m={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:x(this,Un),state:this.state,fetchFn:i};return s(m),m})();(c=this.options.behavior)==null||c.onFetch(o,this),$(this,In,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&G(this,It,hr).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta});const u=m=>{var y,g,w,b;mu(m)&&m.silent||G(this,It,hr).call(this,{type:"error",error:m}),mu(m)||((g=(y=x(this,Et).config).onError)==null||g.call(y,m,this),(b=(w=x(this,Et).config).onSettled)==null||b.call(w,this.state.data,m,this)),this.scheduleGc()};return $(this,Ke,gy({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:m=>{var y,g,w,b;if(m===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(v){u(v);return}(g=(y=x(this,Et).config).onSuccess)==null||g.call(y,m,this),(b=(w=x(this,Et).config).onSettled)==null||b.call(w,m,this.state.error,this),this.scheduleGc()},onError:u,onFail:(m,y)=>{G(this,It,hr).call(this,{type:"failed",failureCount:m,error:y})},onPause:()=>{G(this,It,hr).call(this,{type:"pause"})},onContinue:()=>{G(this,It,hr).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),x(this,Ke).start()}},Ms=new WeakMap,In=new WeakMap,Et=new WeakMap,Un=new WeakMap,Ke=new WeakMap,ya=new WeakMap,Bn=new WeakMap,It=new WeakSet,hr=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...vy(n.data,this.options),fetchMeta:t.meta??null};case"success":return $(this,In,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return mu(s)&&s.revert&&x(this,In)?{...x(this,In),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),De.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),x(this,Et).notify({query:this,type:"updated",action:t})})},Am);function vy(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:my(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function c_(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Zt,Dm,d_=(Dm=class extends oi{constructor(t={}){super();q(this,Zt);this.config=t,$(this,Zt,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??Vd(s,r);let a=this.get(i);return a||(a=new u_({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(a)),a}add(t){x(this,Zt).has(t.queryHash)||(x(this,Zt).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=x(this,Zt).get(t.queryHash);r&&(t.destroy(),r===t&&x(this,Zt).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){De.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return x(this,Zt).get(t)}getAll(){return[...x(this,Zt).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Df(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Df(t,n)):r}notify(t){De.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){De.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){De.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Zt=new WeakMap,Dm),er,Je,zn,tr,$r,Lm,h_=(Lm=class extends yy{constructor(t){super();q(this,tr);q(this,er);q(this,Je);q(this,zn);this.mutationId=t.mutationId,$(this,Je,t.mutationCache),$(this,er,[]),this.state=t.state||wy(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){x(this,er).includes(t)||(x(this,er).push(t),this.clearGcTimeout(),x(this,Je).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){$(this,er,x(this,er).filter(r=>r!==t)),this.scheduleGc(),x(this,Je).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){x(this,er).length||(this.state.status==="pending"?this.scheduleGc():x(this,Je).remove(this))}continue(){var t;return((t=x(this,zn))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,a,o,u,c,d,h,m,y,g,w,b,v,f,p,S,N,C,P,R;const r=()=>{G(this,tr,$r).call(this,{type:"continue"})};$(this,zn,gy({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(U,D)=>{G(this,tr,$r).call(this,{type:"failed",failureCount:U,error:D})},onPause:()=>{G(this,tr,$r).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>x(this,Je).canRun(this)}));const n=this.state.status==="pending",s=!x(this,zn).canStart();try{if(n)r();else{G(this,tr,$r).call(this,{type:"pending",variables:t,isPaused:s}),await((a=(i=x(this,Je).config).onMutate)==null?void 0:a.call(i,t,this));const D=await((u=(o=this.options).onMutate)==null?void 0:u.call(o,t));D!==this.state.context&&G(this,tr,$r).call(this,{type:"pending",context:D,variables:t,isPaused:s})}const U=await x(this,zn).start();return await((d=(c=x(this,Je).config).onSuccess)==null?void 0:d.call(c,U,t,this.state.context,this)),await((m=(h=this.options).onSuccess)==null?void 0:m.call(h,U,t,this.state.context)),await((g=(y=x(this,Je).config).onSettled)==null?void 0:g.call(y,U,null,this.state.variables,this.state.context,this)),await((b=(w=this.options).onSettled)==null?void 0:b.call(w,U,null,t,this.state.context)),G(this,tr,$r).call(this,{type:"success",data:U}),U}catch(U){try{throw await((f=(v=x(this,Je).config).onError)==null?void 0:f.call(v,U,t,this.state.context,this)),await((S=(p=this.options).onError)==null?void 0:S.call(p,U,t,this.state.context)),await((C=(N=x(this,Je).config).onSettled)==null?void 0:C.call(N,void 0,U,this.state.variables,this.state.context,this)),await((R=(P=this.options).onSettled)==null?void 0:R.call(P,void 0,U,t,this.state.context)),U}finally{G(this,tr,$r).call(this,{type:"error",error:U})}}finally{x(this,Je).runNext(this)}}},er=new WeakMap,Je=new WeakMap,zn=new WeakMap,tr=new WeakSet,$r=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),De.batch(()=>{x(this,er).forEach(n=>{n.onMutationUpdate(t)}),x(this,Je).notify({mutation:this,type:"updated",action:t})})},Lm);function wy(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var vr,Ut,va,$m,f_=($m=class extends oi{constructor(t={}){super();q(this,vr);q(this,Ut);q(this,va);this.config=t,$(this,vr,new Set),$(this,Ut,new Map),$(this,va,0)}build(t,r,n){const s=new h_({mutationCache:this,mutationId:++Da(this,va)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){x(this,vr).add(t);const r=Xa(t);if(typeof r=="string"){const n=x(this,Ut).get(r);n?n.push(t):x(this,Ut).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(x(this,vr).delete(t)){const r=Xa(t);if(typeof r=="string"){const n=x(this,Ut).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&x(this,Ut).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Xa(t);if(typeof r=="string"){const n=x(this,Ut).get(r),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=Xa(t);if(typeof r=="string"){const s=(n=x(this,Ut).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){De.batch(()=>{x(this,vr).forEach(t=>{this.notify({type:"removed",mutation:t})}),x(this,vr).clear(),x(this,Ut).clear()})}getAll(){return Array.from(x(this,vr))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Lf(r,n))}findAll(t={}){return this.getAll().filter(r=>Lf(t,r))}notify(t){De.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return De.batch(()=>Promise.all(t.map(r=>r.continue().catch(et))))}},vr=new WeakMap,Ut=new WeakMap,va=new WeakMap,$m);function Xa(e){var t;return(t=e.options.scope)==null?void 0:t.id}function Ff(e){return{onFetch:(t,r)=>{var d,h,m,y,g;const n=t.options,s=(m=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:m.direction,i=((y=t.state.data)==null?void 0:y.pages)||[],a=((g=t.state.data)==null?void 0:g.pageParams)||[];let o={pages:[],pageParams:[]},u=0;const c=async()=>{let w=!1;const b=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(t.signal.aborted?w=!0:t.signal.addEventListener("abort",()=>{w=!0}),t.signal)})},v=hy(t.options,t.fetchOptions),f=async(p,S,N)=>{if(w)return Promise.reject();if(S==null&&p.pages.length)return Promise.resolve(p);const P=(()=>{const Z={client:t.client,queryKey:t.queryKey,pageParam:S,direction:N?"backward":"forward",meta:t.options.meta};return b(Z),Z})(),R=await v(P),{maxPages:U}=t.options,D=N?n_:r_;return{pages:D(p.pages,R,U),pageParams:D(p.pageParams,S,U)}};if(s&&i.length){const p=s==="backward",S=p?m_:If,N={pages:i,pageParams:a},C=S(n,N);o=await f(N,C,p)}else{const p=e??i.length;do{const S=u===0?a[0]??n.initialPageParam:If(n,o);if(u>0&&S==null)break;o=await f(o,S),u++}while(u<p)}return o};t.options.persister?t.fetchFn=()=>{var w,b;return(b=(w=t.options).persister)==null?void 0:b.call(w,c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=c}}}function If(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function m_(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var be,Qr,Kr,Fs,Is,Yr,Us,Bs,Mm,p_=(Mm=class{constructor(e={}){q(this,be);q(this,Qr);q(this,Kr);q(this,Fs);q(this,Is);q(this,Yr);q(this,Us);q(this,Bs);$(this,be,e.queryCache||new d_),$(this,Qr,e.mutationCache||new f_),$(this,Kr,e.defaultOptions||{}),$(this,Fs,new Map),$(this,Is,new Map),$(this,Yr,0)}mount(){Da(this,Yr)._++,x(this,Yr)===1&&($(this,Us,Hd.subscribe(async e=>{e&&(await this.resumePausedMutations(),x(this,be).onFocus())})),$(this,Bs,Ko.subscribe(async e=>{e&&(await this.resumePausedMutations(),x(this,be).onOnline())})))}unmount(){var e,t;Da(this,Yr)._--,x(this,Yr)===0&&((e=x(this,Us))==null||e.call(this),$(this,Us,void 0),(t=x(this,Bs))==null||t.call(this),$(this,Bs,void 0))}isFetching(e){return x(this,be).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return x(this,Qr).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=x(this,be).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=x(this,be).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(pn(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return x(this,be).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=x(this,be).get(n.queryHash),i=s==null?void 0:s.state.data,a=e_(t,i);if(a!==void 0)return x(this,be).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(e,t,r){return De.batch(()=>x(this,be).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=x(this,be).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=x(this,be);De.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=x(this,be);return De.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=De.batch(()=>x(this,be).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(et).catch(et)}invalidateQueries(e,t={}){return De.batch(()=>(x(this,be).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=De.batch(()=>x(this,be).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(et)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(et)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=x(this,be).build(this,t);return r.isStaleByTime(pn(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(et).catch(et)}fetchInfiniteQuery(e){return e.behavior=Ff(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(et).catch(et)}ensureInfiniteQueryData(e){return e.behavior=Ff(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ko.isOnline()?x(this,Qr).resumePausedMutations():Promise.resolve()}getQueryCache(){return x(this,be)}getMutationCache(){return x(this,Qr)}getDefaultOptions(){return x(this,Kr)}setDefaultOptions(e){$(this,Kr,e)}setQueryDefaults(e,t){x(this,Fs).set(es(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...x(this,Fs).values()],r={};return t.forEach(n=>{da(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){x(this,Is).set(es(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...x(this,Is).values()],r={};return t.forEach(n=>{da(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...x(this,Kr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Vd(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Wd&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...x(this,Kr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){x(this,be).clear(),x(this,Qr).clear()}},be=new WeakMap,Qr=new WeakMap,Kr=new WeakMap,Fs=new WeakMap,Is=new WeakMap,Yr=new WeakMap,Us=new WeakMap,Bs=new WeakMap,Mm),ot,ee,wa,Xe,qn,zs,Gr,Jr,xa,qs,Vs,Vn,Wn,Xr,Ws,re,Ci,Sc,kc,jc,Nc,Ec,Cc,Pc,xy,Fm,g_=(Fm=class extends oi{constructor(t,r){super();q(this,re);q(this,ot);q(this,ee);q(this,wa);q(this,Xe);q(this,qn);q(this,zs);q(this,Gr);q(this,Jr);q(this,xa);q(this,qs);q(this,Vs);q(this,Vn);q(this,Wn);q(this,Xr);q(this,Ws,new Set);this.options=r,$(this,ot,t),$(this,Jr,null),$(this,Gr,bc()),this.options.experimental_prefetchInRender||x(this,Gr).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(x(this,ee).addObserver(this),Uf(x(this,ee),this.options)?G(this,re,Ci).call(this):this.updateResult(),G(this,re,Nc).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Tc(x(this,ee),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Tc(x(this,ee),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,G(this,re,Ec).call(this),G(this,re,Cc).call(this),x(this,ee).removeObserver(this)}setOptions(t){const r=this.options,n=x(this,ee);if(this.options=x(this,ot).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ct(this.options.enabled,x(this,ee))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");G(this,re,Pc).call(this),x(this,ee).setOptions(this.options),r._defaulted&&!Qo(this.options,r)&&x(this,ot).getQueryCache().notify({type:"observerOptionsUpdated",query:x(this,ee),observer:this});const s=this.hasListeners();s&&Bf(x(this,ee),n,this.options,r)&&G(this,re,Ci).call(this),this.updateResult(),s&&(x(this,ee)!==n||Ct(this.options.enabled,x(this,ee))!==Ct(r.enabled,x(this,ee))||pn(this.options.staleTime,x(this,ee))!==pn(r.staleTime,x(this,ee)))&&G(this,re,Sc).call(this);const i=G(this,re,kc).call(this);s&&(x(this,ee)!==n||Ct(this.options.enabled,x(this,ee))!==Ct(r.enabled,x(this,ee))||i!==x(this,Xr))&&G(this,re,jc).call(this,i)}getOptimisticResult(t){const r=x(this,ot).getQueryCache().build(x(this,ot),t),n=this.createResult(r,t);return v_(this,n)&&($(this,Xe,n),$(this,zs,this.options),$(this,qn,x(this,ee).state)),n}getCurrentResult(){return x(this,Xe)}trackResult(t,r){return new Proxy(t,{get:(n,s)=>(this.trackProp(s),r==null||r(s),Reflect.get(n,s))})}trackProp(t){x(this,Ws).add(t)}getCurrentQuery(){return x(this,ee)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=x(this,ot).defaultQueryOptions(t),n=x(this,ot).getQueryCache().build(x(this,ot),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return G(this,re,Ci).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),x(this,Xe)))}createResult(t,r){var U;const n=x(this,ee),s=this.options,i=x(this,Xe),a=x(this,qn),o=x(this,zs),c=t!==n?t.state:x(this,wa),{state:d}=t;let h={...d},m=!1,y;if(r._optimisticResults){const D=this.hasListeners(),Z=!D&&Uf(t,r),H=D&&Bf(t,n,r,s);(Z||H)&&(h={...h,...vy(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:g,errorUpdatedAt:w,status:b}=h;y=h.data;let v=!1;if(r.placeholderData!==void 0&&y===void 0&&b==="pending"){let D;i!=null&&i.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(D=i.data,v=!0):D=typeof r.placeholderData=="function"?r.placeholderData((U=x(this,Vs))==null?void 0:U.state.data,x(this,Vs)):r.placeholderData,D!==void 0&&(b="success",y=_c(i==null?void 0:i.data,D,r),m=!0)}if(r.select&&y!==void 0&&!v)if(i&&y===(a==null?void 0:a.data)&&r.select===x(this,xa))y=x(this,qs);else try{$(this,xa,r.select),y=r.select(y),y=_c(i==null?void 0:i.data,y,r),$(this,qs,y),$(this,Jr,null)}catch(D){$(this,Jr,D)}x(this,Jr)&&(g=x(this,Jr),y=x(this,qs),w=Date.now(),b="error");const f=h.fetchStatus==="fetching",p=b==="pending",S=b==="error",N=p&&f,C=y!==void 0,R={status:b,fetchStatus:h.fetchStatus,isPending:p,isSuccess:b==="success",isError:S,isInitialLoading:N,isLoading:N,data:y,dataUpdatedAt:h.dataUpdatedAt,error:g,errorUpdatedAt:w,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>c.dataUpdateCount||h.errorUpdateCount>c.errorUpdateCount,isFetching:f,isRefetching:f&&!p,isLoadingError:S&&!C,isPaused:h.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:S&&C,isStale:Qd(t,r),refetch:this.refetch,promise:x(this,Gr),isEnabled:Ct(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const D=Y=>{R.status==="error"?Y.reject(R.error):R.data!==void 0&&Y.resolve(R.data)},Z=()=>{const Y=$(this,Gr,R.promise=bc());D(Y)},H=x(this,Gr);switch(H.status){case"pending":t.queryHash===n.queryHash&&D(H);break;case"fulfilled":(R.status==="error"||R.data!==H.value)&&Z();break;case"rejected":(R.status!=="error"||R.error!==H.reason)&&Z();break}}return R}updateResult(){const t=x(this,Xe),r=this.createResult(x(this,ee),this.options);if($(this,qn,x(this,ee).state),$(this,zs,this.options),x(this,qn).data!==void 0&&$(this,Vs,x(this,ee)),Qo(r,t))return;$(this,Xe,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!x(this,Ws).size)return!0;const a=new Set(i??x(this,Ws));return this.options.throwOnError&&a.add("error"),Object.keys(x(this,Xe)).some(o=>{const u=o;return x(this,Xe)[u]!==t[u]&&a.has(u)})};G(this,re,xy).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&G(this,re,Nc).call(this)}},ot=new WeakMap,ee=new WeakMap,wa=new WeakMap,Xe=new WeakMap,qn=new WeakMap,zs=new WeakMap,Gr=new WeakMap,Jr=new WeakMap,xa=new WeakMap,qs=new WeakMap,Vs=new WeakMap,Vn=new WeakMap,Wn=new WeakMap,Xr=new WeakMap,Ws=new WeakMap,re=new WeakSet,Ci=function(t){G(this,re,Pc).call(this);let r=x(this,ee).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(et)),r},Sc=function(){G(this,re,Ec).call(this);const t=pn(this.options.staleTime,x(this,ee));if(Zn||x(this,Xe).isStale||!wc(t))return;const n=cy(x(this,Xe).dataUpdatedAt,t)+1;$(this,Vn,setTimeout(()=>{x(this,Xe).isStale||this.updateResult()},n))},kc=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(x(this,ee)):this.options.refetchInterval)??!1},jc=function(t){G(this,re,Cc).call(this),$(this,Xr,t),!(Zn||Ct(this.options.enabled,x(this,ee))===!1||!wc(x(this,Xr))||x(this,Xr)===0)&&$(this,Wn,setInterval(()=>{(this.options.refetchIntervalInBackground||Hd.isFocused())&&G(this,re,Ci).call(this)},x(this,Xr)))},Nc=function(){G(this,re,Sc).call(this),G(this,re,jc).call(this,G(this,re,kc).call(this))},Ec=function(){x(this,Vn)&&(clearTimeout(x(this,Vn)),$(this,Vn,void 0))},Cc=function(){x(this,Wn)&&(clearInterval(x(this,Wn)),$(this,Wn,void 0))},Pc=function(){const t=x(this,ot).getQueryCache().build(x(this,ot),this.options);if(t===x(this,ee))return;const r=x(this,ee);$(this,ee,t),$(this,wa,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},xy=function(t){De.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(x(this,Xe))}),x(this,ot).getQueryCache().notify({query:x(this,ee),type:"observerResultsUpdated"})})},Fm);function y_(e,t){return Ct(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Uf(e,t){return y_(e,t)||e.state.data!==void 0&&Tc(e,t,t.refetchOnMount)}function Tc(e,t,r){if(Ct(t.enabled,e)!==!1&&pn(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Qd(e,t)}return!1}function Bf(e,t,r,n){return(e!==t||Ct(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Qd(e,r)}function Qd(e,t){return Ct(t.enabled,e)!==!1&&e.isStaleByTime(pn(t.staleTime,e))}function v_(e,t){return!Qo(e.getCurrentResult(),t)}var Zr,en,lt,wr,Sr,vo,Oc,Im,w_=(Im=class extends oi{constructor(r,n){super();q(this,Sr);q(this,Zr);q(this,en);q(this,lt);q(this,wr);$(this,Zr,r),this.setOptions(n),this.bindMethods(),G(this,Sr,vo).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=x(this,Zr).defaultMutationOptions(r),Qo(this.options,n)||x(this,Zr).getMutationCache().notify({type:"observerOptionsUpdated",mutation:x(this,lt),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&es(n.mutationKey)!==es(this.options.mutationKey)?this.reset():((s=x(this,lt))==null?void 0:s.state.status)==="pending"&&x(this,lt).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=x(this,lt))==null||r.removeObserver(this)}onMutationUpdate(r){G(this,Sr,vo).call(this),G(this,Sr,Oc).call(this,r)}getCurrentResult(){return x(this,en)}reset(){var r;(r=x(this,lt))==null||r.removeObserver(this),$(this,lt,void 0),G(this,Sr,vo).call(this),G(this,Sr,Oc).call(this)}mutate(r,n){var s;return $(this,wr,n),(s=x(this,lt))==null||s.removeObserver(this),$(this,lt,x(this,Zr).getMutationCache().build(x(this,Zr),this.options)),x(this,lt).addObserver(this),x(this,lt).execute(r)}},Zr=new WeakMap,en=new WeakMap,lt=new WeakMap,wr=new WeakMap,Sr=new WeakSet,vo=function(){var n;const r=((n=x(this,lt))==null?void 0:n.state)??wy();$(this,en,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Oc=function(r){De.batch(()=>{var n,s,i,a,o,u,c,d;if(x(this,wr)&&this.hasListeners()){const h=x(this,en).variables,m=x(this,en).context;(r==null?void 0:r.type)==="success"?((s=(n=x(this,wr)).onSuccess)==null||s.call(n,r.data,h,m),(a=(i=x(this,wr)).onSettled)==null||a.call(i,r.data,null,h,m)):(r==null?void 0:r.type)==="error"&&((u=(o=x(this,wr)).onError)==null||u.call(o,r.error,h,m),(d=(c=x(this,wr)).onSettled)==null||d.call(c,void 0,r.error,h,m))}this.listeners.forEach(h=>{h(x(this,en))})})},Im),_y=k.createContext(void 0),St=e=>{const t=k.useContext(_y);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},x_=({client:e,children:t})=>(k.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(_y.Provider,{value:e,children:t})),by=k.createContext(!1),__=()=>k.useContext(by);by.Provider;function b_(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var S_=k.createContext(b_()),k_=()=>k.useContext(S_),j_=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},N_=e=>{k.useEffect(()=>{e.clearReset()},[e])},E_=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||fy(r,[e.error,n])),C_=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},P_=(e,t)=>e.isLoading&&e.isFetching&&!t,T_=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,zf=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function O_(e,t,r){var h,m,y,g,w;const n=__(),s=k_(),i=St(),a=i.defaultQueryOptions(e);(m=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||m.call(h,a),a._optimisticResults=n?"isRestoring":"optimistic",C_(a),j_(a,s),N_(s);const o=!i.getQueryCache().get(a.queryHash),[u]=k.useState(()=>new t(i,a)),c=u.getOptimisticResult(a),d=!n&&e.subscribed!==!1;if(k.useSyncExternalStore(k.useCallback(b=>{const v=d?u.subscribe(De.batchCalls(b)):et;return u.updateResult(),v},[u,d]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),k.useEffect(()=>{u.setOptions(a)},[a,u]),T_(a,c))throw zf(a,u,s);if(E_({result:c,errorResetBoundary:s,throwOnError:a.throwOnError,query:i.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw c.error;if((g=(y=i.getDefaultOptions().queries)==null?void 0:y._experimental_afterQuery)==null||g.call(y,a,c),a.experimental_prefetchInRender&&!Zn&&P_(c,n)){const b=o?zf(a,u,s):(w=i.getQueryCache().get(a.queryHash))==null?void 0:w.promise;b==null||b.catch(et).finally(()=>{u.updateResult()})}return a.notifyOnChangeProps?c:u.trackResult(c)}function Yt(e,t){return O_(e,g_)}function kt(e,t){const r=St(),[n]=k.useState(()=>new w_(r,e));k.useEffect(()=>{n.setOptions(e)},[n,e]);const s=k.useSyncExternalStore(k.useCallback(a=>n.subscribe(De.batchCalls(a)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=k.useCallback((a,o)=>{n.mutate(a,o).catch(et)},[n]);if(s.error&&fy(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}let R_={data:""},A_=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||R_,D_=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,L_=/\/\*[^]*?\*\/|  +/g,qf=/\n+/g,zr=(e,t)=>{let r="",n="",s="";for(let i in e){let a=e[i];i[0]=="@"?i[1]=="i"?r=i+" "+a+";":n+=i[1]=="f"?zr(a,i):i+"{"+zr(a,i[1]=="k"?"":t)+"}":typeof a=="object"?n+=zr(a,t?t.replace(/([^,])+/g,o=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,o):o?o+" "+u:u)):i):a!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=zr.p?zr.p(i,a):i+":"+a+";")}return r+(t&&s?t+"{"+s+"}":s)+n},cr={},Sy=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+Sy(e[r]);return t}return e},$_=(e,t,r,n,s)=>{let i=Sy(e),a=cr[i]||(cr[i]=(u=>{let c=0,d=11;for(;c<u.length;)d=101*d+u.charCodeAt(c++)>>>0;return"go"+d})(i));if(!cr[a]){let u=i!==e?e:(c=>{let d,h,m=[{}];for(;d=D_.exec(c.replace(L_,""));)d[4]?m.shift():d[3]?(h=d[3].replace(qf," ").trim(),m.unshift(m[0][h]=m[0][h]||{})):m[0][d[1]]=d[2].replace(qf," ").trim();return m[0]})(e);cr[a]=zr(s?{["@keyframes "+a]:u}:u,r?"":"."+a)}let o=r&&cr.g?cr.g:null;return r&&(cr.g=cr[a]),((u,c,d,h)=>{h?c.data=c.data.replace(h,u):c.data.indexOf(u)===-1&&(c.data=d?u+c.data:c.data+u)})(cr[a],t,n,o),a},M_=(e,t,r)=>e.reduce((n,s,i)=>{let a=t[i];if(a&&a.call){let o=a(r),u=o&&o.props&&o.props.className||/^go/.test(o)&&o;a=u?"."+u:o&&typeof o=="object"?o.props?"":zr(o,""):o===!1?"":o}return n+s+(a??"")},"");function kl(e){let t=this||{},r=e.call?e(t.p):e;return $_(r.unshift?r.raw?M_(r,[].slice.call(arguments,1),t.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(t.p):s),{}):r,A_(t.target),t.g,t.o,t.k)}let ky,Rc,Ac;kl.bind({g:1});let Cr=kl.bind({k:1});function F_(e,t,r,n){zr.p=t,ky=e,Rc=r,Ac=n}function Sn(e,t){let r=this||{};return function(){let n=arguments;function s(i,a){let o=Object.assign({},i),u=o.className||s.className;r.p=Object.assign({theme:Rc&&Rc()},o),r.o=/ *go\d+/.test(u),o.className=kl.apply(r,n)+(u?" "+u:"");let c=e;return e[0]&&(c=o.as||e,delete o.as),Ac&&c[0]&&Ac(o),ky(c,o)}return s}}var I_=e=>typeof e=="function",Yo=(e,t)=>I_(e)?e(t):e,U_=(()=>{let e=0;return()=>(++e).toString()})(),jy=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),B_=20,Ny=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,B_)};case 1:return{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:r}=t;return Ny(e,{type:e.toasts.find(i=>i.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map(i=>i.id===n||n===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let s=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},wo=[],Ln={toasts:[],pausedAt:void 0},ns=e=>{Ln=Ny(Ln,e),wo.forEach(t=>{t(Ln)})},z_={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},q_=(e={})=>{let[t,r]=k.useState(Ln),n=k.useRef(Ln);k.useEffect(()=>(n.current!==Ln&&r(Ln),wo.push(r),()=>{let i=wo.indexOf(r);i>-1&&wo.splice(i,1)}),[]);let s=t.toasts.map(i=>{var a,o,u;return{...e,...e[i.type],...i,removeDelay:i.removeDelay||((a=e[i.type])==null?void 0:a.removeDelay)||(e==null?void 0:e.removeDelay),duration:i.duration||((o=e[i.type])==null?void 0:o.duration)||(e==null?void 0:e.duration)||z_[i.type],style:{...e.style,...(u=e[i.type])==null?void 0:u.style,...i.style}}});return{...t,toasts:s}},V_=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||U_()}),Ea=e=>(t,r)=>{let n=V_(t,e,r);return ns({type:2,toast:n}),n.id},V=(e,t)=>Ea("blank")(e,t);V.error=Ea("error");V.success=Ea("success");V.loading=Ea("loading");V.custom=Ea("custom");V.dismiss=e=>{ns({type:3,toastId:e})};V.remove=e=>ns({type:4,toastId:e});V.promise=(e,t,r)=>{let n=V.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let i=t.success?Yo(t.success,s):void 0;return i?V.success(i,{id:n,...r,...r==null?void 0:r.success}):V.dismiss(n),s}).catch(s=>{let i=t.error?Yo(t.error,s):void 0;i?V.error(i,{id:n,...r,...r==null?void 0:r.error}):V.dismiss(n)}),e};var W_=(e,t)=>{ns({type:1,toast:{id:e,height:t}})},H_=()=>{ns({type:5,time:Date.now()})},Ii=new Map,Q_=1e3,K_=(e,t=Q_)=>{if(Ii.has(e))return;let r=setTimeout(()=>{Ii.delete(e),ns({type:4,toastId:e})},t);Ii.set(e,r)},Y_=e=>{let{toasts:t,pausedAt:r}=q_(e);k.useEffect(()=>{if(r)return;let i=Date.now(),a=t.map(o=>{if(o.duration===1/0)return;let u=(o.duration||0)+o.pauseDuration-(i-o.createdAt);if(u<0){o.visible&&V.dismiss(o.id);return}return setTimeout(()=>V.dismiss(o.id),u)});return()=>{a.forEach(o=>o&&clearTimeout(o))}},[t,r]);let n=k.useCallback(()=>{r&&ns({type:6,time:Date.now()})},[r]),s=k.useCallback((i,a)=>{let{reverseOrder:o=!1,gutter:u=8,defaultPosition:c}=a||{},d=t.filter(y=>(y.position||c)===(i.position||c)&&y.height),h=d.findIndex(y=>y.id===i.id),m=d.filter((y,g)=>g<h&&y.visible).length;return d.filter(y=>y.visible).slice(...o?[m+1]:[0,m]).reduce((y,g)=>y+(g.height||0)+u,0)},[t]);return k.useEffect(()=>{t.forEach(i=>{if(i.dismissed)K_(i.id,i.removeDelay);else{let a=Ii.get(i.id);a&&(clearTimeout(a),Ii.delete(i.id))}})},[t]),{toasts:t,handlers:{updateHeight:W_,startPause:H_,endPause:n,calculateOffset:s}}},G_=Cr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,J_=Cr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,X_=Cr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Z_=Sn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${G_} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${J_} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${X_} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,e1=Cr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,t1=Sn("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${e1} 1s linear infinite;
`,r1=Cr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,n1=Cr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,s1=Sn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${r1} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${n1} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,i1=Sn("div")`
  position: absolute;
`,a1=Sn("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,o1=Cr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,l1=Sn("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${o1} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,u1=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?k.createElement(l1,null,t):t:r==="blank"?null:k.createElement(a1,null,k.createElement(t1,{...n}),r!=="loading"&&k.createElement(i1,null,r==="error"?k.createElement(Z_,{...n}):k.createElement(s1,{...n})))},c1=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,d1=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,h1="0%{opacity:0;} 100%{opacity:1;}",f1="0%{opacity:1;} 100%{opacity:0;}",m1=Sn("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,p1=Sn("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,g1=(e,t)=>{let r=e.includes("top")?1:-1,[n,s]=jy()?[h1,f1]:[c1(r),d1(r)];return{animation:t?`${Cr(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Cr(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},y1=k.memo(({toast:e,position:t,style:r,children:n})=>{let s=e.height?g1(e.position||t||"top-center",e.visible):{opacity:0},i=k.createElement(u1,{toast:e}),a=k.createElement(p1,{...e.ariaProps},Yo(e.message,e));return k.createElement(m1,{className:e.className,style:{...s,...r,...e.style}},typeof n=="function"?n({icon:i,message:a}):k.createElement(k.Fragment,null,i,a))});F_(k.createElement);var v1=({id:e,className:t,style:r,onHeightUpdate:n,children:s})=>{let i=k.useCallback(a=>{if(a){let o=()=>{let u=a.getBoundingClientRect().height;n(e,u)};o(),new MutationObserver(o).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return k.createElement("div",{ref:i,className:t,style:r},s)},w1=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:jy()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...s}},x1=kl`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Za=16,_1=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:s,containerStyle:i,containerClassName:a})=>{let{toasts:o,handlers:u}=Y_(r);return k.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Za,left:Za,right:Za,bottom:Za,pointerEvents:"none",...i},className:a,onMouseEnter:u.startPause,onMouseLeave:u.endPause},o.map(c=>{let d=c.position||t,h=u.calculateOffset(c,{reverseOrder:e,gutter:n,defaultPosition:t}),m=w1(d,h);return k.createElement(v1,{id:c.id,key:c.id,onHeightUpdate:u.updateHeight,className:c.visible?x1:"",style:m},c.type==="custom"?Yo(c.message,c):s?s(c):k.createElement(y1,{toast:c,position:d}))}))};const b1="modulepreload",S1=function(e){return"/"+e},Vf={},Ca=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(u=>{if(u=S1(u),u in Vf)return;Vf[u]=!0;const c=u.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":b1,c||(h.as="script"),h.crossOrigin="",h.href=u,o&&h.setAttribute("nonce",o),document.head.appendChild(h),c)return new Promise((m,y)=>{h.addEventListener("load",m),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})},k1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ca(async()=>{const{default:n}=await Promise.resolve().then(()=>li);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Kd extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class j1 extends Kd{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Wf extends Kd{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Hf extends Kd{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Dc;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Dc||(Dc={}));var N1=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};class E1{constructor(t,{headers:r={},customFetch:n,region:s=Dc.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=k1(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return N1(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=r;let o={},{region:u}=r;u||(u=this.region);const c=new URL(`${this.url}/${t}`);u&&u!=="any"&&(o["x-region"]=u,c.searchParams.set("forceFunctionRegion",u));let d;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(o["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(o["Content-Type"]="application/json",d=JSON.stringify(a)));const h=yield this.fetch(c.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),s),body:d}).catch(w=>{throw new j1(w)}),m=h.headers.get("x-relay-error");if(m&&m==="true")throw new Wf(h);if(!h.ok)throw new Hf(h);let y=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return y==="application/json"?g=yield h.json():y==="application/octet-stream"?g=yield h.blob():y==="text/event-stream"?g=h:y==="multipart/form-data"?g=yield h.formData():g=yield h.text(),{data:g,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof Hf||s instanceof Wf?s.context:void 0}}})}}var ht={},Yd={},jl={},Pa={},Nl={},El={},C1=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Zs=C1();const P1=Zs.fetch,Ey=Zs.fetch.bind(Zs),Cy=Zs.Headers,T1=Zs.Request,O1=Zs.Response,li=Object.freeze(Object.defineProperty({__proto__:null,Headers:Cy,Request:T1,Response:O1,default:Ey,fetch:P1},Symbol.toStringTag,{value:"Module"})),R1=bv(li);var Cl={};Object.defineProperty(Cl,"__esModule",{value:!0});let A1=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Cl.default=A1;var Py=At&&At.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(El,"__esModule",{value:!0});const D1=Py(R1),L1=Py(Cl);let $1=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=D1.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,o,u;let c=null,d=null,h=null,m=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const v=await i.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=v:d=JSON.parse(v))}const w=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),b=(o=i.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");w&&b&&b.length>1&&(h=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,m=406,y="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const w=await i.text();try{c=JSON.parse(w),Array.isArray(c)&&i.status===404&&(d=[],c=null,m=200,y="OK")}catch{i.status===404&&w===""?(m=204,y="No Content"):c={message:w}}if(c&&this.isMaybeSingle&&(!((u=c==null?void 0:c.details)===null||u===void 0)&&u.includes("0 rows"))&&(c=null,m=200,y="OK"),c&&this.shouldThrowOnError)throw new L1.default(c)}return{error:c,data:d,count:h,status:m,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,o,u;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(u=i==null?void 0:i.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};El.default=$1;var M1=At&&At.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Nl,"__esModule",{value:!0});const F1=M1(El);let I1=class extends F1.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(a,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var o;const u=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${c}"; options=${u};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Nl.default=I1;var U1=At&&At.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pa,"__esModule",{value:!0});const B1=U1(Nl);let z1=class extends B1.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${a}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Pa.default=z1;var q1=At&&At.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jl,"__esModule",{value:!0});const wi=q1(Pa);let V1=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const a=(t??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new wi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const a=t.reduce((o,u)=>o.concat(Object.keys(u)),[]);if(a.length>0){const o=[...new Set(a)].map(u=>`"${u}"`);this.url.searchParams.set("columns",o.join(","))}}return new wi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const a="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),s&&o.push(`count=${s}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const u=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new wi.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new wi.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new wi.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};jl.default=V1;var Pl={},Tl={};Object.defineProperty(Tl,"__esModule",{value:!0});Tl.version=void 0;Tl.version="0.0.0-automated";Object.defineProperty(Pl,"__esModule",{value:!0});Pl.DEFAULT_HEADERS=void 0;const W1=Tl;Pl.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${W1.version}`};var Ty=At&&At.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yd,"__esModule",{value:!0});const H1=Ty(jl),Q1=Ty(Pa),K1=Pl;let Y1=class Oy{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},K1.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new H1.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Oy(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let a;const o=new URL(`${this.url}/rpc/${t}`);let u;n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{o.searchParams.append(d,h)})):(a="POST",u=r);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new Q1.default({method:a,url:o,headers:c,schema:this.schemaName,body:u,fetch:this.fetch,allowEmpty:!1})}};Yd.default=Y1;var ui=At&&At.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ht,"__esModule",{value:!0});ht.PostgrestError=ht.PostgrestBuilder=ht.PostgrestTransformBuilder=ht.PostgrestFilterBuilder=ht.PostgrestQueryBuilder=ht.PostgrestClient=void 0;const Ry=ui(Yd);ht.PostgrestClient=Ry.default;const Ay=ui(jl);ht.PostgrestQueryBuilder=Ay.default;const Dy=ui(Pa);ht.PostgrestFilterBuilder=Dy.default;const Ly=ui(Nl);ht.PostgrestTransformBuilder=Ly.default;const $y=ui(El);ht.PostgrestBuilder=$y.default;const My=ui(Cl);ht.PostgrestError=My.default;var G1=ht.default={PostgrestClient:Ry.default,PostgrestQueryBuilder:Ay.default,PostgrestFilterBuilder:Dy.default,PostgrestTransformBuilder:Ly.default,PostgrestBuilder:$y.default,PostgrestError:My.default};const{PostgrestClient:J1,PostgrestQueryBuilder:CN,PostgrestFilterBuilder:PN,PostgrestTransformBuilder:TN,PostgrestBuilder:ON,PostgrestError:RN}=G1;class X1{static dynamicRequire(t){try{return typeof process<"u"&&process.versions&&process.versions.node&&typeof require<"u"?require(t):null}catch{return null}}static detectEnvironment(){var t,r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const n=parseInt(process.versions.node.split(".")[0]);if(n>=22)try{if(typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};const s=this.dynamicRequire("undici");if(s&&s.WebSocket)return{type:"native",constructor:s.WebSocket};throw new Error("undici not available")}catch{return{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:'Install the "ws" package or check your Node.js installation.'}}try{const s=this.dynamicRequire("ws");if(s)return{type:"ws",constructor:(r=s.WebSocket)!==null&&r!==void 0?r:s};throw new Error("ws package not available")}catch{return{type:"unsupported",error:`Node.js ${n} detected without WebSocket support.`,workaround:'Install the "ws" package: npm install ws'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Z1="2.15.0",eb=`realtime-js/${Z1}`,tb="1.0.0",Lc=1e4,rb=1e3,nb=100;var Ui;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ui||(Ui={}));var Re;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Re||(Re={}));var zt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(zt||(zt={}));var $c;(function(e){e.websocket="websocket"})($c||($c={}));var On;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(On||(On={}));class sb{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let a=this.HEADER_LENGTH+2;const o=n.decode(t.slice(a,a+s));a=a+s;const u=n.decode(t.slice(a,a+i));a=a+i;const c=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{ref:null,topic:o,event:u,payload:c}}}class Fy{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var de;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(de||(de={}));const Qf=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,a)=>(i[a]=ib(a,e,t,s),i),{})},ib=(e,t,r,n)=>{const s=t.find(o=>o.name===e),i=s==null?void 0:s.type,a=r[e];return i&&!n.includes(i)?Iy(i,a):Mc(a)},Iy=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return ub(t,r)}switch(e){case de.bool:return ab(t);case de.float4:case de.float8:case de.int2:case de.int4:case de.int8:case de.numeric:case de.oid:return ob(t);case de.json:case de.jsonb:return lb(t);case de.timestamp:return cb(t);case de.abstime:case de.date:case de.daterange:case de.int4range:case de.int8range:case de.money:case de.reltime:case de.text:case de.time:case de.timestamptz:case de.timetz:case de.tsrange:case de.tstzrange:return Mc(t);default:return Mc(t)}},Mc=e=>e,ab=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},ob=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},lb=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},ub=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const a=e.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>Iy(t,o))}return e},cb=e=>typeof e=="string"?e.replace(" ","T"):e,Uy=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class pu{constructor(t,r,n={},s=Lc){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Kf;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Kf||(Kf={}));class Bi{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Bi.syncState(this.state,s,i,a),this.pendingDiffs.forEach(u=>{this.state=Bi.syncDiff(this.state,u,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Bi.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),a=this.transformState(r),o={},u={};return this.map(i,(c,d)=>{a[c]||(u[c]=d)}),this.map(a,(c,d)=>{const h=i[c];if(h){const m=d.map(b=>b.presence_ref),y=h.map(b=>b.presence_ref),g=d.filter(b=>y.indexOf(b.presence_ref)<0),w=h.filter(b=>m.indexOf(b.presence_ref)<0);g.length>0&&(o[c]=g),w.length>0&&(u[c]=w)}else o[c]=d}),this.syncDiff(i,{joins:o,leaves:u},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(o,u)=>{var c;const d=(c=t[o])!==null&&c!==void 0?c:[];if(t[o]=this.cloneDeep(u),d.length>0){const h=t[o].map(y=>y.presence_ref),m=d.filter(y=>h.indexOf(y.presence_ref)<0);t[o].unshift(...m)}n(o,d,u)}),this.map(a,(o,u)=>{let c=t[o];if(!c)return;const d=u.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),t[o]=c,s(o,c,u),c.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Yf;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Yf||(Yf={}));var zi;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(zi||(zi={}));var pr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(pr||(pr={}));class Gd{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Re.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new pu(this,zt.join,this.params,this.timeout),this.rejoinTimer=new Fy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Re.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Re.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Re.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Re.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Re.errored,this.rejoinTimer.scheduleTimeout())}),this._on(zt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Bi(this),this.broadcastEndpointURL=Uy(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Re.closed){const{config:{broadcast:i,presence:a,private:o}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&s!==void 0?s:[],c=!!this.bindings[zi.PRESENCE]&&this.bindings[zi.PRESENCE].length>0,d={},h={broadcast:i,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:u,private:o};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(pr.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(pr.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var y;if(this.socket.setAuth(),m===void 0){t==null||t(pr.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,w=(y=g==null?void 0:g.length)!==null&&y!==void 0?y:0,b=[];for(let v=0;v<w;v++){const f=g[v],{filter:{event:p,schema:S,table:N,filter:C}}=f,P=m&&m[v];if(P&&P.event===p&&P.schema===S&&P.table===N&&P.filter===C)b.push(Object.assign(Object.assign({},f),{id:P.id}));else{this.unsubscribe(),this.state=Re.errored,t==null||t(pr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(pr.SUBSCRIBED);return}}).receive("error",m=>{this.state=Re.errored,t==null||t(pr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(pr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Re.joined&&t===zi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:a}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,u;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Re.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(zt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new pu(this,zt.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Re.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new pu(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>nb){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const a=t.toLocaleLowerCase(),{close:o,error:u,leave:c,join:d}=zt;if(n&&[o,u,c,d].indexOf(a)>=0&&n!==this._joinRef())return;let m=this._onMessage(a,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var g,w,b;return((g=y.filter)===null||g===void 0?void 0:g.event)==="*"||((b=(w=y.filter)===null||w===void 0?void 0:w.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===a}).map(y=>y.callback(m,n)):(i=this.bindings[a])===null||i===void 0||i.filter(y=>{var g,w,b,v,f,p;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in y){const S=y.id,N=(g=y.filter)===null||g===void 0?void 0:g.event;return S&&((w=r.ids)===null||w===void 0?void 0:w.includes(S))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const S=(f=(v=y==null?void 0:y.filter)===null||v===void 0?void 0:v.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return S==="*"||S===((p=r==null?void 0:r.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===a}).map(y=>{if(typeof m=="object"&&"ids"in m){const g=m.data,{schema:w,table:b,commit_timestamp:v,type:f,errors:p}=g;m=Object.assign(Object.assign({},{schema:w,table:b,commit_timestamp:v,eventType:f,new:{},old:{},errors:p}),this._getPayloadRecords(g))}y.callback(m,n)})}_isClosed(){return this.state===Re.closed}_isJoined(){return this.state===Re.joined}_isJoining(){return this.state===Re.joining}_isLeaving(){return this.state===Re.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Gd.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(zt.close,{},t)}_onError(t){this._on(zt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Re.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Qf(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Qf(t.columns,t.old_record)),r}}const Gf=()=>{},eo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},db=[1e3,2e3,5e3,1e4],hb=1e4,fb=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class mb{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Lc,this.transport=null,this.heartbeatIntervalMs=eo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Gf,this.ref=0,this.reconnectTimer=null,this.logger=Gf,this.conn=null,this.sendBuffer=[],this.serializer=new sb,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...a)=>Ca(async()=>{const{default:o}=await Promise.resolve().then(()=>li);return{default:o}},void 0).then(({default:o})=>o(...a)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...a)=>i(...a)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${$c.websocket}`,this.httpEndpoint=Uy(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=X1.createWebSocket(this.endpointURL())}catch(t){throw this._setConnectionState("disconnected"),new Error(`WebSocket not available: ${t.message}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:tb}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ui.connecting:return On.Connecting;case Ui.open:return On.Open;case Ui.closing:return On.Closing;default:return On.Closed}}isConnected(){return this.connectionState()===On.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Gd(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,a=()=>{this.encode(t,o=>{var u;(u=this.conn)===null||u===void 0||u.send(o)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(rb,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},eo.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{r.topic==="phoenix"&&r.event==="phx_reply"&&this.heartbeatCallback(r.payload.status==="ok"?"ok":"error"),r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:a}=r,o=a?`(${a})`:"",u=i.status||"";this.log("receive",`${u} ${n} ${s} ${o}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(zt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([fb],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:eb};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(zt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Fy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},eo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,a,o,u,c;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Lc,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:eo.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(o=t==null?void 0:t.reconnectAfterMs)!==null&&o!==void 0?o:d=>db[d-1]||hb,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(d,h)=>h(JSON.stringify(d)),this.decode=(c=t==null?void 0:t.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Jd extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Me(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class pb extends Jd{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Fc extends Jd{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var gb=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};const By=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ca(async()=>{const{default:n}=await Promise.resolve().then(()=>li);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},yb=()=>gb(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ca(()=>Promise.resolve().then(()=>li),void 0)).Response:Response}),Ic=e=>{if(Array.isArray(e))return e.map(r=>Ic(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Ic(n)}),t},vb=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var ss=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};const gu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),wb=(e,t,r)=>ss(void 0,void 0,void 0,function*(){const n=yield yb();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const i=e.status||500,a=(s==null?void 0:s.statusCode)||i+"";t(new pb(gu(s),i,a))}).catch(s=>{t(new Fc(gu(s),s))}):t(new Fc(gu(e),e))}),xb=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(vb(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r))};function Ta(e,t,r,n,s,i){return ss(this,void 0,void 0,function*(){return new Promise((a,o)=>{e(r,xb(t,n,s,i)).then(u=>{if(!u.ok)throw u;return n!=null&&n.noResolveJson?u:u.json()}).then(u=>a(u)).catch(u=>wb(u,o,n))})})}function Go(e,t,r,n){return ss(this,void 0,void 0,function*(){return Ta(e,"GET",t,r,n)})}function gr(e,t,r,n,s){return ss(this,void 0,void 0,function*(){return Ta(e,"POST",t,n,s,r)})}function Uc(e,t,r,n,s){return ss(this,void 0,void 0,function*(){return Ta(e,"PUT",t,n,s,r)})}function _b(e,t,r,n){return ss(this,void 0,void 0,function*(){return Ta(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function zy(e,t,r,n,s){return ss(this,void 0,void 0,function*(){return Ta(e,"DELETE",t,n,s,r)})}var at=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};const bb={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Jf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Sb{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=By(s)}uploadOrUpdate(t,r,n,s){return at(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},Jf),s);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const u=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",a.cacheControl),u&&i.append("metadata",this.encodeMetadata(u))):(i=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,u&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),h=yield(t=="PUT"?Uc:gr)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(Me(i))return{data:null,error:i};throw i}})}upload(t,r,n){return at(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return at(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),a=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",r);try{let u;const c=Object.assign({upsert:Jf.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",c.cacheControl)):(u=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield Uc(this.fetch,o.toString(),u,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(u){if(Me(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,r){return at(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield gr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),o=a.searchParams.get("token");if(!o)throw new Jd("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:o},error:null}}catch(n){if(Me(n))return{data:null,error:n};throw n}})}update(t,r,n){return at(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return at(this,void 0,void 0,function*(){try{return{data:yield gr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Me(s))return{data:null,error:s};throw s}})}copy(t,r,n){return at(this,void 0,void 0,function*(){try{return{data:{path:(yield gr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Me(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return at(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield gr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(Me(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return at(this,void 0,void 0,function*(){try{const s=yield gr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(Me(s))return{data:null,error:s};throw s}})}download(t,r){return at(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=i?`?${i}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield Go(this.fetch,`${this.url}/${s}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(Me(o))return{data:null,error:o};throw o}})}info(t){return at(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Go(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Ic(n),error:null}}catch(n){if(Me(n))return{data:null,error:n};throw n}})}exists(t){return at(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield _b(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Me(n)&&n instanceof Fc){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});u!==""&&s.push(u);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}remove(t){return at(this,void 0,void 0,function*(){try{return{data:yield zy(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Me(r))return{data:null,error:r};throw r}})}list(t,r,n){return at(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},bb),r),{prefix:t||""});return{data:yield gr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Me(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const kb="2.10.4",jb={"X-Client-Info":`storage-js/${kb}`};var os=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};class Nb{constructor(t,r={},n,s){const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},jb),r),this.fetch=By(n)}listBuckets(){return os(this,void 0,void 0,function*(){try{return{data:yield Go(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Me(t))return{data:null,error:t};throw t}})}getBucket(t){return os(this,void 0,void 0,function*(){try{return{data:yield Go(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Me(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return os(this,void 0,void 0,function*(){try{return{data:yield gr(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Me(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return os(this,void 0,void 0,function*(){try{return{data:yield Uc(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Me(n))return{data:null,error:n};throw n}})}emptyBucket(t){return os(this,void 0,void 0,function*(){try{return{data:yield gr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Me(r))return{data:null,error:r};throw r}})}deleteBucket(t){return os(this,void 0,void 0,function*(){try{return{data:yield zy(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Me(r))return{data:null,error:r};throw r}})}}class Eb extends Nb{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new Sb(this.url,this.headers,t,this.fetch)}}const Cb="2.54.0";let Pi="";typeof Deno<"u"?Pi="deno":typeof document<"u"?Pi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Pi="react-native":Pi="node";const Pb={"X-Client-Info":`supabase-js-${Pi}/${Cb}`},Tb={headers:Pb},Ob={schema:"public"},Rb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ab={};var Db=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};const Lb=e=>{let t;return e?t=e:typeof fetch>"u"?t=Ey:t=fetch,(...r)=>t(...r)},$b=()=>typeof Headers>"u"?Cy:Headers,Mb=(e,t,r)=>{const n=Lb(r),s=$b();return(i,a)=>Db(void 0,void 0,void 0,function*(){var o;const u=(o=yield t())!==null&&o!==void 0?o:e;let c=new s(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),n(i,Object.assign(Object.assign({},a),{headers:c}))})};var Fb=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};function Ib(e){return e.endsWith("/")?e:e+"/"}function Ub(e,t){var r,n;const{db:s,auth:i,realtime:a,global:o}=e,{db:u,auth:c,realtime:d,global:h}=t,m={db:Object.assign(Object.assign({},u),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},h),o),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Fb(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}const qy="2.71.1",ms=30*1e3,Bc=3,yu=Bc*ms,Bb="http://localhost:9999",zb="supabase.auth.token",qb={"X-Client-Info":`gotrue-js/${qy}`},zc="X-Supabase-Api-Version",Vy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Vb=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Wb=10*60*1e3;class Xd extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function K(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Hb extends Xd{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Qb(e){return K(e)&&e.name==="AuthApiError"}class Wy extends Xd{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class kn extends Xd{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Mr extends kn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Kb(e){return K(e)&&e.name==="AuthSessionMissingError"}class to extends kn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ro extends kn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class no extends kn{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Yb(e){return K(e)&&e.name==="AuthImplicitGrantRedirectError"}class Xf extends kn{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class qc extends kn{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function vu(e){return K(e)&&e.name==="AuthRetryableFetchError"}class Zf extends kn{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Vc extends kn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Jo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),em=` 	
\r=`.split(""),Gb=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<em.length;t+=1)e[em[t].charCodeAt(0)]=-2;for(let t=0;t<Jo.length;t+=1)e[Jo[t].charCodeAt(0)]=t;return e})();function tm(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Jo[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Jo[n]),t.queuedBits-=6}}function Hy(e,t,r){const n=Gb[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function rm(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{Zb(a,n,r)};for(let a=0;a<e.length;a+=1)Hy(e.charCodeAt(a),s,i);return t.join("")}function Jb(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Xb(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Jb(n,t)}}function Zb(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function eS(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Hy(e.charCodeAt(s),r,n);return new Uint8Array(t)}function tS(e){const t=[];return Xb(e,r=>t.push(r)),new Uint8Array(t)}function rS(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>tm(s,r,n)),tm(null,r,n),t.join("")}function nS(e){return Math.round(Date.now()/1e3)+e}function sS(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Mt=()=>typeof window<"u"&&typeof document<"u",jn={tested:!1,writable:!1},Qy=()=>{if(!Mt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(jn.tested)return jn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),jn.tested=!0,jn.writable=!0}catch{jn.tested=!0,jn.writable=!1}return jn.writable};function iS(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Ky=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ca(async()=>{const{default:n}=await Promise.resolve().then(()=>li);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},aS=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ps=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Nn=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Dr=async(e,t)=>{await e.removeItem(t)};class Ol{constructor(){this.promise=new Ol.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Ol.promiseConstructor=Promise;function wu(e){const t=e.split(".");if(t.length!==3)throw new Vc("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Vb.test(t[n]))throw new Vc("JWT not in base64url format");return{header:JSON.parse(rm(t[0])),payload:JSON.parse(rm(t[1])),signature:eS(t[2]),raw:{header:t[0],payload:t[1]}}}async function oS(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function lS(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){n(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function uS(e){return("0"+e.toString(16)).substr(-2)}function cS(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,uS).join("")}async function dS(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function hS(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await dS(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ls(e,t,r=!1){const n=cS();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await ps(e,`${t}-code-verifier`,s);const i=await hS(n);return[i,n===i?"plain":"s256"]}const fS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function mS(e){const t=e.headers.get(zc);if(!t||!t.match(fS))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function pS(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function gS(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const yS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function us(e){if(!yS.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function xu(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function nm(e){return JSON.parse(JSON.stringify(e))}var vS=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Pn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),wS=[502,503,504];async function sm(e){var t;if(!aS(e))throw new qc(Pn(e),0);if(wS.includes(e.status))throw new qc(Pn(e),e.status);let r;try{r=await e.json()}catch(i){throw new Wy(Pn(i),i)}let n;const s=mS(e);if(s&&s.getTime()>=Vy["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Zf(Pn(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Mr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Zf(Pn(r),e.status,r.weak_password.reasons);throw new Hb(Pn(r),e.status||500,n)}const xS=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function J(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[zc]||(i[zc]=Vy["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",u=await _S(e,t,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function _S(e,t,r,n,s,i){const a=xS(t,n,s,i);let o;try{o=await e(r,Object.assign({},a))}catch(u){throw console.error(u),new qc(Pn(u),0)}if(o.ok||await sm(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(u){await sm(u)}}function fr(e){var t;let r=null;jS(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=nS(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function im(e){const t=fr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function qr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function bS(e){return{data:e,error:null}}function SS(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,a=vS(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},u=Object.assign({},a);return{data:{properties:o,user:u},error:null}}function kS(e){return e}function jS(e){return e.access_token&&e.refresh_token&&e.expires_in}const _u=["global","local","others"];var NS=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class ES{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Ky(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=_u[0]){if(_u.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${_u.join(", ")}`);try{return await J(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await J(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:qr})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=NS(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await J(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:SS,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(K(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await J(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:qr})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,a,o,u;try{const c={nextPage:null,lastPage:0,total:0},d=await J(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:kS});if(d.error)throw d.error;const h=await d.json(),m=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,y=(u=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&u!==void 0?u:[];return y.length>0&&(y.forEach(g=>{const w=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(g.split(";")[1].split("=")[1]);c[`${b}Page`]=w}),c.total=parseInt(m)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(K(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){us(t);try{return await J(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:qr})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){us(t);try{return await J(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:qr})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){us(t);try{return await J(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:qr})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){us(t.userId);try{const{data:r,error:n}=await J(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(K(r))return{data:null,error:r};throw r}}async _deleteFactor(t){us(t.userId),us(t.id);try{return{data:await J(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}}}function am(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function CS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const cs={debug:!!(globalThis&&Qy()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Yy extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class PS extends Yy{}async function TS(e,t,r){cs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),cs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){cs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{cs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw cs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new PS(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(cs.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}CS();const OS={url:Bb,storageKey:zb,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:qb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function om(e,t,r){return await r()}const ds={};class ha{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ha.nextInstanceID,ha.nextInstanceID+=1,this.instanceID>0&&Mt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},OS),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new ES({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Ky(s.fetch),this.lock=s.lock||om,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Mt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=TS:this.lock=om,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Qy()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=am(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=am(this.memoryStorage)),Mt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=ds[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){ds[this.storageKey]=Object.assign(Object.assign({},ds[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=ds[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ds[this.storageKey]=Object.assign(Object.assign({},ds[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${qy}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=iS(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Mt()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Yb(i)){const u=(t=i.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return K(r)?{error:r}:{error:new Wy("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:fr}),{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const u=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(K(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:h,options:m}=t;let y=null,g=null;this.flowType==="pkce"&&([y,g]=await ls(this.storage,this.storageKey)),i=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:y,code_challenge_method:g},xform:fr})}else if("phone"in t){const{phone:d,password:h,options:m}=t;i=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:fr})}else throw new ro("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const u=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(K(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:a,options:o}=t;r=await J(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:im})}else if("phone"in t){const{phone:i,password:a,options:o}=t;r=await J(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:im})}else throw new ro("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new to}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(K(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,i,a,o,u,c,d,h,m,y;let g,w;if("message"in t)g=t.message,w=t.signature;else{const{chain:b,wallet:v,statement:f,options:p}=t;let S;if(Mt())if(typeof v=="object")S=v;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))S=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=v}const N=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const C=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),f?{statement:f}:null));let P;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")P=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)P=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)g=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),w=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${N.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(s=(n=p==null?void 0:p.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=p==null?void 0:p.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((a=p==null?void 0:p.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((o=p==null?void 0:p.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((u=p==null?void 0:p.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((c=p==null?void 0:p.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((h=(d=p==null?void 0:p.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...p.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const C=await S.signMessage(new TextEncoder().encode(g),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=C}}try{const{data:b,error:v}=await J(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:rS(w)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:fr});if(v)throw v;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new to}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:v})}catch(b){if(K(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(t){const r=await Nn(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:a}=await J(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:fr});if(await Dr(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new to}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(K(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=t,o=await J(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:fr}),{data:u,error:c}=o;return c?{data:{user:null,session:null},error:c}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new to}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:c})}catch(r){if(K(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,a;try{if("email"in t){const{email:o,options:u}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await ls(this.storage,this.storageKey));const{error:h}=await J(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:o,options:u}=t,{data:c,error:d}=await J(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(a=u==null?void 0:u.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new ro("You must provide either an email or phone number.")}catch(o){if(K(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await J(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:fr});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const u=a.session,c=a.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(s){if(K(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await ls(this.storage,this.storageKey)),await J(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:bS})}catch(i){if(K(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Mr;const{error:s}=await J(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(K(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:a}=await J(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:a,error:o}=await J(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new ro("You must provide either an email or phone number and a type")}catch(r){if(K(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Nn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<yu:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await Nn(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=xu()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(u,c,d)=>(!a&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,c,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await J(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:qr}):await this._useSession(async r=>{var n,s,i;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Mr}:await J(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:qr})})}catch(r){if(K(r))return Kb(r)&&(await this._removeSession(),await Dr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Mr;const a=s.session;let o=null,u=null;this.flowType==="pkce"&&t.email!=null&&([o,u]=await ls(this.storage,this.storageKey));const{data:c,error:d}=await J(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:u}),jwt:a.access_token,xform:qr});if(d)throw d;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Mr;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=wu(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{session:o,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:u}=await this._getUser(t.access_token);if(u)throw u;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(K(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:o}=r;if(o)throw o;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Mr;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(K(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Mt())throw new no("No browser detected.");if(t.error||t.error_description||t.error_code)throw new no(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Xf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new no("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Xf("No code detected.");const{data:f,error:p}=await this._exchangeCodeForSession(t.code);if(p)throw p;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:u,token_type:c}=t;if(!i||!o||!a||!c)throw new no("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(o);let m=d+h;u&&(m=parseInt(u));const y=m-d;y*1e3<=ms&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${h}s`);const g=m-h;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,m,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,m,d);const{data:w,error:b}=await this._getUser(i);if(b)throw b;const v={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:m,refresh_token:a,token_type:c,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(n){if(K(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Nn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,t);if(o&&!(Qb(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await Dr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=sS(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await ls(this.storage,this.storageKey,!0));try{return await J(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(K(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,o,u,c,d;const{data:h,error:m}=i;if(m)throw m;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await J(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Mt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(K(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await J(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(K(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await lS(async s=>(s>0&&await oS(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await J(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:fr})),(s,i)=>{const a=200*Math.pow(2,s);return i&&vu(i)&&Date.now()+a-n<ms})}catch(n){if(this._debug(r,"error",n),K(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Mt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Nn(this.storage,this.storageKey);if(s&&this.userStorage){let a=await Nn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await ps(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:xu()}else if(s&&!s.user&&!s.user){const a=await Nn(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await Dr(this.storage,this.storageKey+"-user"),await ps(this.storage,this.storageKey,s)):s.user=xu()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<yu;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${yu}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),vu(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(s.access_token);!o&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Mr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ol;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new Mr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),K(i)){const a={session:null,error:i};return vu(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(u){i.push(u)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ps(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=nm(s);await ps(this.storage,this.storageKey,i)}else{const s=nm(r);await ps(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Dr(this.storage,this.storageKey),await Dr(this.storage,this.storageKey+"-code-verifier"),await Dr(this.storage,this.storageKey+"-user"),this.userStorage&&await Dr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Mt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ms);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/ms);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ms}ms, refresh threshold is ${Bc} ticks`),s<=Bc&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Yy)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Mt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await ls(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await J(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(K(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:u,error:c}=await J(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(r){if(K(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:a,error:o}=await J(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(r){if(K(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await J(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(K(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=wu(s.access_token);let o=null;a.aal&&(o=a.aal);let u=o;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const d=a.amr||[];return{data:{currentLevel:o,nextLevel:u,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+Wb>s)return n;const{data:i,error:a}=await J(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:y,error:g}=await this.getSession();if(g||!y.session)return{data:null,error:g};n=y.session.access_token}const{header:s,payload:i,signature:a,raw:{header:o,payload:u}}=wu(n);r!=null&&r.allowExpired||pS(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:i,header:s,signature:a},error:null}}const d=gS(s.alg),h=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,tS(`${o}.${u}`)))throw new Vc("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}}}ha.nextInstanceID=0;const RS=ha;class AS extends RS{constructor(t){super(t)}}var DS=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};class LS{constructor(t,r,n){var s,i,a;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=Ib(t),u=new URL(o);this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const c=`sb-${u.hostname.split(".")[0]}-auth-token`,d={db:Ob,realtime:Ab,auth:Object.assign(Object.assign({},Rb),{storageKey:c}),global:Tb},h=Ub(n??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(m,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=h.auth)!==null&&a!==void 0?a:{},this.headers,h.global.fetch),this.fetch=Mb(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new J1(new URL("rest/v1",u).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new Eb(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new E1(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return DS(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:a,lock:o,debug:u},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new AS({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),c),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:a,lock:o,debug:u,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new mb(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const $S=(e,t,r)=>new LS(e,t,r);function MS(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}MS()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const FS="https://ksqungutcoewsiykigpr.supabase.co",IS="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtzcXVuZ3V0Y29ld3NpeWtpZ3ByIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ4NjU5NzcsImV4cCI6MjA3MDQ0MTk3N30.x38t-k-i7X8PTIjjWu9Iy2qb0hKpoyhia8N-z7r47GQ",W=$S(FS,IS,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},realtime:{params:{eventsPerSecond:10}}}),Gy=k.createContext(void 0);function US({children:e}){const[t,r]=k.useState(null),[n,s]=k.useState(null),[i,a]=k.useState(!0);k.useEffect(()=>{W.auth.getSession().then(({data:{session:g}})=>{s(g),r((g==null?void 0:g.user)??null),a(!1)});const{data:{subscription:y}}=W.auth.onAuthStateChange((g,w)=>{s(w),r((w==null?void 0:w.user)??null),a(!1)});return()=>y.unsubscribe()},[]);const m={user:t,session:n,loading:i,signUp:async(y,g,w)=>{const{error:b}=await W.auth.signUp({email:y,password:g,options:{data:{display_name:w}}});if(b)throw b},signIn:async(y,g)=>{const{error:w}=await W.auth.signInWithPassword({email:y,password:g});if(w)throw w},signOut:async()=>{const{error:y}=await W.auth.signOut();if(y)throw y},resetPassword:async y=>{const{error:g}=await W.auth.resetPasswordForEmail(y,{redirectTo:`${window.location.origin}/reset-password`});if(g)throw g},updatePassword:async y=>{const{error:g}=await W.auth.updateUser({password:y});if(g)throw g}};return l.jsx(Gy.Provider,{value:m,children:e})}function Ue(){const e=k.useContext(Gy);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function BS(){const{user:e,loading:t}=Ue();return t?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):e?l.jsx(Bx,{}):l.jsx(uy,{to:"/login",replace:!0})}var Oa=e=>e.type==="checkbox",$n=e=>e instanceof Date,tt=e=>e==null;const Jy=e=>typeof e=="object";var Ne=e=>!tt(e)&&!Array.isArray(e)&&Jy(e)&&!$n(e),zS=e=>Ne(e)&&e.target?Oa(e.target)?e.target.checked:e.target.value:e,qS=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,VS=(e,t)=>e.has(qS(t)),WS=e=>{const t=e.constructor&&e.constructor.prototype;return Ne(t)&&t.hasOwnProperty("isPrototypeOf")},Zd=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function $e(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(Zd&&(e instanceof Blob||n))&&(r||Ne(e)))if(t=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!WS(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=$e(e[s]));else return e;return t}var Rl=e=>/^\w*$/.test(e),Pe=e=>e===void 0,eh=e=>Array.isArray(e)?e.filter(Boolean):[],th=e=>eh(e.replace(/["|']|\]/g,"").split(/\.|\[/)),I=(e,t,r)=>{if(!t||!Ne(e))return r;const n=(Rl(t)?[t]:th(t)).reduce((s,i)=>tt(s)?s:s[i],e);return Pe(n)||n===e?Pe(e[t])?r:e[t]:n},Xt=e=>typeof e=="boolean",ge=(e,t,r)=>{let n=-1;const s=Rl(t)?[t]:th(t),i=s.length,a=i-1;for(;++n<i;){const o=s[n];let u=r;if(n!==a){const c=e[o];u=Ne(c)||Array.isArray(c)?c:isNaN(+s[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;e[o]=u,e=e[o]}};const lm={BLUR:"blur",FOCUS_OUT:"focusout"},Vt={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},dr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},HS=ut.createContext(null);HS.displayName="HookFormContext";var QS=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const a=i;return t._proxyFormState[a]!==Vt.all&&(t._proxyFormState[a]=!n||Vt.all),e[a]}});return s};const KS=typeof window<"u"?ut.useLayoutEffect:ut.useEffect;var nr=e=>typeof e=="string",YS=(e,t,r,n,s)=>nr(e)?(n&&t.watch.add(e),I(r,e,s)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),I(r,i))):(n&&(t.watchAll=!0),r),Wc=e=>tt(e)||!Jy(e);function Vr(e,t,r=new WeakSet){if(Wc(e)||Wc(t))return e===t;if($n(e)&&$n(t))return e.getTime()===t.getTime();const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const a=e[i];if(!s.includes(i))return!1;if(i!=="ref"){const o=t[i];if($n(a)&&$n(o)||Ne(a)&&Ne(o)||Array.isArray(a)&&Array.isArray(o)?!Vr(a,o,r):a!==o)return!1}}return!0}var GS=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},qi=e=>Array.isArray(e)?e:[e],um=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}},ct=e=>Ne(e)&&!Object.keys(e).length,rh=e=>e.type==="file",Wt=e=>typeof e=="function",Xo=e=>{if(!Zd)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Xy=e=>e.type==="select-multiple",nh=e=>e.type==="radio",JS=e=>nh(e)||Oa(e),bu=e=>Xo(e)&&e.isConnected;function XS(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Pe(e)?n++:e[t[n++]];return e}function ZS(e){for(const t in e)if(e.hasOwnProperty(t)&&!Pe(e[t]))return!1;return!0}function Ce(e,t){const r=Array.isArray(t)?t:Rl(t)?[t]:th(t),n=r.length===1?e:XS(e,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(Ne(n)&&ct(n)||Array.isArray(n)&&ZS(n))&&Ce(e,r.slice(0,-1)),e}var Zy=e=>{for(const t in e)if(Wt(e[t]))return!0;return!1};function Zo(e,t={}){const r=Array.isArray(e);if(Ne(e)||r)for(const n in e)Array.isArray(e[n])||Ne(e[n])&&!Zy(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Zo(e[n],t[n])):tt(e[n])||(t[n]=!0);return t}function ev(e,t,r){const n=Array.isArray(e);if(Ne(e)||n)for(const s in e)Array.isArray(e[s])||Ne(e[s])&&!Zy(e[s])?Pe(t)||Wc(r[s])?r[s]=Array.isArray(e[s])?Zo(e[s],[]):{...Zo(e[s])}:ev(e[s],tt(t)?{}:t[s],r[s]):r[s]=!Vr(e[s],t[s]);return r}var xi=(e,t)=>ev(e,t,Zo(t));const cm={value:!1,isValid:!1},dm={value:!0,isValid:!0};var tv=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Pe(e[0].attributes.value)?Pe(e[0].value)||e[0].value===""?dm:{value:e[0].value,isValid:!0}:dm:cm}return cm},rv=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Pe(e)?e:t?e===""?NaN:e&&+e:r&&nr(e)?new Date(e):n?n(e):e;const hm={isValid:!1,value:null};var nv=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,hm):hm;function fm(e){const t=e.ref;return rh(t)?t.files:nh(t)?nv(e.refs).value:Xy(t)?[...t.selectedOptions].map(({value:r})=>r):Oa(t)?tv(e.refs).value:rv(Pe(t.value)?e.ref.value:t.value,e)}var ek=(e,t,r,n)=>{const s={};for(const i of e){const a=I(t,i);a&&ge(s,i,a._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},el=e=>e instanceof RegExp,_i=e=>Pe(e)?e:el(e)?e.source:Ne(e)?el(e.value)?e.value.source:e.value:e,mm=e=>({isOnSubmit:!e||e===Vt.onSubmit,isOnBlur:e===Vt.onBlur,isOnChange:e===Vt.onChange,isOnAll:e===Vt.all,isOnTouch:e===Vt.onTouched});const pm="AsyncFunction";var tk=e=>!!e&&!!e.validate&&!!(Wt(e.validate)&&e.validate.constructor.name===pm||Ne(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===pm)),rk=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),gm=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Vi=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const i=I(e,s);if(i){const{_f:a,...o}=i;if(a){if(a.refs&&a.refs[0]&&t(a.refs[0],s)&&!n)return!0;if(a.ref&&t(a.ref,a.name)&&!n)return!0;if(Vi(o,t))break}else if(Ne(o)&&Vi(o,t))break}}};function ym(e,t,r){const n=I(e,r);if(n||Rl(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),a=I(t,i),o=I(e,i);if(a&&!Array.isArray(a)&&r!==i)return{name:r};if(o&&o.type)return{name:i,error:o};if(o&&o.root&&o.root.type)return{name:`${i}.root`,error:o.root};s.pop()}return{name:r}}var nk=(e,t,r,n)=>{r(e);const{name:s,...i}=e;return ct(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(a=>t[a]===(!n||Vt.all))},sk=(e,t,r)=>!e||!t||e===t||qi(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),ik=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,ak=(e,t)=>!eh(I(e,t)).length&&Ce(e,t),ok=(e,t,r)=>{const n=qi(I(e,r));return ge(n,"root",t[r]),ge(e,r,n),e},xo=e=>nr(e);function vm(e,t,r="validate"){if(xo(e)||Array.isArray(e)&&e.every(xo)||Xt(e)&&!e)return{type:r,message:xo(e)?e:"",ref:t}}var hs=e=>Ne(e)&&!el(e)?e:{value:e,message:""},wm=async(e,t,r,n,s,i)=>{const{ref:a,refs:o,required:u,maxLength:c,minLength:d,min:h,max:m,pattern:y,validate:g,name:w,valueAsNumber:b,mount:v}=e._f,f=I(r,w);if(!v||t.has(w))return{};const p=o?o[0]:a,S=H=>{s&&p.reportValidity&&(p.setCustomValidity(Xt(H)?"":H||""),p.reportValidity())},N={},C=nh(a),P=Oa(a),R=C||P,U=(b||rh(a))&&Pe(a.value)&&Pe(f)||Xo(a)&&a.value===""||f===""||Array.isArray(f)&&!f.length,D=GS.bind(null,w,n,N),Z=(H,Y,ue,Oe=dr.maxLength,Ee=dr.minLength)=>{const We=H?Y:ue;N[w]={type:H?Oe:Ee,message:We,ref:a,...D(H?Oe:Ee,We)}};if(i?!Array.isArray(f)||!f.length:u&&(!R&&(U||tt(f))||Xt(f)&&!f||P&&!tv(o).isValid||C&&!nv(o).isValid)){const{value:H,message:Y}=xo(u)?{value:!!u,message:u}:hs(u);if(H&&(N[w]={type:dr.required,message:Y,ref:p,...D(dr.required,Y)},!n))return S(Y),N}if(!U&&(!tt(h)||!tt(m))){let H,Y;const ue=hs(m),Oe=hs(h);if(!tt(f)&&!isNaN(f)){const Ee=a.valueAsNumber||f&&+f;tt(ue.value)||(H=Ee>ue.value),tt(Oe.value)||(Y=Ee<Oe.value)}else{const Ee=a.valueAsDate||new Date(f),We=Q=>new Date(new Date().toDateString()+" "+Q),L=a.type=="time",B=a.type=="week";nr(ue.value)&&f&&(H=L?We(f)>We(ue.value):B?f>ue.value:Ee>new Date(ue.value)),nr(Oe.value)&&f&&(Y=L?We(f)<We(Oe.value):B?f<Oe.value:Ee<new Date(Oe.value))}if((H||Y)&&(Z(!!H,ue.message,Oe.message,dr.max,dr.min),!n))return S(N[w].message),N}if((c||d)&&!U&&(nr(f)||i&&Array.isArray(f))){const H=hs(c),Y=hs(d),ue=!tt(H.value)&&f.length>+H.value,Oe=!tt(Y.value)&&f.length<+Y.value;if((ue||Oe)&&(Z(ue,H.message,Y.message),!n))return S(N[w].message),N}if(y&&!U&&nr(f)){const{value:H,message:Y}=hs(y);if(el(H)&&!f.match(H)&&(N[w]={type:dr.pattern,message:Y,ref:a,...D(dr.pattern,Y)},!n))return S(Y),N}if(g){if(Wt(g)){const H=await g(f,r),Y=vm(H,p);if(Y&&(N[w]={...Y,...D(dr.validate,Y.message)},!n))return S(Y.message),N}else if(Ne(g)){let H={};for(const Y in g){if(!ct(H)&&!n)break;const ue=vm(await g[Y](f,r),p,Y);ue&&(H={...ue,...D(Y,ue.message)},S(ue.message),n&&(N[w]=H))}if(!ct(H)&&(N[w]={ref:p,...H},!n))return N}}return S(!0),N};const lk={mode:Vt.onSubmit,reValidateMode:Vt.onChange,shouldFocusError:!0};function uk(e={}){let t={...lk,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Wt(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=Ne(t.defaultValues)||Ne(t.values)?$e(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:$e(s),a={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...d};const m={array:um(),state:um()},y=t.criteriaMode===Vt.all,g=_=>j=>{clearTimeout(c),c=setTimeout(_,j)},w=async _=>{if(!t.disabled&&(d.isValid||h.isValid||_)){const j=t.resolver?ct((await P()).errors):await U(n,!0);j!==r.isValid&&m.state.next({isValid:j})}},b=(_,j)=>{!t.disabled&&(d.isValidating||d.validatingFields||h.isValidating||h.validatingFields)&&((_||Array.from(o.mount)).forEach(E=>{E&&(j?ge(r.validatingFields,E,j):Ce(r.validatingFields,E))}),m.state.next({validatingFields:r.validatingFields,isValidating:!ct(r.validatingFields)}))},v=(_,j=[],E,M,A=!0,O=!0)=>{if(M&&E&&!t.disabled){if(a.action=!0,O&&Array.isArray(I(n,_))){const z=E(I(n,_),M.argA,M.argB);A&&ge(n,_,z)}if(O&&Array.isArray(I(r.errors,_))){const z=E(I(r.errors,_),M.argA,M.argB);A&&ge(r.errors,_,z),ak(r.errors,_)}if((d.touchedFields||h.touchedFields)&&O&&Array.isArray(I(r.touchedFields,_))){const z=E(I(r.touchedFields,_),M.argA,M.argB);A&&ge(r.touchedFields,_,z)}(d.dirtyFields||h.dirtyFields)&&(r.dirtyFields=xi(s,i)),m.state.next({name:_,isDirty:Z(_,j),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else ge(i,_,j)},f=(_,j)=>{ge(r.errors,_,j),m.state.next({errors:r.errors})},p=_=>{r.errors=_,m.state.next({errors:r.errors,isValid:!1})},S=(_,j,E,M)=>{const A=I(n,_);if(A){const O=I(i,_,Pe(E)?I(s,_):E);Pe(O)||M&&M.defaultChecked||j?ge(i,_,j?O:fm(A._f)):ue(_,O),a.mount&&w()}},N=(_,j,E,M,A)=>{let O=!1,z=!1;const se={name:_};if(!t.disabled){if(!E||M){(d.isDirty||h.isDirty)&&(z=r.isDirty,r.isDirty=se.isDirty=Z(),O=z!==se.isDirty);const ce=Vr(I(s,_),j);z=!!I(r.dirtyFields,_),ce?Ce(r.dirtyFields,_):ge(r.dirtyFields,_,!0),se.dirtyFields=r.dirtyFields,O=O||(d.dirtyFields||h.dirtyFields)&&z!==!ce}if(E){const ce=I(r.touchedFields,_);ce||(ge(r.touchedFields,_,E),se.touchedFields=r.touchedFields,O=O||(d.touchedFields||h.touchedFields)&&ce!==E)}O&&A&&m.state.next(se)}return O?se:{}},C=(_,j,E,M)=>{const A=I(r.errors,_),O=(d.isValid||h.isValid)&&Xt(j)&&r.isValid!==j;if(t.delayError&&E?(u=g(()=>f(_,E)),u(t.delayError)):(clearTimeout(c),u=null,E?ge(r.errors,_,E):Ce(r.errors,_)),(E?!Vr(A,E):A)||!ct(M)||O){const z={...M,...O&&Xt(j)?{isValid:j}:{},errors:r.errors,name:_};r={...r,...z},m.state.next(z)}},P=async _=>{b(_,!0);const j=await t.resolver(i,t.context,ek(_||o.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return b(_),j},R=async _=>{const{errors:j}=await P(_);if(_)for(const E of _){const M=I(j,E);M?ge(r.errors,E,M):Ce(r.errors,E)}else r.errors=j;return j},U=async(_,j,E={valid:!0})=>{for(const M in _){const A=_[M];if(A){const{_f:O,...z}=A;if(O){const se=o.array.has(O.name),ce=A._f&&tk(A._f);ce&&d.validatingFields&&b([M],!0);const Nt=await wm(A,o.disabled,i,y,t.shouldUseNativeValidation&&!j,se);if(ce&&d.validatingFields&&b([M]),Nt[O.name]&&(E.valid=!1,j))break;!j&&(I(Nt,O.name)?se?ok(r.errors,Nt,O.name):ge(r.errors,O.name,Nt[O.name]):Ce(r.errors,O.name))}!ct(z)&&await U(z,j,E)}}return E.valid},D=()=>{for(const _ of o.unMount){const j=I(n,_);j&&(j._f.refs?j._f.refs.every(E=>!bu(E)):!bu(j._f.ref))&&Or(_)}o.unMount=new Set},Z=(_,j)=>!t.disabled&&(_&&j&&ge(i,_,j),!Vr(Q(),s)),H=(_,j,E)=>YS(_,o,{...a.mount?i:Pe(j)?s:nr(_)?{[_]:j}:j},E,j),Y=_=>eh(I(a.mount?i:s,_,t.shouldUnregister?I(s,_,[]):[])),ue=(_,j,E={})=>{const M=I(n,_);let A=j;if(M){const O=M._f;O&&(!O.disabled&&ge(i,_,rv(j,O)),A=Xo(O.ref)&&tt(j)?"":j,Xy(O.ref)?[...O.ref.options].forEach(z=>z.selected=A.includes(z.value)):O.refs?Oa(O.ref)?O.refs.forEach(z=>{(!z.defaultChecked||!z.disabled)&&(Array.isArray(A)?z.checked=!!A.find(se=>se===z.value):z.checked=A===z.value||!!A)}):O.refs.forEach(z=>z.checked=z.value===A):rh(O.ref)?O.ref.value="":(O.ref.value=A,O.ref.type||m.state.next({name:_,values:$e(i)})))}(E.shouldDirty||E.shouldTouch)&&N(_,A,E.shouldTouch,E.shouldDirty,!0),E.shouldValidate&&B(_)},Oe=(_,j,E)=>{for(const M in j){if(!j.hasOwnProperty(M))return;const A=j[M],O=_+"."+M,z=I(n,O);(o.array.has(_)||Ne(A)||z&&!z._f)&&!$n(A)?Oe(O,A,E):ue(O,A,E)}},Ee=(_,j,E={})=>{const M=I(n,_),A=o.array.has(_),O=$e(j);ge(i,_,O),A?(m.array.next({name:_,values:$e(i)}),(d.isDirty||d.dirtyFields||h.isDirty||h.dirtyFields)&&E.shouldDirty&&m.state.next({name:_,dirtyFields:xi(s,i),isDirty:Z(_,O)})):M&&!M._f&&!tt(O)?Oe(_,O,E):ue(_,O,E),gm(_,o)&&m.state.next({...r,name:_}),m.state.next({name:a.mount?_:void 0,values:$e(i)})},We=async _=>{a.mount=!0;const j=_.target;let E=j.name,M=!0;const A=I(n,E),O=ce=>{M=Number.isNaN(ce)||$n(ce)&&isNaN(ce.getTime())||Vr(ce,I(i,E,ce))},z=mm(t.mode),se=mm(t.reValidateMode);if(A){let ce,Nt;const Aa=j.type?fm(A._f):zS(_),Rr=_.type===lm.BLUR||_.type===lm.FOCUS_OUT,yv=!rk(A._f)&&!t.resolver&&!I(r.errors,E)&&!A._f.deps||ik(Rr,I(r.touchedFields,E),r.isSubmitted,se,z),Fl=gm(E,o,Rr);ge(i,E,Aa),Rr?(!j||!j.readOnly)&&(A._f.onBlur&&A._f.onBlur(_),u&&u(0)):A._f.onChange&&A._f.onChange(_);const Il=N(E,Aa,Rr),vv=!ct(Il)||Fl;if(!Rr&&m.state.next({name:E,type:_.type,values:$e(i)}),yv)return(d.isValid||h.isValid)&&(t.mode==="onBlur"?Rr&&w():Rr||w()),vv&&m.state.next({name:E,...Fl?{}:Il});if(!Rr&&Fl&&m.state.next({...r}),t.resolver){const{errors:fh}=await P([E]);if(O(Aa),M){const wv=ym(r.errors,n,E),mh=ym(fh,n,wv.name||E);ce=mh.error,E=mh.name,Nt=ct(fh)}}else b([E],!0),ce=(await wm(A,o.disabled,i,y,t.shouldUseNativeValidation))[E],b([E]),O(Aa),M&&(ce?Nt=!1:(d.isValid||h.isValid)&&(Nt=await U(n,!0)));M&&(A._f.deps&&B(A._f.deps),C(E,Nt,ce,Il))}},L=(_,j)=>{if(I(r.errors,j)&&_.focus)return _.focus(),1},B=async(_,j={})=>{let E,M;const A=qi(_);if(t.resolver){const O=await R(Pe(_)?_:A);E=ct(O),M=_?!A.some(z=>I(O,z)):E}else _?(M=(await Promise.all(A.map(async O=>{const z=I(n,O);return await U(z&&z._f?{[O]:z}:z)}))).every(Boolean),!(!M&&!r.isValid)&&w()):M=E=await U(n);return m.state.next({...!nr(_)||(d.isValid||h.isValid)&&E!==r.isValid?{}:{name:_},...t.resolver||!_?{isValid:E}:{},errors:r.errors}),j.shouldFocus&&!M&&Vi(n,L,_?A:o.mount),M},Q=_=>{const j={...a.mount?i:s};return Pe(_)?j:nr(_)?I(j,_):_.map(E=>I(j,E))},oe=(_,j)=>({invalid:!!I((j||r).errors,_),isDirty:!!I((j||r).dirtyFields,_),error:I((j||r).errors,_),isValidating:!!I(r.validatingFields,_),isTouched:!!I((j||r).touchedFields,_)}),ve=_=>{_&&qi(_).forEach(j=>Ce(r.errors,j)),m.state.next({errors:_?r.errors:{}})},lr=(_,j,E)=>{const M=(I(n,_,{_f:{}})._f||{}).ref,A=I(r.errors,_)||{},{ref:O,message:z,type:se,...ce}=A;ge(r.errors,_,{...ce,...j,ref:M}),m.state.next({name:_,errors:r.errors,isValid:!1}),E&&E.shouldFocus&&M&&M.focus&&M.focus()},jt=(_,j)=>Wt(_)?m.state.subscribe({next:E=>"values"in E&&_(H(void 0,j),E)}):H(_,j,!0),is=_=>m.state.subscribe({next:j=>{sk(_.name,j.name,_.exact)&&nk(j,_.formState||d,gv,_.reRenderRoot)&&_.callback({values:{...i},...r,...j,defaultValues:s})}}).unsubscribe,ur=_=>(a.mount=!0,h={...h,..._.formState},is({..._,formState:h})),Or=(_,j={})=>{for(const E of _?qi(_):o.mount)o.mount.delete(E),o.array.delete(E),j.keepValue||(Ce(n,E),Ce(i,E)),!j.keepError&&Ce(r.errors,E),!j.keepDirty&&Ce(r.dirtyFields,E),!j.keepTouched&&Ce(r.touchedFields,E),!j.keepIsValidating&&Ce(r.validatingFields,E),!t.shouldUnregister&&!j.keepDefaultValue&&Ce(s,E);m.state.next({values:$e(i)}),m.state.next({...r,...j.keepDirty?{isDirty:Z()}:{}}),!j.keepIsValid&&w()},lh=({disabled:_,name:j})=>{(Xt(_)&&a.mount||_||o.disabled.has(j))&&(_?o.disabled.add(j):o.disabled.delete(j))},$l=(_,j={})=>{let E=I(n,_);const M=Xt(j.disabled)||Xt(t.disabled);return ge(n,_,{...E||{},_f:{...E&&E._f?E._f:{ref:{name:_}},name:_,mount:!0,...j}}),o.mount.add(_),E?lh({disabled:Xt(j.disabled)?j.disabled:t.disabled,name:_}):S(_,!0,j.value),{...M?{disabled:j.disabled||t.disabled}:{},...t.progressive?{required:!!j.required,min:_i(j.min),max:_i(j.max),minLength:_i(j.minLength),maxLength:_i(j.maxLength),pattern:_i(j.pattern)}:{},name:_,onChange:We,onBlur:We,ref:A=>{if(A){$l(_,j),E=I(n,_);const O=Pe(A.value)&&A.querySelectorAll&&A.querySelectorAll("input,select,textarea")[0]||A,z=JS(O),se=E._f.refs||[];if(z?se.find(ce=>ce===O):O===E._f.ref)return;ge(n,_,{_f:{...E._f,...z?{refs:[...se.filter(bu),O,...Array.isArray(I(s,_))?[{}]:[]],ref:{type:O.type,name:_}}:{ref:O}}}),S(_,!1,void 0,O)}else E=I(n,_,{}),E._f&&(E._f.mount=!1),(t.shouldUnregister||j.shouldUnregister)&&!(VS(o.array,_)&&a.action)&&o.unMount.add(_)}}},Ml=()=>t.shouldFocusError&&Vi(n,L,o.mount),fv=_=>{Xt(_)&&(m.state.next({disabled:_}),Vi(n,(j,E)=>{const M=I(n,E);M&&(j.disabled=M._f.disabled||_,Array.isArray(M._f.refs)&&M._f.refs.forEach(A=>{A.disabled=M._f.disabled||_}))},0,!1))},uh=(_,j)=>async E=>{let M;E&&(E.preventDefault&&E.preventDefault(),E.persist&&E.persist());let A=$e(i);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:O,values:z}=await P();r.errors=O,A=$e(z)}else await U(n);if(o.disabled.size)for(const O of o.disabled)Ce(A,O);if(Ce(r.errors,"root"),ct(r.errors)){m.state.next({errors:{}});try{await _(A,E)}catch(O){M=O}}else j&&await j({...r.errors},E),Ml(),setTimeout(Ml);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ct(r.errors)&&!M,submitCount:r.submitCount+1,errors:r.errors}),M)throw M},mv=(_,j={})=>{I(n,_)&&(Pe(j.defaultValue)?Ee(_,$e(I(s,_))):(Ee(_,j.defaultValue),ge(s,_,$e(j.defaultValue))),j.keepTouched||Ce(r.touchedFields,_),j.keepDirty||(Ce(r.dirtyFields,_),r.isDirty=j.defaultValue?Z(_,$e(I(s,_))):Z()),j.keepError||(Ce(r.errors,_),d.isValid&&w()),m.state.next({...r}))},ch=(_,j={})=>{const E=_?$e(_):s,M=$e(E),A=ct(_),O=A?s:M;if(j.keepDefaultValues||(s=E),!j.keepValues){if(j.keepDirtyValues){const z=new Set([...o.mount,...Object.keys(xi(s,i))]);for(const se of Array.from(z))I(r.dirtyFields,se)?ge(O,se,I(i,se)):Ee(se,I(O,se))}else{if(Zd&&Pe(_))for(const z of o.mount){const se=I(n,z);if(se&&se._f){const ce=Array.isArray(se._f.refs)?se._f.refs[0]:se._f.ref;if(Xo(ce)){const Nt=ce.closest("form");if(Nt){Nt.reset();break}}}}if(j.keepFieldsRef)for(const z of o.mount)Ee(z,I(O,z));else n={}}i=t.shouldUnregister?j.keepDefaultValues?$e(s):{}:$e(O),m.array.next({values:{...O}}),m.state.next({values:{...O}})}o={mount:j.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!d.isValid||!!j.keepIsValid||!!j.keepDirtyValues,a.watch=!!t.shouldUnregister,m.state.next({submitCount:j.keepSubmitCount?r.submitCount:0,isDirty:A?!1:j.keepDirty?r.isDirty:!!(j.keepDefaultValues&&!Vr(_,s)),isSubmitted:j.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:A?{}:j.keepDirtyValues?j.keepDefaultValues&&i?xi(s,i):r.dirtyFields:j.keepDefaultValues&&_?xi(s,_):j.keepDirty?r.dirtyFields:{},touchedFields:j.keepTouched?r.touchedFields:{},errors:j.keepErrors?r.errors:{},isSubmitSuccessful:j.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},dh=(_,j)=>ch(Wt(_)?_(i):_,j),pv=(_,j={})=>{const E=I(n,_),M=E&&E._f;if(M){const A=M.refs?M.refs[0]:M.ref;A.focus&&(A.focus(),j.shouldSelect&&Wt(A.select)&&A.select())}},gv=_=>{r={...r,..._}},hh={control:{register:$l,unregister:Or,getFieldState:oe,handleSubmit:uh,setError:lr,_subscribe:is,_runSchema:P,_focusError:Ml,_getWatch:H,_getDirty:Z,_setValid:w,_setFieldArray:v,_setDisabledField:lh,_setErrors:p,_getFieldArray:Y,_reset:ch,_resetDefaultValues:()=>Wt(t.defaultValues)&&t.defaultValues().then(_=>{dh(_,t.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:D,_disableForm:fv,_subjects:m,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return a},set _state(_){a=_},get _defaultValues(){return s},get _names(){return o},set _names(_){o=_},get _formState(){return r},get _options(){return t},set _options(_){t={...t,..._}}},subscribe:ur,trigger:B,register:$l,handleSubmit:uh,watch:jt,setValue:Ee,getValues:Q,reset:dh,resetField:mv,clearErrors:ve,unregister:Or,setError:lr,setFocus:pv,getFieldState:oe};return{...hh,formControl:hh}}function Pr(e={}){const t=ut.useRef(void 0),r=ut.useRef(void 0),[n,s]=ut.useState({isDirty:!1,isValidating:!1,isLoading:Wt(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Wt(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!Wt(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:a,...o}=uk(e);t.current={...o,formState:n}}const i=t.current.control;return i._options=e,KS(()=>{const a=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(o=>({...o,isReady:!0})),i._formState.isReady=!0,a},[i]),ut.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),ut.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),ut.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),ut.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),ut.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==n.isDirty&&i._subjects.state.next({isDirty:a})}},[i,n.isDirty]),ut.useEffect(()=>{e.values&&!Vr(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=e.values,s(a=>({...a}))):i._resetDefaultValues()},[i,e.values]),ut.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=QS(n,i),t.current}/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),sv=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var dk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=k.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:a,...o},u)=>k.createElement("svg",{ref:u,...dk,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:sv("lucide",s),...o},[...a.map(([c,d])=>k.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=(e,t)=>{const r=k.forwardRef(({className:n,...s},i)=>k.createElement(hk,{ref:i,iconNode:t,className:sv(`lucide-${ck(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=ne("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=ne("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=ne("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=ne("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=ne("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=ne("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=ne("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=ne("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=ne("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=ne("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=ne("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=ne("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=ne("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=ne("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=ne("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=ne("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=ne("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=ne("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=ne("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=ne("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=ne("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dl=ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bk=ne("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=ne("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=ne("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=ne("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=ne("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);function kk(){const[e,t]=k.useState(!1),{signIn:r}=Ue(),n=it(),{register:s,handleSubmit:i,formState:{errors:a}}=Pr(),o=async u=>{try{t(!0),await r(u.email,u.password),V.success("Welcome back!"),n("/dashboard")}catch(c){V.error(c.message||"Failed to sign in")}finally{t(!1)}};return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 to-primary-100",children:l.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md",children:[l.jsx("div",{className:"flex items-center justify-center mb-8",children:l.jsx(me,{className:"h-12 w-12 text-primary-600"})}),l.jsx("h2",{className:"text-3xl font-bold text-center mb-8 text-gray-900",children:"Welcome Back"}),l.jsxs("form",{onSubmit:i(o),className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),l.jsx("input",{...s("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),type:"email",className:"input-field",placeholder:"your@email.com"}),a.email&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.email.message})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),l.jsx("input",{...s("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),type:"password",className:"input-field",placeholder:"••••••••"}),a.password&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.password.message})]}),l.jsx("button",{type:"submit",disabled:e,className:"w-full btn-primary",children:e?"Signing in...":"Sign In"})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsx(ca,{to:"/forgot-password",className:"text-sm text-primary-600 hover:text-primary-700",children:"Forgot your password?"})}),l.jsx("div",{className:"mt-6 text-center",children:l.jsxs("span",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",l.jsx(ca,{to:"/register",className:"text-primary-600 hover:text-primary-700 font-medium",children:"Sign up"})]})})]})})}function jk(){const[e,t]=k.useState(!1),{signUp:r}=Ue(),n=it(),{register:s,handleSubmit:i,watch:a,formState:{errors:o}}=Pr(),u=a("password"),c=async d=>{try{t(!0),await r(d.email,d.password,d.displayName),V.success("Registration successful! Please check your email to verify your account before signing in."),n("/login")}catch(h){V.error(h.message||"Failed to sign up")}finally{t(!1)}};return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 to-primary-100",children:l.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md",children:[l.jsx("div",{className:"flex items-center justify-center mb-8",children:l.jsx(me,{className:"h-12 w-12 text-primary-600"})}),l.jsx("h2",{className:"text-3xl font-bold text-center mb-8 text-gray-900",children:"Create Your Account"}),l.jsxs("form",{onSubmit:i(c),className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Display Name"}),l.jsx("input",{...s("displayName",{required:"Display name is required",minLength:{value:2,message:"Display name must be at least 2 characters"}}),type:"text",className:"input-field",placeholder:"John Doe"}),o.displayName&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.displayName.message})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),l.jsx("input",{...s("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),type:"email",className:"input-field",placeholder:"your@email.com"}),o.email&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.email.message})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),l.jsx("input",{...s("password",{required:"Password is required",minLength:{value:8,message:"Password must be at least 8 characters"},pattern:{value:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]/,message:"Password must contain uppercase, lowercase, number and special character"}}),type:"password",className:"input-field",placeholder:"••••••••"}),o.password&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.password.message})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),l.jsx("input",{...s("confirmPassword",{required:"Please confirm your password",validate:d=>d===u||"Passwords do not match"}),type:"password",className:"input-field",placeholder:"••••••••"}),o.confirmPassword&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.confirmPassword.message})]}),l.jsx("button",{type:"submit",disabled:e,className:"w-full btn-primary",children:e?"Creating account...":"Sign Up"})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsxs("span",{className:"text-sm text-gray-600",children:["Already have an account?"," ",l.jsx(ca,{to:"/login",className:"text-primary-600 hover:text-primary-700 font-medium",children:"Sign in"})]})})]})})}function Nk(){const[e,t]=k.useState(!1),[r,n]=k.useState(!1),{resetPassword:s}=Ue(),{register:i,handleSubmit:a,formState:{errors:o}}=Pr(),u=async c=>{try{t(!0),await s(c.email),n(!0),V.success("Password reset email sent! Please check your inbox.")}catch(d){V.error(d.message||"Failed to send reset email")}finally{t(!1)}};return r?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 to-primary-100",children:l.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md text-center",children:[l.jsx("div",{className:"flex items-center justify-center mb-8",children:l.jsx(me,{className:"h-12 w-12 text-primary-600"})}),l.jsx("h2",{className:"text-3xl font-bold mb-4 text-gray-900",children:"Check Your Email"}),l.jsx("p",{className:"text-gray-600 mb-8",children:"We've sent a password reset link to your email address. Please check your inbox and follow the instructions."}),l.jsxs(ca,{to:"/login",className:"inline-flex items-center text-primary-600 hover:text-primary-700 font-medium",children:[l.jsx(ar,{className:"w-4 h-4 mr-2"}),"Back to login"]})]})}):l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 to-primary-100",children:l.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md",children:[l.jsx("div",{className:"flex items-center justify-center mb-8",children:l.jsx(me,{className:"h-12 w-12 text-primary-600"})}),l.jsx("h2",{className:"text-3xl font-bold text-center mb-4 text-gray-900",children:"Forgot Password?"}),l.jsx("p",{className:"text-center text-gray-600 mb-8",children:"No worries! Enter your email and we'll send you a reset link."}),l.jsxs("form",{onSubmit:a(u),className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),l.jsx("input",{...i("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),type:"email",className:"input-field",placeholder:"your@email.com"}),o.email&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.email.message})]}),l.jsx("button",{type:"submit",disabled:e,className:"w-full btn-primary",children:e?"Sending...":"Send Reset Link"})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsxs(ca,{to:"/login",className:"inline-flex items-center text-sm text-primary-600 hover:text-primary-700",children:[l.jsx(ar,{className:"w-4 h-4 mr-2"}),"Back to login"]})})]})})}function Ek(){const[e,t]=k.useState(!1),{updatePassword:r,session:n}=Ue(),s=it(),{register:i,handleSubmit:a,watch:o,formState:{errors:u}}=Pr(),c=o("password");k.useEffect(()=>{n||s("/login")},[n,s]);const d=async h=>{try{t(!0),await r(h.password),V.success("Password updated successfully!"),s("/dashboard")}catch(m){V.error(m.message||"Failed to update password")}finally{t(!1)}};return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 to-primary-100",children:l.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md",children:[l.jsx("div",{className:"flex items-center justify-center mb-8",children:l.jsx(me,{className:"h-12 w-12 text-primary-600"})}),l.jsx("h2",{className:"text-3xl font-bold text-center mb-8 text-gray-900",children:"Reset Your Password"}),l.jsxs("form",{onSubmit:a(d),className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),l.jsx("input",{...i("password",{required:"Password is required",minLength:{value:8,message:"Password must be at least 8 characters"},pattern:{value:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]/,message:"Password must contain uppercase, lowercase, number and special character"}}),type:"password",className:"input-field",placeholder:"••••••••"}),u.password&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.password.message})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),l.jsx("input",{...i("confirmPassword",{required:"Please confirm your password",validate:h=>h===c||"Passwords do not match"}),type:"password",className:"input-field",placeholder:"••••••••"}),u.confirmPassword&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.confirmPassword.message})]}),l.jsx("button",{type:"submit",disabled:e,className:"w-full btn-primary",children:e?"Updating...":"Update Password"})]})]})})}function Ck(){const[e,t]=k.useState("loading"),[r,n]=k.useState(""),s=it(),{user:i}=Ue();return k.useEffect(()=>{const a=async()=>{try{const o=new URLSearchParams(window.location.hash.substring(1)),u=o.get("access_token"),c=o.get("refresh_token");if(o.get("type")==="signup"&&u&&c){const{error:h}=await W.auth.setSession({access_token:u,refresh_token:c});h?(console.error("Error setting session:",h),n(h.message),t("error")):(t("success"),setTimeout(()=>{s("/dashboard")},3e3))}else n("Invalid verification link"),t("error")}catch(o){console.error("Verification error:",o),n(o.message||"An unexpected error occurred"),t("error")}};window.location.hash?a():i?s("/dashboard"):(n("No verification parameters found"),t("error"))},[s,i]),l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 to-primary-100",children:l.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md text-center",children:[l.jsx("div",{className:"flex items-center justify-center mb-8",children:l.jsx(me,{className:"h-12 w-12 text-primary-600"})}),e==="loading"&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),l.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-900",children:"Verifying Your Email"}),l.jsx("p",{className:"text-gray-600",children:"Please wait while we verify your email address..."})]}),e==="success"&&l.jsxs(l.Fragment,{children:[l.jsx(sh,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),l.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-900",children:"Email Verified!"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Your email has been successfully verified. You're now logged in and will be redirected to your dashboard."}),l.jsx("div",{className:"bg-green-50 rounded-lg p-4 mb-4",children:l.jsx("p",{className:"text-green-800 text-sm",children:"🎵 Welcome to Band Song Voter! You can now create or join bands and start suggesting songs."})}),l.jsx("button",{onClick:()=>s("/dashboard"),className:"btn-primary",children:"Go to Dashboard"})]}),e==="error"&&l.jsxs(l.Fragment,{children:[l.jsx(mk,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),l.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-900",children:"Verification Failed"}),l.jsx("p",{className:"text-gray-600 mb-4",children:r||"There was a problem verifying your email address."}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("button",{onClick:()=>s("/register"),className:"btn-primary w-full",children:"Try Signing Up Again"}),l.jsx("button",{onClick:()=>s("/login"),className:"btn-secondary w-full",children:"Back to Login"})]})]})]})})}function Pk(){const{user:e}=Ue();return Yt({queryKey:["bands",e==null?void 0:e.id],queryFn:async()=>{const{data:t,error:r}=await W.from("band_members").select(`
          band_id,
          role,
          bands:band_id (
            id,
            name,
            invite_code,
            created_by,
            created_at
          )
        `).eq("user_id",e==null?void 0:e.id);if(r)throw r;return t.map(n=>({...n.bands,role:n.role}))},enabled:!!e})}function ci(e){return Yt({queryKey:["band",e],queryFn:async()=>{const{data:t,error:r}=await W.from("bands").select(`
          *,
          band_members (
            count
          )
        `).eq("id",e).single();if(r)throw r;return{...t,member_count:t.band_members[0].count}},enabled:!!e})}function Tk(e){return Yt({queryKey:["band-members",e],queryFn:async()=>{const{data:t,error:r}=await W.from("band_members").select(`
          *,
          user:user_id (
            display_name,
            email,
            avatar_url
          )
        `).eq("band_id",e).order("joined_at",{ascending:!0});if(r)throw r;return t},enabled:!!e})}function Ok(){const e=St();return kt({mutationFn:async t=>{const{data:{session:r}}=await W.auth.getSession();if(!(r!=null&&r.user))throw new Error("You must be logged in to create a band");const{data:n,error:s}=await W.from("bands").insert({name:t,created_by:r.user.id}).select().single();if(s)throw s;const{error:i}=await W.from("band_members").insert({band_id:n.id,user_id:r.user.id,role:"admin"});if(i)throw i;return n},onSuccess:()=>{e.invalidateQueries({queryKey:["bands"]}),V.success("Band created successfully!")},onError:t=>{V.error(t.message||"Failed to create band")}})}function Rk(){const e=St();return kt({mutationFn:async t=>{const{data:{session:r}}=await W.auth.getSession();if(!(r!=null&&r.user))throw new Error("You must be logged in to join a band");const{data:n,error:s}=await W.from("bands").select("id, name").eq("invite_code",t.toUpperCase()).single();if(s)throw new Error("Invalid invite code");const{data:i}=await W.from("band_members").select("id").eq("band_id",n.id).eq("user_id",r.user.id).single();if(i)throw new Error("You are already a member of this band");const{data:a}=await W.from("band_members").select("id",{count:"exact"}).eq("band_id",n.id);if(a&&a.length>=10)throw new Error("This band has reached the maximum number of members");const{error:o}=await W.from("band_members").insert({band_id:n.id,user_id:r.user.id,role:"member"});if(o)throw o;return n},onSuccess:t=>{e.invalidateQueries({queryKey:["bands"]}),V.success(`Successfully joined ${t.name}!`)},onError:t=>{V.error(t.message||"Failed to join band")}})}function ah(e){const{user:t}=Ue();return Yt({queryKey:["user-band-role",e,t==null?void 0:t.id],queryFn:async()=>{const{data:r,error:n}=await W.from("band_members").select("role").eq("band_id",e).eq("user_id",t==null?void 0:t.id).single();if(n)throw n;return r.role},enabled:!!e&&!!t})}function Ak(){var o;const{user:e,signOut:t}=Ue(),r=it(),{data:n,isLoading:s}=Pk();k.useEffect(()=>{!s&&n&&n.length===0&&r("/band-setup")},[n,s,r]);const i=async()=>{try{await t(),V.success("Signed out successfully"),r("/login")}catch{V.error("Failed to sign out")}},a=u=>{r(`/band/${u}`)};return s?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("header",{className:"bg-white shadow-sm",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between items-center h-16",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(me,{className:"h-8 w-8 text-primary-600 mr-3"}),l.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Band Song Voter"})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("span",{className:"text-sm text-gray-600",children:["Welcome, ",((o=e==null?void 0:e.user_metadata)==null?void 0:o.display_name)||(e==null?void 0:e.email)]}),l.jsx("button",{onClick:()=>r("/profile"),className:"text-gray-500 hover:text-gray-700",title:"Profile Settings",children:l.jsx(nl,{className:"h-5 w-5"})}),l.jsx("button",{onClick:i,className:"text-gray-500 hover:text-gray-700",title:"Sign Out",children:l.jsx(vk,{className:"h-5 w-5"})})]})]})})}),l.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsxs("div",{className:"mb-8",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Your Bands"}),n&&n.length>0?l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.map(u=>l.jsxs("div",{onClick:()=>a(u.id),className:"card hover:shadow-lg transition-shadow cursor-pointer",children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:u.name}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:u.role==="admin"?"Admin":"Member"})]}),l.jsx(pa,{className:"h-6 w-6 text-gray-400"})]}),l.jsx("div",{className:"mt-4",children:l.jsxs("p",{className:"text-xs text-gray-500",children:["Invite Code: ",l.jsx("span",{className:"font-mono font-semibold",children:u.invite_code})]})})]},u.id)),l.jsx("div",{onClick:()=>r("/band-setup"),className:"card border-2 border-dashed border-gray-300 hover:border-primary-400 hover:shadow-lg transition-all cursor-pointer flex items-center justify-center min-h-[150px]",children:l.jsxs("div",{className:"text-center",children:[l.jsx(ei,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),l.jsx("p",{className:"text-gray-600",children:"Create or Join Band"})]})})]}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx(pa,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"You're not part of any bands yet"}),l.jsx("button",{onClick:()=>r("/band-setup"),className:"btn-primary",children:"Create or Join a Band"})]})]})})]})}function Dk(){const[e,t]=k.useState("create"),r=it(),n=Ok(),s=Rk(),{register:i,handleSubmit:a,formState:{errors:o}}=Pr(),{register:u,handleSubmit:c,formState:{errors:d}}=Pr(),h=async y=>{const g=await n.mutateAsync(y.name);r(`/band/${g.id}`)},m=async y=>{const g=await s.mutateAsync(y.inviteCode);r(`/band/${g.id}`)};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-primary-100",children:[l.jsx("header",{className:"bg-white shadow-sm",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsx("div",{className:"flex items-center h-16",children:l.jsxs("button",{onClick:()=>r("/dashboard"),className:"flex items-center text-gray-600 hover:text-gray-900",children:[l.jsx(ar,{className:"h-5 w-5 mr-2"}),"Back to Dashboard"]})})})}),l.jsx("main",{className:"max-w-2xl mx-auto px-4 py-12",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[l.jsxs("div",{className:"flex items-center justify-center mb-8",children:[l.jsx(me,{className:"h-12 w-12 text-primary-600 mr-3"}),l.jsx(pa,{className:"h-12 w-12 text-primary-600"})]}),l.jsx("h1",{className:"text-3xl font-bold text-center mb-8 text-gray-900",children:"Band Setup"}),l.jsxs("div",{className:"flex border-b border-gray-200 mb-8",children:[l.jsx("button",{onClick:()=>t("create"),className:`flex-1 py-3 text-center font-medium transition-colors ${e==="create"?"text-primary-600 border-b-2 border-primary-600":"text-gray-500 hover:text-gray-700"}`,children:"Create New Band"}),l.jsx("button",{onClick:()=>t("join"),className:`flex-1 py-3 text-center font-medium transition-colors ${e==="join"?"text-primary-600 border-b-2 border-primary-600":"text-gray-500 hover:text-gray-700"}`,children:"Join Existing Band"})]}),e==="create"?l.jsxs("form",{onSubmit:a(h),className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Band Name"}),l.jsx("input",{...i("name",{required:"Band name is required",minLength:{value:2,message:"Band name must be at least 2 characters"},maxLength:{value:50,message:"Band name must be less than 50 characters"}}),type:"text",className:"input-field",placeholder:"The Rolling Stones"}),o.name&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.name.message})]}),l.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:l.jsxs("p",{className:"text-sm text-blue-800",children:[l.jsx("strong",{children:"Note:"})," You'll be the admin of this band. You can invite up to 9 other members using the invite code that will be generated."]})}),l.jsx("button",{type:"submit",disabled:n.isPending,className:"w-full btn-primary",children:n.isPending?"Creating...":"Create Band"})]}):l.jsxs("form",{onSubmit:c(m),className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"inviteCode",className:"block text-sm font-medium text-gray-700 mb-2",children:"Invite Code"}),l.jsx("input",{...u("inviteCode",{required:"Invite code is required",minLength:{value:8,message:"Invite code must be 8 characters"},maxLength:{value:8,message:"Invite code must be 8 characters"}}),type:"text",className:"input-field font-mono uppercase",placeholder:"ABC12345",maxLength:8}),d.inviteCode&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.inviteCode.message})]}),l.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:l.jsxs("p",{className:"text-sm text-blue-800",children:[l.jsx("strong",{children:"Note:"})," Ask your band admin for the invite code. Once you join, you'll be able to suggest songs and vote on the band's repertoire."]})}),l.jsx("button",{type:"submit",disabled:s.isPending,className:"w-full btn-primary",children:s.isPending?"Joining...":"Join Band"})]})]})})]})}function av(e,t){const{user:r}=Ue();return Yt({queryKey:["song-suggestions",e,t==null?void 0:t.sortBy,r==null?void 0:r.id],queryFn:async()=>{let n=W.from("song_suggestions").select(`
          *,
          suggested_by_user:profiles!song_suggestions_suggested_by_fkey (
            display_name,
            avatar_url
          ),
          votes:song_votes (
            id,
            voter_id
          )
        `).eq("band_id",e);switch(t==null?void 0:t.sortBy){case"alphabetical":n=n.order("title");break;case"newest":n=n.order("created_at",{ascending:!1});break;default:n=n.order("created_at",{ascending:!1})}const{data:s,error:i}=await n;if(i)throw i;return s.map(a=>{var o,u;return{...a,vote_count:((o=a.votes)==null?void 0:o.length)||0,user_voted:((u=a.votes)==null?void 0:u.some(c=>c.voter_id===(r==null?void 0:r.id)))||!1}})},enabled:!!e&&!!r})}function oh(e,t="all"){return Yt({queryKey:["leaderboard",e,t],queryFn:async()=>{const{data:r,error:n}=await W.from("song_leaderboard").select("*").eq("band_id",e).order("vote_count",{ascending:!1}).limit(50);if(n)throw n;return r},enabled:!!e,staleTime:1e3*60*2})}function Lk(){const e=St(),{user:t}=Ue();return kt({mutationFn:async({bandId:r,track:n,notes:s=null})=>{const i={band_id:r,suggested_by:t==null?void 0:t.id,..."spotify_track_id"in n?{spotify_track_id:n.spotify_track_id,title:n.title,artist:n.artist,album:n.album,duration_ms:n.duration_ms,album_art_url:n.album_art_url,preview_url:n.preview_url}:{spotify_track_id:null,title:n.title,artist:n.artist,album:n.album||null,duration_ms:null,album_art_url:null,preview_url:null},notes:s},{data:a,error:o}=await W.from("song_suggestions").insert(i).select().single();if(o)throw o.code==="23505"?new Error("This song has already been suggested for this band"):o;return a},onSuccess:(r,{bandId:n})=>{e.invalidateQueries({queryKey:["song-suggestions",n]}),V.success("Song suggested successfully!")},onError:r=>{V.error(r.message||"Failed to suggest song")}})}function $k(){const e=St(),{user:t}=Ue();return kt({mutationFn:async({songId:r,bandId:n,isVoting:s})=>{if(s){const{error:i}=await W.from("song_votes").insert({band_id:n,song_suggestion_id:r,voter_id:t==null?void 0:t.id,vote_type:"upvote"});if(i)throw i}else{const{error:i}=await W.from("song_votes").delete().eq("song_suggestion_id",r).eq("voter_id",t==null?void 0:t.id);if(i)throw i}},onSuccess:(r,{bandId:n})=>{e.invalidateQueries({queryKey:["song-suggestions",n]}),e.invalidateQueries({queryKey:["leaderboard",n]})},onError:r=>{r.code==="23505"?V.error("You have already voted for this song"):V.error(r.message||"Failed to vote")}})}function Mk(){const e=St();return kt({mutationFn:async({suggestionId:t})=>{const{error:r}=await W.from("song_suggestions").delete().eq("id",t);if(r)throw r},onSuccess:(t,{bandId:r})=>{e.invalidateQueries({queryKey:["song-suggestions",r]}),e.invalidateQueries({queryKey:["leaderboard",r]}),V.success("Song suggestion removed successfully!")},onError:t=>{V.error(t.message||"Failed to remove suggestion")}})}function le(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function vn(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const ov=6048e5,Fk=864e5,so=43200,km=1440;let Ik={};function Ra(){return Ik}function ga(e,t){var o,u,c,d;const r=Ra(),n=(t==null?void 0:t.weekStartsOn)??((u=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:u.weekStartsOn)??r.weekStartsOn??((d=(c=r.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,s=le(e),i=s.getDay(),a=(i<n?7:0)+i-n;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function sl(e){return ga(e,{weekStartsOn:1})}function lv(e){const t=le(e),r=t.getFullYear(),n=vn(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=sl(n),i=vn(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const a=sl(i);return t.getTime()>=s.getTime()?r+1:t.getTime()>=a.getTime()?r:r-1}function jm(e){const t=le(e);return t.setHours(0,0,0,0),t}function il(e){const t=le(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Uk(e,t){const r=jm(e),n=jm(t),s=+r-il(r),i=+n-il(n);return Math.round((s-i)/Fk)}function Bk(e){const t=lv(e),r=vn(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),sl(r)}function _o(e,t){const r=le(e),n=le(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function zk(e){return vn(e,Date.now())}function qk(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Vk(e){if(!qk(e)&&typeof e!="number")return!1;const t=le(e);return!isNaN(Number(t))}function Wk(e,t){const r=le(e),n=le(t),s=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return s*12+i}function Hk(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function Qk(e,t){return+le(e)-+le(t)}function Kk(e){const t=le(e);return t.setHours(23,59,59,999),t}function Yk(e){const t=le(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Gk(e){const t=le(e);return+Kk(t)==+Yk(t)}function Jk(e,t){const r=le(e),n=le(t),s=_o(r,n),i=Math.abs(Wk(r,n));let a;if(i<1)a=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*i);let o=_o(r,n)===-s;Gk(le(e))&&i===1&&_o(e,n)===1&&(o=!1),a=s*(i-Number(o))}return a===0?0:a}function Xk(e,t,r){const n=Qk(e,t)/1e3;return Hk(r==null?void 0:r.roundingMethod)(n)}function Zk(e){const t=le(e),r=vn(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const ej={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},tj=(e,t,r)=>{let n;const s=ej[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Su(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const rj={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},nj={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},sj={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ij={date:Su({formats:rj,defaultWidth:"full"}),time:Su({formats:nj,defaultWidth:"full"}),dateTime:Su({formats:sj,defaultWidth:"full"})},aj={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},oj=(e,t,r,n)=>aj[e];function bi(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,o=r!=null&&r.width?String(r.width):a;s=e.formattingValues[o]||e.formattingValues[a]}else{const a=e.defaultWidth,o=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[o]||e.values[a]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const lj={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},uj={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},cj={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dj={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},hj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},fj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},mj=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},pj={ordinalNumber:mj,era:bi({values:lj,defaultWidth:"wide"}),quarter:bi({values:uj,defaultWidth:"wide",argumentCallback:e=>e-1}),month:bi({values:cj,defaultWidth:"wide"}),day:bi({values:dj,defaultWidth:"wide"}),dayPeriod:bi({values:hj,defaultWidth:"wide",formattingValues:fj,defaultFormattingWidth:"wide"})};function Si(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const a=i[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(o)?yj(o,h=>h.test(a)):gj(o,h=>h.test(a));let c;c=e.valueCallback?e.valueCallback(u):u,c=r.valueCallback?r.valueCallback(c):c;const d=t.slice(a.length);return{value:c,rest:d}}}function gj(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function yj(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function vj(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],i=t.match(e.parsePattern);if(!i)return null;let a=e.valueCallback?e.valueCallback(i[0]):i[0];a=r.valueCallback?r.valueCallback(a):a;const o=t.slice(s.length);return{value:a,rest:o}}}const wj=/^(\d+)(th|st|nd|rd)?/i,xj=/\d+/i,_j={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},bj={any:[/^b/i,/^(a|c)/i]},Sj={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},kj={any:[/1/i,/2/i,/3/i,/4/i]},jj={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Nj={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ej={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Cj={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Pj={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Tj={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Oj={ordinalNumber:vj({matchPattern:wj,parsePattern:xj,valueCallback:e=>parseInt(e,10)}),era:Si({matchPatterns:_j,defaultMatchWidth:"wide",parsePatterns:bj,defaultParseWidth:"any"}),quarter:Si({matchPatterns:Sj,defaultMatchWidth:"wide",parsePatterns:kj,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Si({matchPatterns:jj,defaultMatchWidth:"wide",parsePatterns:Nj,defaultParseWidth:"any"}),day:Si({matchPatterns:Ej,defaultMatchWidth:"wide",parsePatterns:Cj,defaultParseWidth:"any"}),dayPeriod:Si({matchPatterns:Pj,defaultMatchWidth:"any",parsePatterns:Tj,defaultParseWidth:"any"})},uv={code:"en-US",formatDistance:tj,formatLong:ij,formatRelative:oj,localize:pj,match:Oj,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Rj(e){const t=le(e);return Uk(t,Zk(t))+1}function Aj(e){const t=le(e),r=+sl(t)-+Bk(t);return Math.round(r/ov)+1}function cv(e,t){var d,h,m,y;const r=le(e),n=r.getFullYear(),s=Ra(),i=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((y=(m=s.locale)==null?void 0:m.options)==null?void 0:y.firstWeekContainsDate)??1,a=vn(e,0);a.setFullYear(n+1,0,i),a.setHours(0,0,0,0);const o=ga(a,t),u=vn(e,0);u.setFullYear(n,0,i),u.setHours(0,0,0,0);const c=ga(u,t);return r.getTime()>=o.getTime()?n+1:r.getTime()>=c.getTime()?n:n-1}function Dj(e,t){var o,u,c,d;const r=Ra(),n=(t==null?void 0:t.firstWeekContainsDate)??((u=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:u.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(c=r.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,s=cv(e,t),i=vn(e,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),ga(i,t)}function Lj(e,t){const r=le(e),n=+ga(r,t)-+Dj(r,t);return Math.round(n/ov)+1}function ie(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Lr={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return ie(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):ie(r+1,2)},d(e,t){return ie(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return ie(e.getHours()%12||12,t.length)},H(e,t){return ie(e.getHours(),t.length)},m(e,t){return ie(e.getMinutes(),t.length)},s(e,t){return ie(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return ie(s,t.length)}},fs={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Nm={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return Lr.y(e,t)},Y:function(e,t,r,n){const s=cv(e,n),i=s>0?s:1-s;if(t==="YY"){const a=i%100;return ie(a,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):ie(i,t.length)},R:function(e,t){const r=lv(e);return ie(r,t.length)},u:function(e,t){const r=e.getFullYear();return ie(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return ie(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return ie(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Lr.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return ie(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=Lj(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):ie(s,t.length)},I:function(e,t,r){const n=Aj(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):ie(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Lr.d(e,t)},D:function(e,t,r){const n=Rj(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):ie(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return ie(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return ie(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return ie(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=fs.noon:n===0?s=fs.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=fs.evening:n>=12?s=fs.afternoon:n>=4?s=fs.morning:s=fs.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Lr.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Lr.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):ie(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):ie(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Lr.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Lr.s(e,t)},S:function(e,t){return Lr.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return Cm(n);case"XXXX":case"XX":return Tn(n);case"XXXXX":case"XXX":default:return Tn(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return Cm(n);case"xxxx":case"xx":return Tn(n);case"xxxxx":case"xxx":default:return Tn(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Em(n,":");case"OOOO":default:return"GMT"+Tn(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Em(n,":");case"zzzz":default:return"GMT"+Tn(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return ie(n,t.length)},T:function(e,t,r){const n=e.getTime();return ie(n,t.length)}};function Em(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+t+ie(i,2)}function Cm(e,t){return e%60===0?(e>0?"-":"+")+ie(Math.abs(e)/60,2):Tn(e,t)}function Tn(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=ie(Math.trunc(n/60),2),i=ie(n%60,2);return r+s+t+i}const Pm=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},dv=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},$j=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return Pm(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",Pm(n,t)).replace("{{time}}",dv(s,t))},Mj={p:dv,P:$j},Fj=/^D+$/,Ij=/^Y+$/,Uj=["D","DD","YY","YYYY"];function Bj(e){return Fj.test(e)}function zj(e){return Ij.test(e)}function qj(e,t,r){const n=Vj(e,t,r);if(console.warn(n),Uj.includes(e))throw new RangeError(n)}function Vj(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Wj=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Hj=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Qj=/^'([^]*?)'?$/,Kj=/''/g,Yj=/[a-zA-Z]/;function al(e,t,r){var d,h,m,y;const n=Ra(),s=n.locale??uv,i=n.firstWeekContainsDate??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,a=n.weekStartsOn??((y=(m=n.locale)==null?void 0:m.options)==null?void 0:y.weekStartsOn)??0,o=le(e);if(!Vk(o))throw new RangeError("Invalid time value");let u=t.match(Hj).map(g=>{const w=g[0];if(w==="p"||w==="P"){const b=Mj[w];return b(g,s.formatLong)}return g}).join("").match(Wj).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const w=g[0];if(w==="'")return{isToken:!1,value:Gj(g)};if(Nm[w])return{isToken:!0,value:g};if(w.match(Yj))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:g}});s.localize.preprocessor&&(u=s.localize.preprocessor(o,u));const c={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return u.map(g=>{if(!g.isToken)return g.value;const w=g.value;(zj(w)||Bj(w))&&qj(w,t,String(e));const b=Nm[w[0]];return b(o,w,s.localize,c)}).join("")}function Gj(e){const t=e.match(Qj);return t?t[1].replace(Kj,"'"):e}function Jj(e,t,r){const n=Ra(),s=(r==null?void 0:r.locale)??n.locale??uv,i=2520,a=_o(e,t);if(isNaN(a))throw new RangeError("Invalid time value");const o=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:a});let u,c;a>0?(u=le(t),c=le(e)):(u=le(e),c=le(t));const d=Xk(c,u),h=(il(c)-il(u))/1e3,m=Math.round((d-h)/60);let y;if(m<2)return r!=null&&r.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,o):d<10?s.formatDistance("lessThanXSeconds",10,o):d<20?s.formatDistance("lessThanXSeconds",20,o):d<40?s.formatDistance("halfAMinute",0,o):d<60?s.formatDistance("lessThanXMinutes",1,o):s.formatDistance("xMinutes",1,o):m===0?s.formatDistance("lessThanXMinutes",1,o):s.formatDistance("xMinutes",m,o);if(m<45)return s.formatDistance("xMinutes",m,o);if(m<90)return s.formatDistance("aboutXHours",1,o);if(m<km){const g=Math.round(m/60);return s.formatDistance("aboutXHours",g,o)}else{if(m<i)return s.formatDistance("xDays",1,o);if(m<so){const g=Math.round(m/km);return s.formatDistance("xDays",g,o)}else if(m<so*2)return y=Math.round(m/so),s.formatDistance("aboutXMonths",y,o)}if(y=Jk(c,u),y<12){const g=Math.round(m/so);return s.formatDistance("xMonths",g,o)}else{const g=y%12,w=Math.trunc(y/12);return g<3?s.formatDistance("aboutXYears",w,o):g<9?s.formatDistance("overXYears",w,o):s.formatDistance("almostXYears",w+1,o)}}function hv(e,t){return Jj(e,zk(e),t)}function Xj(){var u;const{bandId:e}=ai(),{user:t}=Ue(),r=it(),{data:n}=ci(e),{data:s}=Tk(e),{data:i}=av(e,{sortBy:"newest"}),{data:a}=oh(e),o=(u=s==null?void 0:s.find(c=>c.user_id===(t==null?void 0:t.id)))==null?void 0:u.role;return n?l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("header",{className:"bg-white shadow-sm",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between items-center h-16",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("button",{onClick:()=>r("/dashboard"),className:"mr-4 text-gray-500 hover:text-gray-700",children:l.jsx(ar,{className:"h-5 w-5"})}),l.jsx(me,{className:"h-6 w-6 text-primary-600 mr-3"}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:n.name}),l.jsxs("p",{className:"text-xs text-gray-500",children:["Code: ",n.invite_code," • ",(s==null?void 0:s.length)||0," members"]})]})]}),l.jsx("div",{className:"flex items-center space-x-2",children:l.jsxs("button",{onClick:()=>r(`/band/${e}/search`),className:"btn-primary text-sm",children:[l.jsx(ei,{className:"h-4 w-4 mr-1"}),"Suggest Song"]})})]})})}),l.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[l.jsxs("button",{onClick:()=>r(`/band/${e}/search`),className:"card hover:shadow-lg transition-shadow p-6 text-center",children:[l.jsx(ma,{className:"h-8 w-8 text-primary-600 mx-auto mb-2"}),l.jsx("h3",{className:"font-medium text-gray-900",children:"Search Songs"}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Find and suggest new songs"})]}),l.jsxs("button",{onClick:()=>r(`/band/${e}/suggestions`),className:"card hover:shadow-lg transition-shadow p-6 text-center",children:[l.jsx(me,{className:"h-8 w-8 text-primary-600 mx-auto mb-2"}),l.jsx("h3",{className:"font-medium text-gray-900",children:"All Suggestions"}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"View all suggested songs"})]}),l.jsxs("button",{onClick:()=>r(`/band/${e}/leaderboard`),className:"card hover:shadow-lg transition-shadow p-6 text-center",children:[l.jsx(rl,{className:"h-8 w-8 text-primary-600 mx-auto mb-2"}),l.jsx("h3",{className:"font-medium text-gray-900",children:"Leaderboard"}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"See most popular songs"})]})]}),l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Recent Suggestions"}),l.jsx("button",{onClick:()=>r(`/band/${e}/suggestions`),className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:"View all"})]}),i&&i.length>0?l.jsx("div",{className:"space-y-4",children:i.slice(0,5).map(c=>{var d;return l.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center",children:[c.album_art_url?l.jsx("img",{src:c.album_art_url,alt:c.album||"Album art",className:"w-12 h-12 rounded-md mr-4"}):l.jsx("div",{className:"w-12 h-12 bg-gray-300 rounded-md mr-4 flex items-center justify-center",children:l.jsx(me,{className:"w-6 h-6 text-gray-500"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-gray-900",children:c.title}),l.jsx("p",{className:"text-sm text-gray-600",children:c.artist}),l.jsxs("p",{className:"text-xs text-gray-500",children:["Suggested by ",(d=c.suggested_by_user)==null?void 0:d.display_name," • "," ",hv(new Date(c.created_at),{addSuffix:!0})]})]})]}),l.jsx("div",{className:"flex items-center space-x-2",children:l.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[l.jsx(fa,{className:"w-4 h-4 mr-1"}),c.vote_count||0]})})]},c.id)})}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx(me,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"No songs suggested yet"}),l.jsx("button",{onClick:()=>r(`/band/${e}/search`),className:"btn-primary",children:"Suggest the First Song"})]})]}),l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Top Songs"}),l.jsx("button",{onClick:()=>r(`/band/${e}/leaderboard`),className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:"View leaderboard"})]}),a&&a.length>0?l.jsx("div",{className:"space-y-4",children:a.slice(0,5).map((c,d)=>l.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-8 h-8 bg-primary-100 text-primary-600 rounded-full flex items-center justify-center font-semibold text-sm mr-4",children:d+1}),c.album_art_url?l.jsx("img",{src:c.album_art_url,alt:"Album art",className:"w-12 h-12 rounded-md mr-4"}):l.jsx("div",{className:"w-12 h-12 bg-gray-300 rounded-md mr-4 flex items-center justify-center",children:l.jsx(me,{className:"w-6 h-6 text-gray-500"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-gray-900",children:c.title}),l.jsx("p",{className:"text-sm text-gray-600",children:c.artist})]})]}),l.jsx("div",{className:"flex items-center space-x-2",children:l.jsxs("div",{className:"flex items-center text-sm font-semibold text-primary-600",children:[l.jsx(fa,{className:"w-4 h-4 mr-1 fill-current"}),c.vote_count]})})]},c.id))}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx(rl,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"No votes yet"})]})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Band Members"}),l.jsx("div",{className:"space-y-3",children:s==null?void 0:s.map(c=>{var d,h;return l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[(d=c.user)!=null&&d.avatar_url?l.jsx("img",{src:c.user.avatar_url,alt:c.user.display_name,className:"w-8 h-8 rounded-full mr-3"}):l.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full mr-3 flex items-center justify-center",children:l.jsx(pa,{className:"w-4 h-4 text-gray-500"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:(h=c.user)==null?void 0:h.display_name}),l.jsx("p",{className:"text-xs text-gray-500",children:c.role})]})]}),c.user_id===(t==null?void 0:t.id)&&l.jsx("span",{className:"text-xs text-primary-600 font-medium",children:"You"})]},c.id)})})]}),o==="admin"&&l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Upcoming Rehearsals"}),l.jsx("button",{onClick:()=>r(`/band/${e}/rehearsals`),className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:"Manage"})]}),l.jsxs("div",{className:"text-center py-8",children:[l.jsx(sn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"No upcoming rehearsals"})]})]})]})]})})]}):l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})})}function Zj(){const[e,t]=k.useState(""),[r,n]=k.useState(""),i=((d,h)=>{let m;return(...y)=>{clearTimeout(m),m=setTimeout(()=>d(...y),h)}})(d=>{n(d)},300),a=d=>{t(d),i(d)},{data:o,isLoading:u,error:c}=Yt({queryKey:["spotify-search",r],queryFn:async()=>{if(!r.trim())return[];const{data:d,error:h}=await W.functions.invoke("spotify-search",{body:{query:r,limit:20}});if(h)throw h;return d.tracks},enabled:r.length>0,staleTime:1e3*60*5});return{query:e,setQuery:a,tracks:o||[],isLoading:u,error:c,hasQuery:r.length>0}}function Ll({trackId:e,compact:t=!1,height:r=152}){const[n,s]=k.useState(!0),[i,a]=k.useState(!1),o=t?80:r,u=`https://open.spotify.com/embed/track/${e}?utm_source=generator&theme=0`,c=()=>{s(!1)},d=()=>{s(!1),a(!0)};return i?l.jsx("div",{className:"bg-gray-100 rounded-lg p-4 text-center",children:l.jsx("p",{className:"text-sm text-gray-600",children:"Preview not available"})}):l.jsxs("div",{className:"relative",children:[n&&l.jsx("div",{className:"absolute inset-0 bg-gray-100 rounded-lg flex items-center justify-center",style:{height:o},children:l.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-spotify-green"})}),l.jsx("iframe",{src:u,width:"100%",height:o,frameBorder:"0",allowTransparency:!0,allow:"encrypted-media",loading:"lazy",className:"rounded-lg",onLoad:c,onError:d,title:"Spotify player"})]})}function eN(){const{bandId:e}=ai(),t=it(),[r,n]=k.useState(!1),{data:s}=ci(e),{query:i,setQuery:a,tracks:o,isLoading:u,hasQuery:c}=Zj(),d=Lk(),{register:h,handleSubmit:m,formState:{errors:y},reset:g}=Pr(),w=f=>{const p=Math.floor(f/6e4),S=Math.floor(f%6e4/1e3);return`${p}:${S.toString().padStart(2,"0")}`},b=async f=>{await d.mutateAsync({bandId:e,track:f}),t(`/band/${e}/suggestions`)},v=async f=>{const p={title:f.title,artist:f.artist,album:f.album||void 0};await d.mutateAsync({bandId:e,track:p,notes:f.notes||null}),g(),n(!1),t(`/band/${e}/suggestions`)};return l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("header",{className:"bg-white shadow-sm",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsx("div",{className:"flex justify-between items-center h-16",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("button",{onClick:()=>t(`/band/${e}`),className:"mr-4 text-gray-500 hover:text-gray-700",children:l.jsx(ar,{className:"h-5 w-5"})}),l.jsx(me,{className:"h-6 w-6 text-primary-600 mr-3"}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Search Songs"}),l.jsx("p",{className:"text-xs text-gray-500",children:s==null?void 0:s.name})]})]})})})}),l.jsx("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsx("div",{className:"space-y-8",children:l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Search Spotify"}),l.jsx("button",{onClick:()=>n(!r),className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:r?"Search Spotify":"Add Manually"})]}),r?l.jsxs("form",{onSubmit:m(v),className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Song Title *"}),l.jsx("input",{...h("title",{required:"Song title is required"}),className:"input-field",placeholder:"Bohemian Rhapsody"}),y.title&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.title.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Artist *"}),l.jsx("input",{...h("artist",{required:"Artist is required"}),className:"input-field",placeholder:"Queen"}),y.artist&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.artist.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Album"}),l.jsx("input",{...h("album"),className:"input-field",placeholder:"A Night at the Opera (optional)"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),l.jsx("input",{...h("notes"),className:"input-field",placeholder:"Any additional notes (optional)"})]})]}),l.jsxs("div",{className:"flex justify-end space-x-3",children:[l.jsx("button",{type:"button",onClick:()=>{n(!1),g()},className:"btn-secondary",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:d.isPending,className:"btn-primary",children:d.isPending?"Suggesting...":"Suggest Song"})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"relative mb-6",children:[l.jsx(ma,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),l.jsx("input",{type:"text",value:i,onChange:f=>a(f.target.value),className:"input-field pl-10",placeholder:"Search for songs, artists, or albums..."})]}),u&&l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"}),l.jsx("p",{className:"text-gray-600 mt-2",children:"Searching..."})]}),!u&&c&&o.length===0&&l.jsxs("div",{className:"text-center py-8",children:[l.jsx(me,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"No songs found"})]}),o.length>0&&l.jsx("div",{className:"space-y-6",children:o.map(f=>l.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center flex-1",children:[f.album_art_url?l.jsx("img",{src:f.album_art_url,alt:f.album,className:"w-16 h-16 rounded-md mr-4 flex-shrink-0"}):l.jsx("div",{className:"w-16 h-16 bg-gray-300 rounded-md mr-4 flex-shrink-0 flex items-center justify-center",children:l.jsx(me,{className:"w-8 h-8 text-gray-500"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:f.title}),l.jsx("p",{className:"text-gray-600 truncate",children:f.artist}),l.jsx("p",{className:"text-sm text-gray-500 truncate",children:f.album}),l.jsxs("div",{className:"flex items-center mt-1 space-x-4",children:[f.duration_ms&&l.jsxs("span",{className:"text-xs text-gray-500 flex items-center",children:[l.jsx(Al,{className:"w-3 h-3 mr-1"}),w(f.duration_ms)]}),l.jsxs("a",{href:f.external_url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary-600 hover:text-primary-700 flex items-center",children:[l.jsx(ih,{className:"w-3 h-3 mr-1"}),"Open in Spotify"]})]})]})]}),l.jsxs("button",{onClick:()=>b(f),disabled:d.isPending,className:"btn-primary flex items-center ml-4",children:[l.jsx(ei,{className:"w-4 h-4 mr-2"}),"Suggest"]})]}),l.jsx("div",{className:"mt-4",children:l.jsx(Ll,{trackId:f.spotify_track_id,compact:!0,height:80})})]},f.spotify_track_id))}),!c&&!u&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx(ma,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Search for Songs"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Search Spotify's catalog to find and suggest songs for your band"}),l.jsxs("p",{className:"text-sm text-gray-500",children:["Can't find what you're looking for?"," ",l.jsx("button",{onClick:()=>n(!0),className:"text-primary-600 hover:text-primary-700 font-medium",children:"Add it manually"})]})]})]})]})})})]})}function tN(){const{bandId:e}=ai(),{user:t}=Ue(),r=it(),[n,s]=k.useState("newest"),[i,a]=k.useState(""),{data:o}=ci(e),{data:u,isLoading:c}=av(e,{sortBy:n}),{data:d}=ah(e),h=$k(),m=Mk(),y=f=>{const p=Math.floor(f/6e4),S=Math.floor(f%6e4/1e3);return`${p}:${S.toString().padStart(2,"0")}`},g=async(f,p)=>{await h.mutateAsync({songId:f,bandId:e,isVoting:!p})},w=async f=>{window.confirm("Are you sure you want to remove this suggestion? This action cannot be undone.")&&await m.mutateAsync({suggestionId:f,bandId:e})},v=[...(u==null?void 0:u.filter(f=>{var p;return f.title.toLowerCase().includes(i.toLowerCase())||f.artist.toLowerCase().includes(i.toLowerCase())||((p=f.album)==null?void 0:p.toLowerCase().includes(i.toLowerCase()))}))||[]].sort((f,p)=>{switch(n){case"votes":return(p.vote_count||0)-(f.vote_count||0);case"alphabetical":return f.title.localeCompare(p.title);case"trending":return(p.vote_count||0)-(f.vote_count||0);case"newest":default:return new Date(p.created_at).getTime()-new Date(f.created_at).getTime()}});return c?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("header",{className:"bg-white shadow-sm",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between items-center h-16",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("button",{onClick:()=>r(`/band/${e}`),className:"mr-4 text-gray-500 hover:text-gray-700",children:l.jsx(ar,{className:"h-5 w-5"})}),l.jsx(me,{className:"h-6 w-6 text-primary-600 mr-3"}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Song Suggestions"}),l.jsx("p",{className:"text-xs text-gray-500",children:o==null?void 0:o.name})]})]}),l.jsxs("button",{onClick:()=>r(`/band/${e}/search`),className:"btn-primary text-sm",children:[l.jsx(ei,{className:"h-4 w-4 mr-1"}),"Suggest Song"]})]})})}),l.jsx("main",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"card",children:l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[l.jsxs("div",{className:"relative flex-1 max-w-md",children:[l.jsx(ma,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),l.jsx("input",{type:"text",value:i,onChange:f=>a(f.target.value),className:"input-field pl-10",placeholder:"Search songs, artists, albums..."})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(gk,{className:"h-4 w-4 text-gray-500 mr-2"}),l.jsxs("select",{value:n,onChange:f=>s(f.target.value),className:"text-sm border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500",children:[l.jsx("option",{value:"newest",children:"Newest First"}),l.jsx("option",{value:"votes",children:"Most Voted"}),l.jsx("option",{value:"alphabetical",children:"Alphabetical"}),l.jsx("option",{value:"trending",children:"Trending"})]})]}),l.jsxs("span",{className:"text-sm text-gray-500",children:[v.length," songs"]})]})]})}),v.length>0?l.jsx("div",{className:"space-y-4",children:v.map(f=>{var p;return l.jsx("div",{className:"card hover:shadow-lg transition-shadow",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center flex-1",children:[f.album_art_url?l.jsx("img",{src:f.album_art_url,alt:f.album||"Album art",className:"w-16 h-16 rounded-md mr-4 flex-shrink-0"}):l.jsx("div",{className:"w-16 h-16 bg-gray-300 rounded-md mr-4 flex-shrink-0 flex items-center justify-center",children:l.jsx(me,{className:"w-8 h-8 text-gray-500"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"flex items-center justify-between mb-1",children:l.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:f.title})}),l.jsx("p",{className:"text-gray-600 truncate",children:f.artist}),f.album&&l.jsx("p",{className:"text-sm text-gray-500 truncate",children:f.album}),l.jsxs("div",{className:"flex items-center mt-2 space-x-4 text-xs text-gray-500",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(nl,{className:"w-3 h-3 mr-1"}),(p=f.suggested_by_user)==null?void 0:p.display_name]}),l.jsx("span",{children:"•"}),l.jsx("span",{children:hv(new Date(f.created_at),{addSuffix:!0})}),f.duration_ms&&l.jsxs(l.Fragment,{children:[l.jsx("span",{children:"•"}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Al,{className:"w-3 h-3 mr-1"}),y(f.duration_ms)]})]}),f.spotify_track_id&&l.jsxs(l.Fragment,{children:[l.jsx("span",{children:"•"}),l.jsxs("a",{href:`https://open.spotify.com/track/${f.spotify_track_id}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-700 flex items-center",children:[l.jsx(ih,{className:"w-3 h-3 mr-1"}),"Spotify"]})]})]}),f.notes&&l.jsxs("div",{className:"mt-2 p-2 bg-blue-50 rounded text-xs text-blue-800",children:[l.jsx("strong",{children:"Note:"})," ",f.notes]}),f.spotify_track_id&&l.jsx("div",{className:"mt-4",children:l.jsx(Ll,{trackId:f.spotify_track_id,compact:!0,height:80})})]})]}),l.jsxs("div",{className:"flex items-center ml-4 space-x-2",children:[l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("button",{onClick:()=>g(f.id,f.user_voted||!1),disabled:f.suggested_by===(t==null?void 0:t.id)||h.isPending,className:`p-3 rounded-full transition-colors ${f.user_voted?"bg-red-100 text-red-600 hover:bg-red-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"} ${f.suggested_by===(t==null?void 0:t.id)?"opacity-50 cursor-not-allowed":""}`,title:f.suggested_by===(t==null?void 0:t.id)?"Can't vote on your own suggestion":"Vote for this song",children:l.jsx(fa,{className:`w-5 h-5 ${f.user_voted?"fill-current":""}`})}),l.jsx("span",{className:"text-sm font-semibold text-gray-900 mt-1",children:f.vote_count||0})]}),d==="admin"&&l.jsx("button",{onClick:()=>w(f.id),disabled:m.isPending,className:"p-3 rounded-full transition-colors bg-gray-100 text-gray-600 hover:bg-red-100 hover:text-red-600",title:"Remove suggestion (Admin only)",children:l.jsx(Dl,{className:"w-5 h-5"})})]})]})},f.id)})}):l.jsx("div",{className:"card text-center py-12",children:i?l.jsxs(l.Fragment,{children:[l.jsx(ma,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No songs found"}),l.jsxs("p",{className:"text-gray-600 mb-4",children:['No songs match your search "',i,'"']}),l.jsx("button",{onClick:()=>a(""),className:"text-primary-600 hover:text-primary-700 font-medium",children:"Clear search"})]}):l.jsxs(l.Fragment,{children:[l.jsx(me,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No songs suggested yet"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Be the first to suggest a song for your band to practice!"}),l.jsx("button",{onClick:()=>r(`/band/${e}/search`),className:"btn-primary",children:"Suggest a Song"})]})})]})})]})}function rN(){var c;const{bandId:e}=ai(),t=it(),[r,n]=k.useState("all"),{data:s}=ci(e),{data:i,isLoading:a}=oh(e,r),o=d=>{switch(d){case 1:return l.jsx(pk,{className:"w-6 h-6 text-yellow-500"});case 2:return l.jsx(bm,{className:"w-6 h-6 text-gray-400"});case 3:return l.jsx(bm,{className:"w-6 h-6 text-amber-600"});default:return l.jsx("div",{className:"w-8 h-8 bg-primary-100 text-primary-600 rounded-full flex items-center justify-center font-bold text-sm",children:d})}},u=d=>{switch(d){case 1:return"bg-gradient-to-r from-yellow-50 to-yellow-100 border-yellow-200";case 2:return"bg-gradient-to-r from-gray-50 to-gray-100 border-gray-200";case 3:return"bg-gradient-to-r from-amber-50 to-amber-100 border-amber-200";default:return"bg-white"}};return a?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("header",{className:"bg-white shadow-sm",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsx("div",{className:"flex justify-between items-center h-16",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("button",{onClick:()=>t(`/band/${e}`),className:"mr-4 text-gray-500 hover:text-gray-700",children:l.jsx(ar,{className:"h-5 w-5"})}),l.jsx(rl,{className:"h-6 w-6 text-primary-600 mr-3"}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Leaderboard"}),l.jsx("p",{className:"text-xs text-gray-500",children:s==null?void 0:s.name})]})]})})})}),l.jsx("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"card",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Most Popular Songs"}),l.jsxs("div",{className:"flex border border-gray-200 rounded-lg overflow-hidden",children:[l.jsx("button",{onClick:()=>n("week"),className:`px-4 py-2 text-sm font-medium transition-colors ${r==="week"?"bg-primary-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"This Week"}),l.jsx("button",{onClick:()=>n("month"),className:`px-4 py-2 text-sm font-medium transition-colors border-l border-gray-200 ${r==="month"?"bg-primary-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"This Month"}),l.jsx("button",{onClick:()=>n("all"),className:`px-4 py-2 text-sm font-medium transition-colors border-l border-gray-200 ${r==="all"?"bg-primary-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"All Time"})]})]})}),i&&i.length>0?l.jsx("div",{className:"space-y-3",children:i.map((d,h)=>{const m=h+1;return l.jsx("div",{className:`card border-2 ${u(m)} transition-all hover:shadow-lg`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center flex-1",children:[l.jsx("div",{className:"mr-6",children:o(m)}),d.album_art_url?l.jsx("img",{src:d.album_art_url,alt:"Album art",className:"w-16 h-16 rounded-md mr-4 flex-shrink-0"}):l.jsx("div",{className:"w-16 h-16 bg-gray-300 rounded-md mr-4 flex-shrink-0 flex items-center justify-center",children:l.jsx(me,{className:"w-8 h-8 text-gray-500"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:d.title}),l.jsx("p",{className:"text-gray-600 truncate",children:d.artist}),l.jsxs("div",{className:"flex items-center mt-2 space-x-4 text-sm text-gray-500",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(fa,{className:"w-4 h-4 mr-1 text-red-500"}),l.jsxs("span",{className:"font-medium",children:[d.vote_count," votes"]})]}),d.recent_votes>0&&l.jsxs("div",{className:"flex items-center text-green-600",children:[l.jsx(bk,{className:"w-4 h-4 mr-1"}),l.jsxs("span",{className:"font-medium",children:[d.recent_votes," recent"]})]})]}),m<=3&&l.jsx("div",{className:"mt-2",children:l.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${m===1?"bg-yellow-100 text-yellow-800":m===2?"bg-gray-100 text-gray-800":"bg-amber-100 text-amber-800"}`,children:m===1?"🥇 Most Popular":m===2?"🥈 Runner Up":"🥉 Third Place"})}),m<=3&&d.spotify_track_id&&l.jsx("div",{className:"mt-4",children:l.jsx(Ll,{trackId:d.spotify_track_id,compact:!0,height:80})})]})]}),l.jsxs("div",{className:"flex flex-col items-center ml-4",children:[l.jsx("div",{className:`p-3 rounded-full ${m<=3?"bg-primary-100":"bg-gray-100"}`,children:l.jsx(fa,{className:`w-6 h-6 ${m<=3?"text-primary-600 fill-current":"text-gray-600"}`})}),l.jsx("span",{className:"text-lg font-bold text-gray-900 mt-1",children:d.vote_count})]})]})},d.id)})}):l.jsxs("div",{className:"card text-center py-12",children:[l.jsx(rl,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"No Songs Yet"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"The leaderboard will show the most popular songs once voting begins."}),l.jsx("button",{onClick:()=>t(`/band/${e}/search`),className:"btn-primary",children:"Suggest the First Song"})]}),i&&i.length>0&&l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Leaderboard Stats"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-primary-600",children:i.length}),l.jsx("div",{className:"text-sm text-gray-600",children:"Songs with Votes"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-primary-600",children:i.reduce((d,h)=>d+h.vote_count,0)}),l.jsx("div",{className:"text-sm text-gray-600",children:"Total Votes Cast"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-primary-600",children:((c=i[0])==null?void 0:c.vote_count)||0}),l.jsx("div",{className:"text-sm text-gray-600",children:"Highest Score"})]})]})]})]})})]})}function nN(e){return Yt({queryKey:["rehearsals",e],queryFn:async()=>{const{data:t,error:r}=await W.from("rehearsals").select("*").eq("band_id",e).order("rehearsal_date",{ascending:!1});if(r)throw r;return t},enabled:!!e})}function sN(e){return Yt({queryKey:["rehearsal",e],queryFn:async()=>{const{data:t,error:r}=await W.from("rehearsals").select("*").eq("id",e).single();if(r)throw r;return t},enabled:!!e})}function iN(e){return Yt({queryKey:["rehearsal-setlist",e],queryFn:async()=>{const{data:t,error:r}=await W.from("rehearsal_setlists").select(`
          *,
          song_suggestion:song_suggestion_id (
            title,
            artist,
            album,
            album_art_url,
            spotify_track_id,
            id
          )
        `).eq("rehearsal_id",e).order("position",{ascending:!0});if(r)throw r;if(t&&t.length>0){const n=t.map(a=>a.song_suggestion_id),{data:s}=await W.from("song_votes").select("song_suggestion_id").in("song_suggestion_id",n),i=(s==null?void 0:s.reduce((a,o)=>(a[o.song_suggestion_id]=(a[o.song_suggestion_id]||0)+1,a),{}))||{};return t.map(a=>({...a,song_suggestion:{...a.song_suggestion,vote_count:i[a.song_suggestion_id]||0}}))}return t},enabled:!!e})}function aN(){const e=St();return kt({mutationFn:async t=>{const{data:{session:r}}=await W.auth.getSession();if(!(r!=null&&r.user))throw new Error("You must be logged in to create a rehearsal");const{data:n,error:s}=await W.from("rehearsals").insert({...t,created_by:r.user.id}).select().single();if(s)throw s;return n},onSuccess:t=>{e.invalidateQueries({queryKey:["rehearsals",t.band_id]}),V.success("Rehearsal scheduled successfully!")},onError:t=>{V.error(t.message||"Failed to schedule rehearsal")}})}function oN(){const e=St();return kt({mutationFn:async t=>{const{error:r}=await W.from("rehearsals").delete().eq("id",t);if(r)throw r},onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["rehearsal",r]}),e.invalidateQueries({queryKey:["rehearsals"]}),V.success("Rehearsal deleted successfully!")},onError:t=>{V.error(t.message||"Failed to delete rehearsal")}})}function lN(){const e=St();return kt({mutationFn:async({rehearsalId:t,bandId:r})=>{const{data:n,error:s}=await W.from("rehearsals").select("songs_to_learn").eq("id",t).single();if(s)throw s;const{data:i,error:a}=await W.from("song_leaderboard").select("*").eq("band_id",r).order("vote_count",{ascending:!1}).limit(n.songs_to_learn);if(a)throw a;if(!i||i.length===0)throw new Error("No songs available for selection");await W.from("rehearsal_setlists").delete().eq("rehearsal_id",t);const o=i.map((d,h)=>({rehearsal_id:t,song_suggestion_id:d.id,position:h+1,selection_reason:"Auto-selected from leaderboard",vote_count_at_selection:d.vote_count})),{error:u}=await W.from("rehearsal_setlists").insert(o);if(u)throw u;const{error:c}=await W.from("rehearsals").update({status:"songs_selected"}).eq("id",t);if(c)throw c;return o},onSuccess:(t,{rehearsalId:r,bandId:n})=>{e.invalidateQueries({queryKey:["rehearsal-setlist",r]}),e.invalidateQueries({queryKey:["rehearsal",r]}),e.invalidateQueries({queryKey:["rehearsals",n]}),V.success("Songs selected automatically!")},onError:t=>{V.error(t.message||"Failed to select songs")}})}function uN(){const e=St();return kt({mutationFn:async t=>{const{data:r,error:n}=await W.from("rehearsal_setlists").delete().eq("id",t).select().single();if(n)throw n;return r},onSuccess:t=>{e.invalidateQueries({queryKey:["rehearsal-setlist",t.rehearsal_id]}),V.success("Song removed from setlist!")},onError:t=>{V.error(t.message||"Failed to remove song from setlist")}})}function cN(){const{bandId:e}=ai(),t=it(),[r,n]=k.useState(!1),{data:s}=ci(e),{data:i}=ah(e),{data:a,isLoading:o}=nN(e),u=aN(),c=oN(),d=async g=>{g.preventDefault();const w=new FormData(g.currentTarget);await u.mutateAsync({band_id:e,name:w.get("name"),rehearsal_date:w.get("rehearsal_date"),start_time:w.get("start_time")||void 0,location:w.get("location")||void 0,songs_to_learn:parseInt(w.get("songs_to_learn")),selection_deadline:w.get("selection_deadline")||void 0,description:w.get("description")||void 0}),n(!1)},h=async g=>{window.confirm("Are you sure you want to delete this rehearsal? This action cannot be undone.")&&await c.mutateAsync(g)},m=g=>{switch(g){case"planning":return"text-yellow-600 bg-yellow-50";case"songs_selected":return"text-blue-600 bg-blue-50";case"completed":return"text-green-600 bg-green-50";default:return"text-gray-600 bg-gray-50"}},y=g=>{switch(g){case"planning":return l.jsx(tl,{className:"h-4 w-4"});case"songs_selected":return l.jsx(me,{className:"h-4 w-4"});case"completed":return l.jsx(sh,{className:"h-4 w-4"});default:return l.jsx(sn,{className:"h-4 w-4"})}};return o?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("header",{className:"bg-white shadow-sm",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between items-center h-16",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("button",{onClick:()=>t(`/band/${e}`),className:"mr-4 text-gray-500 hover:text-gray-700",children:l.jsx(ar,{className:"h-5 w-5"})}),l.jsx(sn,{className:"h-6 w-6 text-primary-600 mr-3"}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Rehearsals"}),l.jsx("p",{className:"text-xs text-gray-500",children:s==null?void 0:s.name})]})]}),i==="admin"&&l.jsxs("button",{onClick:()=>n(!0),className:"btn-primary text-sm",children:[l.jsx(ei,{className:"h-4 w-4 mr-1"}),"Schedule Rehearsal"]})]})})}),l.jsxs("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r&&l.jsxs("div",{className:"card mb-8",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Schedule New Rehearsal"}),l.jsxs("form",{onSubmit:d,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rehearsal Name"}),l.jsx("input",{type:"text",name:"name",required:!0,className:"input-field",placeholder:"Weekly Practice Session"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),l.jsx("input",{type:"date",name:"rehearsal_date",required:!0,className:"input-field",min:new Date().toISOString().split("T")[0]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Time (Optional)"}),l.jsx("input",{type:"time",name:"start_time",className:"input-field"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Songs to Learn"}),l.jsx("select",{name:"songs_to_learn",required:!0,className:"input-field",defaultValue:"5",children:[1,2,3,4,5,6,7,8,9,10].map(g=>l.jsxs("option",{value:g,children:[g," song",g>1?"s":""]},g))})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location (Optional)"}),l.jsx("input",{type:"text",name:"location",className:"input-field",placeholder:"Studio A, John's Garage, etc."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Selection Deadline (Optional)"}),l.jsx("input",{type:"datetime-local",name:"selection_deadline",className:"input-field"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (Optional)"}),l.jsx("textarea",{name:"description",rows:3,className:"input-field",placeholder:"Additional notes for this rehearsal..."})]}),l.jsxs("div",{className:"flex justify-end space-x-3",children:[l.jsx("button",{type:"button",onClick:()=>n(!1),className:"btn-secondary",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:u.isPending,className:"btn-primary",children:u.isPending?"Creating...":"Schedule Rehearsal"})]})]})]}),a&&a.length>0?l.jsx("div",{className:"space-y-4",children:a.map(g=>l.jsx("div",{className:"card hover:shadow-lg transition-shadow",children:l.jsx("div",{className:"flex items-start justify-between",children:l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:g.name}),l.jsxs("div",{className:`px-3 py-1 rounded-full text-xs font-medium flex items-center ${m(g.status)}`,children:[y(g.status),l.jsx("span",{className:"ml-1 capitalize",children:g.status.replace("_"," ")})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[l.jsx(sn,{className:"h-4 w-4 mr-2"}),al(new Date(g.rehearsal_date),"EEEE, MMMM d, yyyy"),g.start_time&&l.jsxs("span",{className:"ml-2 flex items-center",children:[l.jsx(Al,{className:"h-4 w-4 mr-1"}),g.start_time]})]}),g.location&&l.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[l.jsx(iv,{className:"h-4 w-4 mr-2"}),g.location]}),l.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[l.jsx(me,{className:"h-4 w-4 mr-2"}),g.songs_to_learn," song",g.songs_to_learn>1?"s":""," to learn"]}),g.selection_deadline&&l.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[l.jsx(tl,{className:"h-4 w-4 mr-2"}),"Selection deadline: ",al(new Date(g.selection_deadline),"MMM d, yyyy h:mm a")]})]}),g.description&&l.jsx("p",{className:"mt-3 text-sm text-gray-600",children:g.description}),l.jsxs("div",{className:"mt-4 flex space-x-3",children:[l.jsx("button",{onClick:()=>t(`/band/${e}/rehearsal/${g.id}`),className:"btn-primary text-sm",children:"View Details"}),i==="admin"&&l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>t(`/band/${e}/rehearsal/${g.id}/edit`),className:"btn-secondary text-sm",children:[l.jsx(_k,{className:"h-4 w-4 mr-1"}),"Edit"]}),l.jsxs("button",{onClick:()=>h(g.id),disabled:c.isPending,className:"btn-secondary text-sm text-red-600 hover:bg-red-50",children:[l.jsx(Dl,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]})]})})},g.id))}):l.jsxs("div",{className:"card text-center py-12",children:[l.jsx(sn,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"No Rehearsals Scheduled"}),l.jsx("p",{className:"text-gray-600 mb-6",children:i==="admin"?"Schedule your first rehearsal to get started with organized practice sessions!":"Your band admin hasn't scheduled any rehearsals yet."}),i==="admin"&&l.jsxs("button",{onClick:()=>n(!0),className:"btn-primary",children:[l.jsx(ei,{className:"h-4 w-4 mr-1"}),"Schedule First Rehearsal"]})]})]})]})}function dN(){const{bandId:e,rehearsalId:t}=ai(),r=it(),[n,s]=k.useState(!1),{data:i}=ci(e),{data:a}=ah(e),{data:o,isLoading:u}=sN(t),{data:c,isLoading:d}=iN(t),{data:h}=oh(e),m=lN(),y=uN(),g=async()=>{await m.mutateAsync({rehearsalId:t,bandId:e}),s(!1)},w=async f=>{window.confirm("Remove this song from the rehearsal setlist?")&&await y.mutateAsync(f)},b=f=>{switch(f){case"planning":return"text-yellow-600 bg-yellow-50";case"songs_selected":return"text-blue-600 bg-blue-50";case"completed":return"text-green-600 bg-green-50";default:return"text-gray-600 bg-gray-50"}},v=f=>{switch(f){case"planning":return l.jsx(tl,{className:"h-4 w-4"});case"songs_selected":return l.jsx(me,{className:"h-4 w-4"});case"completed":return l.jsx(sh,{className:"h-4 w-4"});default:return l.jsx(sn,{className:"h-4 w-4"})}};return u||d?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):o?l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("header",{className:"bg-white shadow-sm",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between items-center h-16",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("button",{onClick:()=>r(`/band/${e}/rehearsals`),className:"mr-4 text-gray-500 hover:text-gray-700",children:l.jsx(ar,{className:"h-5 w-5"})}),l.jsx(sn,{className:"h-6 w-6 text-primary-600 mr-3"}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:o.name}),l.jsx("p",{className:"text-xs text-gray-500",children:i==null?void 0:i.name})]})]}),l.jsxs("div",{className:`px-3 py-1 rounded-full text-sm font-medium flex items-center ${b(o.status)}`,children:[v(o.status),l.jsx("span",{className:"ml-1 capitalize",children:o.status.replace("_"," ")})]})]})})}),l.jsx("main",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsx("div",{className:"lg:col-span-1",children:l.jsxs("div",{className:"card",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Rehearsal Details"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center text-sm",children:[l.jsx(sn,{className:"h-5 w-5 text-gray-400 mr-3"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:al(new Date(o.rehearsal_date),"EEEE, MMMM d, yyyy")}),o.start_time&&l.jsxs("p",{className:"text-gray-600 flex items-center mt-1",children:[l.jsx(Al,{className:"h-4 w-4 mr-1"}),o.start_time]})]})]}),o.location&&l.jsxs("div",{className:"flex items-center text-sm",children:[l.jsx(iv,{className:"h-5 w-5 text-gray-400 mr-3"}),l.jsx("p",{children:o.location})]}),l.jsxs("div",{className:"flex items-center text-sm",children:[l.jsx(me,{className:"h-5 w-5 text-gray-400 mr-3"}),l.jsxs("p",{children:[o.songs_to_learn," song",o.songs_to_learn>1?"s":""," to learn"]})]}),o.selection_deadline&&l.jsxs("div",{className:"flex items-center text-sm",children:[l.jsx(tl,{className:"h-5 w-5 text-gray-400 mr-3"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Selection Deadline"}),l.jsx("p",{className:"text-gray-600",children:al(new Date(o.selection_deadline),"MMM d, yyyy h:mm a")})]})]})]}),o.description&&l.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[l.jsx("h3",{className:"font-medium mb-2",children:"Description"}),l.jsx("p",{className:"text-sm text-gray-600",children:o.description})]}),a==="admin"&&o.status==="planning"&&l.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[n?l.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[l.jsxs("p",{className:"text-sm text-yellow-800 mb-3",children:["This will select the top ",o.songs_to_learn," songs from your leaderboard and add them to this rehearsal."]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:g,disabled:m.isPending,className:"btn-primary text-sm",children:m.isPending?"Selecting...":"Confirm"}),l.jsx("button",{onClick:()=>s(!1),className:"btn-secondary text-sm",children:"Cancel"})]})]}):l.jsxs("button",{onClick:()=>s(!0),className:"w-full btn-primary",disabled:!h||h.length===0,children:[l.jsx(Sm,{className:"h-4 w-4 mr-2"}),"Auto-Select Songs from Leaderboard"]}),(!h||h.length===0)&&l.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"No songs available on leaderboard. Add some song suggestions first!"})]})]})}),l.jsx("div",{className:"lg:col-span-2",children:l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Rehearsal Setlist"}),c&&c.length>0&&l.jsxs("span",{className:"text-sm text-gray-500",children:[c.length," of ",o.songs_to_learn," songs selected"]})]}),c&&c.length>0?l.jsx("div",{className:"space-y-4",children:c.map((f,p)=>{var S,N,C,P,R,U,D,Z;return l.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[l.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-primary-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:p+1}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:(S=f.song_suggestion)==null?void 0:S.title}),l.jsx("p",{className:"text-gray-600 truncate",children:(N=f.song_suggestion)==null?void 0:N.artist}),((C=f.song_suggestion)==null?void 0:C.album)&&l.jsx("p",{className:"text-sm text-gray-500 truncate",children:(P=f.song_suggestion)==null?void 0:P.album})]}),((R=f.song_suggestion)==null?void 0:R.album_art_url)&&l.jsx("img",{src:f.song_suggestion.album_art_url,alt:f.song_suggestion.album||"Album art",className:"w-12 h-12 rounded-md ml-4"})]}),l.jsxs("div",{className:"flex items-center mt-2 space-x-4 text-xs text-gray-500",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(pa,{className:"w-3 h-3 mr-1"}),f.vote_count_at_selection||((U=f.song_suggestion)==null?void 0:U.vote_count)||0," votes"]}),f.selection_reason&&l.jsxs(l.Fragment,{children:[l.jsx("span",{children:"•"}),l.jsx("span",{children:f.selection_reason})]}),((D=f.song_suggestion)==null?void 0:D.spotify_track_id)&&l.jsxs(l.Fragment,{children:[l.jsx("span",{children:"•"}),l.jsxs("a",{href:`https://open.spotify.com/track/${f.song_suggestion.spotify_track_id}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-700 flex items-center",children:[l.jsx(ih,{className:"w-3 h-3 mr-1"}),"Spotify"]})]})]}),((Z=f.song_suggestion)==null?void 0:Z.spotify_track_id)&&l.jsx("div",{className:"mt-3",children:l.jsx(Ll,{trackId:f.song_suggestion.spotify_track_id,compact:!0,height:80})})]})]}),a==="admin"&&o.status==="planning"&&l.jsx("button",{onClick:()=>w(f.id),disabled:y.isPending,className:"ml-4 p-2 rounded-full transition-colors bg-white text-gray-600 hover:bg-red-50 hover:text-red-600",title:"Remove from setlist",children:l.jsx(Dl,{className:"w-4 h-4"})})]})},f.id)})}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx(me,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Songs Selected"}),l.jsx("p",{className:"text-gray-600 mb-6",children:a==="admin"?"Use the auto-select feature or manually add songs to create your rehearsal setlist.":"The admin hasn't selected songs for this rehearsal yet."}),a==="admin"&&o.status==="planning"&&l.jsxs("button",{onClick:()=>s(!0),className:"btn-primary",disabled:!h||h.length===0,children:[l.jsx(Sm,{className:"h-4 w-4 mr-2"}),"Auto-Select from Leaderboard"]})]})]})})]})})]}):l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Rehearsal Not Found"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"The rehearsal you're looking for doesn't exist."}),l.jsx("button",{onClick:()=>r(`/band/${e}/rehearsals`),className:"btn-primary",children:"Back to Rehearsals"})]})})}function hN(){const{user:e}=Ue();return Yt({queryKey:["profile",e==null?void 0:e.id],queryFn:async()=>{if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await W.from("profiles").select("*").eq("id",e.id).single();if(r)throw r;return t},enabled:!!e})}function fN(){const e=St(),{user:t}=Ue();return kt({mutationFn:async r=>{if(!t)throw new Error("Not authenticated");const{data:n,error:s}=await W.from("profiles").update(r).eq("id",t.id).select().single();if(s)throw s;if(r.display_name){const{error:i}=await W.auth.updateUser({data:{display_name:r.display_name}});if(i)throw i}return n},onSuccess:()=>{e.invalidateQueries({queryKey:["profile"]}),V.success("Profile updated successfully!")},onError:r=>{V.error(r.message||"Failed to update profile")}})}function mN(){return kt({mutationFn:async e=>{const{error:t}=await W.auth.updateUser({password:e});if(t)throw t},onSuccess:()=>{V.success("Password updated successfully!")},onError:e=>{V.error(e.message||"Failed to update password")}})}function pN(){return kt({mutationFn:async()=>{const{data:{session:e}}=await W.auth.getSession();if(!(e!=null&&e.user))throw new Error("Not authenticated");const{error:t}=await W.auth.admin.deleteUser(e.user.id);if(t)throw t},onSuccess:()=>{V.success("Account deleted successfully")},onError:e=>{V.error(e.message||"Failed to delete account")}})}function gN(){const e=St(),{user:t}=Ue();return kt({mutationFn:async r=>{if(!t)throw new Error("Not authenticated");const n=r.name.split(".").pop(),i=`avatars/${`${t.id}-${Math.random()}.${n}`}`,{error:a}=await W.storage.from("avatars").upload(i,r,{cacheControl:"3600",upsert:!0});if(a)throw a;const{data:{publicUrl:o}}=W.storage.from("avatars").getPublicUrl(i),{data:u,error:c}=await W.from("profiles").update({avatar_url:o}).eq("id",t.id).select().single();if(c)throw c;return u},onSuccess:()=>{e.invalidateQueries({queryKey:["profile"]}),V.success("Avatar updated successfully!")},onError:r=>{V.error(r.message||"Failed to upload avatar")}})}function yN(){const e=it(),{signOut:t}=Ue(),[r,n]=k.useState(!1),[s,i]=k.useState(!1),[a,o]=k.useState(!1),[u,c]=k.useState(!1),[d,h]=k.useState(null),[m,y]=k.useState(null),{data:g,isLoading:w}=hN(),b=fN(),v=mN(),f=pN(),p=gN(),{register:S,handleSubmit:N,formState:{errors:C,isDirty:P}}=Pr({defaultValues:{display_name:(g==null?void 0:g.display_name)||""},values:{display_name:(g==null?void 0:g.display_name)||""}}),{register:R,handleSubmit:U,formState:{errors:D},watch:Z,reset:H}=Pr(),Y=Z("new_password"),ue=async B=>{await b.mutateAsync(B)},Oe=async B=>{await v.mutateAsync(B.new_password),H(),n(!1)},Ee=B=>{var oe;const Q=(oe=B.target.files)==null?void 0:oe[0];if(Q){h(Q);const ve=new FileReader;ve.onload=lr=>{var jt;y((jt=lr.target)==null?void 0:jt.result)},ve.readAsDataURL(Q)}},We=async()=>{d&&(await p.mutateAsync(d),h(null),y(null))},L=async()=>{await f.mutateAsync(),await t(),e("/login")};return w?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("header",{className:"bg-white shadow-sm",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex items-center h-16",children:[l.jsx("button",{onClick:()=>e("/dashboard"),className:"mr-4 text-gray-500 hover:text-gray-700",children:l.jsx(ar,{className:"h-5 w-5"})}),l.jsx(nl,{className:"h-6 w-6 text-primary-600 mr-3"}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Profile Settings"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Manage your account settings and preferences"})]})]})})}),l.jsx("main",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"card",children:[l.jsx("div",{className:"flex items-center justify-between mb-6",children:l.jsx("h2",{className:"text-xl font-semibold",children:"Profile Information"})}),l.jsxs("div",{className:"flex items-center space-x-6 mb-6",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"w-20 h-20 rounded-full overflow-hidden bg-gray-200",children:m?l.jsx("img",{src:m,alt:"Avatar preview",className:"w-full h-full object-cover"}):g!=null&&g.avatar_url?l.jsx("img",{src:g.avatar_url,alt:"Profile avatar",className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center",children:l.jsx(nl,{className:"w-8 h-8 text-gray-400"})})}),l.jsxs("label",{className:"absolute bottom-0 right-0 bg-white rounded-full p-2 shadow-lg cursor-pointer hover:bg-gray-50",children:[l.jsx(fk,{className:"w-4 h-4 text-gray-600"}),l.jsx("input",{type:"file",accept:"image/*",onChange:Ee,className:"sr-only"})]})]}),d&&l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:We,disabled:p.isPending,className:"btn-primary text-sm",children:p.isPending?"Uploading...":"Save Avatar"}),l.jsx("button",{onClick:()=>{h(null),y(null)},className:"btn-secondary text-sm",children:"Cancel"})]})]}),l.jsxs("form",{onSubmit:N(ue),className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Display Name"}),l.jsx("input",{...S("display_name",{required:"Display name is required",minLength:{value:2,message:"Display name must be at least 2 characters"}}),className:"input-field",placeholder:"Your display name"}),C.display_name&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:C.display_name.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"email",value:(g==null?void 0:g.email)||"",disabled:!0,className:"input-field bg-gray-50 text-gray-500 cursor-not-allowed pr-10"}),l.jsx(wk,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"})]}),l.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Email cannot be changed. Contact support if you need to update your email."})]}),P&&l.jsx("div",{className:"flex justify-end",children:l.jsxs("button",{type:"submit",disabled:b.isPending,className:"btn-primary",children:[l.jsx(xk,{className:"w-4 h-4 mr-2"}),b.isPending?"Saving...":"Save Changes"]})})]})]}),l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Password & Security"}),l.jsxs("button",{onClick:()=>n(!r),className:"btn-secondary text-sm",children:[l.jsx(yk,{className:"w-4 h-4 mr-2"}),"Change Password"]})]}),r&&l.jsxs("form",{onSubmit:U(Oe),className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{...R("new_password",{required:"New password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),type:a?"text":"password",className:"input-field pr-10",placeholder:"Enter new password"}),l.jsx("button",{type:"button",onClick:()=>o(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:a?l.jsx(xm,{className:"w-5 h-5 text-gray-400"}):l.jsx(_m,{className:"w-5 h-5 text-gray-400"})})]}),D.new_password&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:D.new_password.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{...R("confirm_password",{required:"Please confirm your new password",validate:B=>B===Y||"Passwords do not match"}),type:u?"text":"password",className:"input-field pr-10",placeholder:"Confirm new password"}),l.jsx("button",{type:"button",onClick:()=>c(!u),className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:u?l.jsx(xm,{className:"w-5 h-5 text-gray-400"}):l.jsx(_m,{className:"w-5 h-5 text-gray-400"})})]}),D.confirm_password&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:D.confirm_password.message})]}),l.jsxs("div",{className:"flex justify-end space-x-3",children:[l.jsx("button",{type:"button",onClick:()=>{n(!1),H()},className:"btn-secondary",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:v.isPending,className:"btn-primary",children:v.isPending?"Updating...":"Update Password"})]})]})]}),l.jsxs("div",{className:"card border-red-200",children:[l.jsxs("div",{className:"flex items-center mb-6",children:[l.jsx(Sk,{className:"w-5 h-5 text-red-600 mr-2"}),l.jsx("h2",{className:"text-xl font-semibold text-red-600",children:"Danger Zone"})]}),l.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[l.jsx("h3",{className:"font-medium text-red-800 mb-2",children:"Delete Account"}),l.jsx("p",{className:"text-sm text-red-700 mb-4",children:"Permanently delete your account and all associated data. This action cannot be undone."}),s?l.jsxs("div",{className:"space-y-3",children:[l.jsx("p",{className:"text-sm font-medium text-red-800",children:"Are you absolutely sure? This will permanently delete your account and all data."}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsx("button",{onClick:L,disabled:f.isPending,className:"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 disabled:opacity-50 text-sm",children:f.isPending?"Deleting...":"Yes, delete my account"}),l.jsx("button",{onClick:()=>i(!1),className:"btn-secondary text-sm",children:"Cancel"})]})]}):l.jsxs("button",{onClick:()=>i(!0),className:"btn-secondary text-red-600 border-red-300 hover:bg-red-50",children:[l.jsx(Dl,{className:"w-4 h-4 mr-2"}),"Delete Account"]})]})]})]})})]})}const vN=new p_({defaultOptions:{queries:{staleTime:1e3*60*5,refetchOnWindowFocus:!1}}});function wN(){return l.jsx(x_,{client:vN,children:l.jsx(US,{children:l.jsxs(Gx,{children:[l.jsx(_1,{position:"top-center"}),l.jsxs(qx,{children:[l.jsx(Be,{path:"/login",element:l.jsx(kk,{})}),l.jsx(Be,{path:"/register",element:l.jsx(jk,{})}),l.jsx(Be,{path:"/forgot-password",element:l.jsx(Nk,{})}),l.jsx(Be,{path:"/reset-password",element:l.jsx(Ek,{})}),l.jsx(Be,{path:"/verify-email",element:l.jsx(Ck,{})}),l.jsxs(Be,{element:l.jsx(BS,{}),children:[l.jsx(Be,{path:"/dashboard",element:l.jsx(Ak,{})}),l.jsx(Be,{path:"/band-setup",element:l.jsx(Dk,{})}),l.jsx(Be,{path:"/band/:bandId",element:l.jsx(Xj,{})}),l.jsx(Be,{path:"/band/:bandId/search",element:l.jsx(eN,{})}),l.jsx(Be,{path:"/band/:bandId/suggestions",element:l.jsx(tN,{})}),l.jsx(Be,{path:"/band/:bandId/leaderboard",element:l.jsx(rN,{})}),l.jsx(Be,{path:"/band/:bandId/rehearsals",element:l.jsx(cN,{})}),l.jsx(Be,{path:"/band/:bandId/rehearsal/:rehearsalId",element:l.jsx(dN,{})}),l.jsx(Be,{path:"/profile",element:l.jsx(yN,{})})]}),l.jsx(Be,{path:"/",element:l.jsx(uy,{to:"/dashboard",replace:!0})})]})]})})})}Xg(document.getElementById("root")).render(l.jsx(k.StrictMode,{children:l.jsx(wN,{})}));
