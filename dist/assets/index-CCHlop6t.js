var wh=e=>{throw TypeError(e)};var Bl=(e,t,r)=>t.has(e)||wh("Cannot "+r);var w=(e,t,r)=>(Bl(e,t,"read from private field"),r?r.call(e):t.get(e)),V=(e,t,r)=>t.has(e)?wh("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),M=(e,t,r,n)=>(Bl(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),G=(e,t,r)=>(Bl(e,t,"access private method"),r);var Ma=(e,t,r,n)=>({set _(s){M(e,t,s,r)},get _(){return w(e,t,n)}});function N0(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Dt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function E0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function C0(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Wm={exports:{}},ul={},Hm={exports:{}},X={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ba=Symbol.for("react.element"),P0=Symbol.for("react.portal"),T0=Symbol.for("react.fragment"),O0=Symbol.for("react.strict_mode"),R0=Symbol.for("react.profiler"),A0=Symbol.for("react.provider"),D0=Symbol.for("react.context"),L0=Symbol.for("react.forward_ref"),M0=Symbol.for("react.suspense"),$0=Symbol.for("react.memo"),F0=Symbol.for("react.lazy"),_h=Symbol.iterator;function I0(e){return e===null||typeof e!="object"?null:(e=_h&&e[_h]||e["@@iterator"],typeof e=="function"?e:null)}var Qm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Km=Object.assign,Ym={};function ni(e,t,r){this.props=e,this.context=t,this.refs=Ym,this.updater=r||Qm}ni.prototype.isReactComponent={};ni.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ni.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Gm(){}Gm.prototype=ni.prototype;function Jc(e,t,r){this.props=e,this.context=t,this.refs=Ym,this.updater=r||Qm}var Xc=Jc.prototype=new Gm;Xc.constructor=Jc;Km(Xc,ni.prototype);Xc.isPureReactComponent=!0;var bh=Array.isArray,Jm=Object.prototype.hasOwnProperty,Zc={current:null},Xm={key:!0,ref:!0,__self:!0,__source:!0};function Zm(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)Jm.call(t,n)&&!Xm.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:ba,type:e,key:i,ref:a,props:s,_owner:Zc.current}}function U0(e,t){return{$$typeof:ba,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ed(e){return typeof e=="object"&&e!==null&&e.$$typeof===ba}function B0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var jh=/\/+/g;function zl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?B0(""+e.key):t.toString(36)}function oo(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case ba:case P0:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+zl(a,0):n,bh(s)?(r="",e!=null&&(r=e.replace(jh,"$&/")+"/"),oo(s,t,r,"",function(c){return c})):s!=null&&(ed(s)&&(s=U0(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(jh,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",bh(e))for(var l=0;l<e.length;l++){i=e[l];var u=n+zl(i,l);a+=oo(i,t,r,u,s)}else if(u=I0(e),typeof u=="function")for(e=u.call(e),l=0;!(i=e.next()).done;)i=i.value,u=n+zl(i,l++),a+=oo(i,t,r,u,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function $a(e,t,r){if(e==null)return e;var n=[],s=0;return oo(e,n,"","",function(i){return t.call(r,i,s++)}),n}function z0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var st={current:null},lo={transition:null},q0={ReactCurrentDispatcher:st,ReactCurrentBatchConfig:lo,ReactCurrentOwner:Zc};function ep(){throw Error("act(...) is not supported in production builds of React.")}X.Children={map:$a,forEach:function(e,t,r){$a(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return $a(e,function(){t++}),t},toArray:function(e){return $a(e,function(t){return t})||[]},only:function(e){if(!ed(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};X.Component=ni;X.Fragment=T0;X.Profiler=R0;X.PureComponent=Jc;X.StrictMode=O0;X.Suspense=M0;X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q0;X.act=ep;X.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Km({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=Zc.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)Jm.call(t,u)&&!Xm.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&l!==void 0?l[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];n.children=l}return{$$typeof:ba,type:e.type,key:s,ref:i,props:n,_owner:a}};X.createContext=function(e){return e={$$typeof:D0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:A0,_context:e},e.Consumer=e};X.createElement=Zm;X.createFactory=function(e){var t=Zm.bind(null,e);return t.type=e,t};X.createRef=function(){return{current:null}};X.forwardRef=function(e){return{$$typeof:L0,render:e}};X.isValidElement=ed;X.lazy=function(e){return{$$typeof:F0,_payload:{_status:-1,_result:e},_init:z0}};X.memo=function(e,t){return{$$typeof:$0,type:e,compare:t===void 0?null:t}};X.startTransition=function(e){var t=lo.transition;lo.transition={};try{e()}finally{lo.transition=t}};X.unstable_act=ep;X.useCallback=function(e,t){return st.current.useCallback(e,t)};X.useContext=function(e){return st.current.useContext(e)};X.useDebugValue=function(){};X.useDeferredValue=function(e){return st.current.useDeferredValue(e)};X.useEffect=function(e,t){return st.current.useEffect(e,t)};X.useId=function(){return st.current.useId()};X.useImperativeHandle=function(e,t,r){return st.current.useImperativeHandle(e,t,r)};X.useInsertionEffect=function(e,t){return st.current.useInsertionEffect(e,t)};X.useLayoutEffect=function(e,t){return st.current.useLayoutEffect(e,t)};X.useMemo=function(e,t){return st.current.useMemo(e,t)};X.useReducer=function(e,t,r){return st.current.useReducer(e,t,r)};X.useRef=function(e){return st.current.useRef(e)};X.useState=function(e){return st.current.useState(e)};X.useSyncExternalStore=function(e,t,r){return st.current.useSyncExternalStore(e,t,r)};X.useTransition=function(){return st.current.useTransition()};X.version="18.3.1";Hm.exports=X;var S=Hm.exports;const ct=E0(S),V0=N0({__proto__:null,default:ct},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W0=S,H0=Symbol.for("react.element"),Q0=Symbol.for("react.fragment"),K0=Object.prototype.hasOwnProperty,Y0=W0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,G0={key:!0,ref:!0,__self:!0,__source:!0};function tp(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)K0.call(t,n)&&!G0.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:H0,type:e,key:i,ref:a,props:s,_owner:Y0.current}}ul.Fragment=Q0;ul.jsx=tp;ul.jsxs=tp;Wm.exports=ul;var o=Wm.exports,rp={exports:{}},bt={},np={exports:{}},sp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,z){var Q=L.length;L.push(z);e:for(;0<Q;){var oe=Q-1>>>1,ve=L[oe];if(0<s(ve,z))L[oe]=z,L[Q]=ve,Q=oe;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var z=L[0],Q=L.pop();if(Q!==z){L[0]=Q;e:for(var oe=0,ve=L.length,lr=ve>>>1;oe<lr;){var Nt=2*(oe+1)-1,os=L[Nt],ur=Nt+1,Or=L[ur];if(0>s(os,Q))ur<ve&&0>s(Or,os)?(L[oe]=Or,L[ur]=Q,oe=ur):(L[oe]=os,L[Nt]=Q,oe=Nt);else if(ur<ve&&0>s(Or,Q))L[oe]=Or,L[ur]=Q,oe=ur;else break e}}return z}function s(L,z){var Q=L.sortIndex-z.sortIndex;return Q!==0?Q:L.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var u=[],c=[],d=1,h=null,f=3,y=!1,g=!1,x=!1,j=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(L){for(var z=r(c);z!==null;){if(z.callback===null)n(c);else if(z.startTime<=L)n(c),z.sortIndex=z.expirationTime,t(u,z);else break;z=r(c)}}function b(L){if(x=!1,p(L),!g)if(r(u)!==null)g=!0,Ee(N);else{var z=r(c);z!==null&&We(b,z.startTime-L)}}function N(L,z){g=!1,x&&(x=!1,v(R),R=-1),y=!0;var Q=f;try{for(p(z),h=r(u);h!==null&&(!(h.expirationTime>z)||L&&!Z());){var oe=h.callback;if(typeof oe=="function"){h.callback=null,f=h.priorityLevel;var ve=oe(h.expirationTime<=z);z=e.unstable_now(),typeof ve=="function"?h.callback=ve:h===r(u)&&n(u),p(z)}else n(u);h=r(u)}if(h!==null)var lr=!0;else{var Nt=r(c);Nt!==null&&We(b,Nt.startTime-z),lr=!1}return lr}finally{h=null,f=Q,y=!1}}var C=!1,P=null,R=-1,U=5,D=-1;function Z(){return!(e.unstable_now()-D<U)}function H(){if(P!==null){var L=e.unstable_now();D=L;var z=!0;try{z=P(!0,L)}finally{z?Y():(C=!1,P=null)}}else C=!1}var Y;if(typeof m=="function")Y=function(){m(H)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,Re=ue.port2;ue.port1.onmessage=H,Y=function(){Re.postMessage(null)}}else Y=function(){j(H,0)};function Ee(L){P=L,C||(C=!0,Y())}function We(L,z){R=j(function(){L(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){g||y||(g=!0,Ee(N))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(L){switch(f){case 1:case 2:case 3:var z=3;break;default:z=f}var Q=f;f=z;try{return L()}finally{f=Q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,z){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var Q=f;f=L;try{return z()}finally{f=Q}},e.unstable_scheduleCallback=function(L,z,Q){var oe=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?oe+Q:oe):Q=oe,L){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=Q+ve,L={id:d++,callback:z,priorityLevel:L,startTime:Q,expirationTime:ve,sortIndex:-1},Q>oe?(L.sortIndex=Q,t(c,L),r(u)===null&&L===r(c)&&(x?(v(R),R=-1):x=!0,We(b,Q-oe))):(L.sortIndex=ve,t(u,L),g||y||(g=!0,Ee(N))),L},e.unstable_shouldYield=Z,e.unstable_wrapCallback=function(L){var z=f;return function(){var Q=f;f=z;try{return L.apply(this,arguments)}finally{f=Q}}}})(sp);np.exports=sp;var J0=np.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X0=S,_t=J0;function T(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ip=new Set,Wi={};function ts(e,t){Ks(e,t),Ks(e+"Capture",t)}function Ks(e,t){for(Wi[e]=t,e=0;e<t.length;e++)ip.add(t[e])}var Sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Eu=Object.prototype.hasOwnProperty,Z0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Sh={},kh={};function ev(e){return Eu.call(kh,e)?!0:Eu.call(Sh,e)?!1:Z0.test(e)?kh[e]=!0:(Sh[e]=!0,!1)}function tv(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function rv(e,t,r,n){if(t===null||typeof t>"u"||tv(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function it(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var Ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ve[e]=new it(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ve[t]=new it(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ve[e]=new it(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ve[e]=new it(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ve[e]=new it(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ve[e]=new it(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ve[e]=new it(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ve[e]=new it(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ve[e]=new it(e,5,!1,e.toLowerCase(),null,!1,!1)});var td=/[\-:]([a-z])/g;function rd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(td,rd);Ve[t]=new it(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(td,rd);Ve[t]=new it(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(td,rd);Ve[t]=new it(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ve[e]=new it(e,1,!1,e.toLowerCase(),null,!1,!1)});Ve.xlinkHref=new it("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ve[e]=new it(e,1,!1,e.toLowerCase(),null,!0,!0)});function nd(e,t,r,n){var s=Ve.hasOwnProperty(t)?Ve[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(rv(t,r,s,n)&&(r=null),n||s===null?ev(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Tr=X0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fa=Symbol.for("react.element"),vs=Symbol.for("react.portal"),xs=Symbol.for("react.fragment"),sd=Symbol.for("react.strict_mode"),Cu=Symbol.for("react.profiler"),ap=Symbol.for("react.provider"),op=Symbol.for("react.context"),id=Symbol.for("react.forward_ref"),Pu=Symbol.for("react.suspense"),Tu=Symbol.for("react.suspense_list"),ad=Symbol.for("react.memo"),Fr=Symbol.for("react.lazy"),lp=Symbol.for("react.offscreen"),Nh=Symbol.iterator;function di(e){return e===null||typeof e!="object"?null:(e=Nh&&e[Nh]||e["@@iterator"],typeof e=="function"?e:null)}var _e=Object.assign,ql;function Si(e){if(ql===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ql=t&&t[1]||""}return`
`+ql+e}var Vl=!1;function Wl(e,t){if(!e||Vl)return"";Vl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var u=`
`+s[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=a&&0<=l);break}}}finally{Vl=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Si(e):""}function nv(e){switch(e.tag){case 5:return Si(e.type);case 16:return Si("Lazy");case 13:return Si("Suspense");case 19:return Si("SuspenseList");case 0:case 2:case 15:return e=Wl(e.type,!1),e;case 11:return e=Wl(e.type.render,!1),e;case 1:return e=Wl(e.type,!0),e;default:return""}}function Ou(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case xs:return"Fragment";case vs:return"Portal";case Cu:return"Profiler";case sd:return"StrictMode";case Pu:return"Suspense";case Tu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case op:return(e.displayName||"Context")+".Consumer";case ap:return(e._context.displayName||"Context")+".Provider";case id:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ad:return t=e.displayName||null,t!==null?t:Ou(e.type)||"Memo";case Fr:t=e._payload,e=e._init;try{return Ou(e(t))}catch{}}return null}function sv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ou(t);case 8:return t===sd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function gn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function up(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function iv(e){var t=up(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ia(e){e._valueTracker||(e._valueTracker=iv(e))}function cp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=up(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function So(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ru(e,t){var r=t.checked;return _e({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Eh(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=gn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function dp(e,t){t=t.checked,t!=null&&nd(e,"checked",t,!1)}function Au(e,t){dp(e,t);var r=gn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Du(e,t.type,r):t.hasOwnProperty("defaultValue")&&Du(e,t.type,gn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ch(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Du(e,t,r){(t!=="number"||So(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ki=Array.isArray;function Ts(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+gn(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Lu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(T(91));return _e({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ph(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(T(92));if(ki(r)){if(1<r.length)throw Error(T(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:gn(r)}}function hp(e,t){var r=gn(t.value),n=gn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Th(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function fp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?fp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ua,mp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ua=Ua||document.createElement("div"),Ua.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ua.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Hi(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ti={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},av=["Webkit","ms","Moz","O"];Object.keys(Ti).forEach(function(e){av.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ti[t]=Ti[e]})});function pp(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ti.hasOwnProperty(e)&&Ti[e]?(""+t).trim():t+"px"}function gp(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=pp(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var ov=_e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $u(e,t){if(t){if(ov[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(T(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(T(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(T(61))}if(t.style!=null&&typeof t.style!="object")throw Error(T(62))}}function Fu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Iu=null;function od(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Uu=null,Os=null,Rs=null;function Oh(e){if(e=ka(e)){if(typeof Uu!="function")throw Error(T(280));var t=e.stateNode;t&&(t=ml(t),Uu(e.stateNode,e.type,t))}}function yp(e){Os?Rs?Rs.push(e):Rs=[e]:Os=e}function vp(){if(Os){var e=Os,t=Rs;if(Rs=Os=null,Oh(e),t)for(e=0;e<t.length;e++)Oh(t[e])}}function xp(e,t){return e(t)}function wp(){}var Hl=!1;function _p(e,t,r){if(Hl)return e(t,r);Hl=!0;try{return xp(e,t,r)}finally{Hl=!1,(Os!==null||Rs!==null)&&(wp(),vp())}}function Qi(e,t){var r=e.stateNode;if(r===null)return null;var n=ml(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(T(231,t,typeof r));return r}var Bu=!1;if(Sr)try{var hi={};Object.defineProperty(hi,"passive",{get:function(){Bu=!0}}),window.addEventListener("test",hi,hi),window.removeEventListener("test",hi,hi)}catch{Bu=!1}function lv(e,t,r,n,s,i,a,l,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var Oi=!1,ko=null,No=!1,zu=null,uv={onError:function(e){Oi=!0,ko=e}};function cv(e,t,r,n,s,i,a,l,u){Oi=!1,ko=null,lv.apply(uv,arguments)}function dv(e,t,r,n,s,i,a,l,u){if(cv.apply(this,arguments),Oi){if(Oi){var c=ko;Oi=!1,ko=null}else throw Error(T(198));No||(No=!0,zu=c)}}function rs(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function bp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Rh(e){if(rs(e)!==e)throw Error(T(188))}function hv(e){var t=e.alternate;if(!t){if(t=rs(e),t===null)throw Error(T(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Rh(s),e;if(i===n)return Rh(s),t;i=i.sibling}throw Error(T(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a)throw Error(T(189))}}if(r.alternate!==n)throw Error(T(190))}if(r.tag!==3)throw Error(T(188));return r.stateNode.current===r?e:t}function jp(e){return e=hv(e),e!==null?Sp(e):null}function Sp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Sp(e);if(t!==null)return t;e=e.sibling}return null}var kp=_t.unstable_scheduleCallback,Ah=_t.unstable_cancelCallback,fv=_t.unstable_shouldYield,mv=_t.unstable_requestPaint,Se=_t.unstable_now,pv=_t.unstable_getCurrentPriorityLevel,ld=_t.unstable_ImmediatePriority,Np=_t.unstable_UserBlockingPriority,Eo=_t.unstable_NormalPriority,gv=_t.unstable_LowPriority,Ep=_t.unstable_IdlePriority,cl=null,ir=null;function yv(e){if(ir&&typeof ir.onCommitFiberRoot=="function")try{ir.onCommitFiberRoot(cl,e,void 0,(e.current.flags&128)===128)}catch{}}var Qt=Math.clz32?Math.clz32:wv,vv=Math.log,xv=Math.LN2;function wv(e){return e>>>=0,e===0?32:31-(vv(e)/xv|0)|0}var Ba=64,za=4194304;function Ni(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Co(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?n=Ni(l):(i&=a,i!==0&&(n=Ni(i)))}else a=r&~s,a!==0?n=Ni(a):i!==0&&(n=Ni(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Qt(t),s=1<<r,n|=e[r],t&=~s;return n}function _v(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bv(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Qt(i),l=1<<a,u=s[a];u===-1?(!(l&r)||l&n)&&(s[a]=_v(l,t)):u<=t&&(e.expiredLanes|=l),i&=~l}}function qu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Cp(){var e=Ba;return Ba<<=1,!(Ba&4194240)&&(Ba=64),e}function Ql(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ja(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Qt(t),e[t]=r}function jv(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Qt(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function ud(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Qt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var ae=0;function Pp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Tp,cd,Op,Rp,Ap,Vu=!1,qa=[],an=null,on=null,ln=null,Ki=new Map,Yi=new Map,Ur=[],Sv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dh(e,t){switch(e){case"focusin":case"focusout":an=null;break;case"dragenter":case"dragleave":on=null;break;case"mouseover":case"mouseout":ln=null;break;case"pointerover":case"pointerout":Ki.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yi.delete(t.pointerId)}}function fi(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ka(t),t!==null&&cd(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function kv(e,t,r,n,s){switch(t){case"focusin":return an=fi(an,e,t,r,n,s),!0;case"dragenter":return on=fi(on,e,t,r,n,s),!0;case"mouseover":return ln=fi(ln,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Ki.set(i,fi(Ki.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Yi.set(i,fi(Yi.get(i)||null,e,t,r,n,s)),!0}return!1}function Dp(e){var t=Rn(e.target);if(t!==null){var r=rs(t);if(r!==null){if(t=r.tag,t===13){if(t=bp(r),t!==null){e.blockedOn=t,Ap(e.priority,function(){Op(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function uo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Wu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Iu=n,r.target.dispatchEvent(n),Iu=null}else return t=ka(r),t!==null&&cd(t),e.blockedOn=r,!1;t.shift()}return!0}function Lh(e,t,r){uo(e)&&r.delete(t)}function Nv(){Vu=!1,an!==null&&uo(an)&&(an=null),on!==null&&uo(on)&&(on=null),ln!==null&&uo(ln)&&(ln=null),Ki.forEach(Lh),Yi.forEach(Lh)}function mi(e,t){e.blockedOn===t&&(e.blockedOn=null,Vu||(Vu=!0,_t.unstable_scheduleCallback(_t.unstable_NormalPriority,Nv)))}function Gi(e){function t(s){return mi(s,e)}if(0<qa.length){mi(qa[0],e);for(var r=1;r<qa.length;r++){var n=qa[r];n.blockedOn===e&&(n.blockedOn=null)}}for(an!==null&&mi(an,e),on!==null&&mi(on,e),ln!==null&&mi(ln,e),Ki.forEach(t),Yi.forEach(t),r=0;r<Ur.length;r++)n=Ur[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ur.length&&(r=Ur[0],r.blockedOn===null);)Dp(r),r.blockedOn===null&&Ur.shift()}var As=Tr.ReactCurrentBatchConfig,Po=!0;function Ev(e,t,r,n){var s=ae,i=As.transition;As.transition=null;try{ae=1,dd(e,t,r,n)}finally{ae=s,As.transition=i}}function Cv(e,t,r,n){var s=ae,i=As.transition;As.transition=null;try{ae=4,dd(e,t,r,n)}finally{ae=s,As.transition=i}}function dd(e,t,r,n){if(Po){var s=Wu(e,t,r,n);if(s===null)nu(e,t,n,To,r),Dh(e,n);else if(kv(s,e,t,r,n))n.stopPropagation();else if(Dh(e,n),t&4&&-1<Sv.indexOf(e)){for(;s!==null;){var i=ka(s);if(i!==null&&Tp(i),i=Wu(e,t,r,n),i===null&&nu(e,t,n,To,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else nu(e,t,n,null,r)}}var To=null;function Wu(e,t,r,n){if(To=null,e=od(n),e=Rn(e),e!==null)if(t=rs(e),t===null)e=null;else if(r=t.tag,r===13){if(e=bp(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return To=e,null}function Lp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pv()){case ld:return 1;case Np:return 4;case Eo:case gv:return 16;case Ep:return 536870912;default:return 16}default:return 16}}var tn=null,hd=null,co=null;function Mp(){if(co)return co;var e,t=hd,r=t.length,n,s="value"in tn?tn.value:tn.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return co=s.slice(e,1<n?1-n:void 0)}function ho(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Va(){return!0}function Mh(){return!1}function jt(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Va:Mh,this.isPropagationStopped=Mh,this}return _e(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Va)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Va)},persist:function(){},isPersistent:Va}),t}var si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fd=jt(si),Sa=_e({},si,{view:0,detail:0}),Pv=jt(Sa),Kl,Yl,pi,dl=_e({},Sa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:md,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pi&&(pi&&e.type==="mousemove"?(Kl=e.screenX-pi.screenX,Yl=e.screenY-pi.screenY):Yl=Kl=0,pi=e),Kl)},movementY:function(e){return"movementY"in e?e.movementY:Yl}}),$h=jt(dl),Tv=_e({},dl,{dataTransfer:0}),Ov=jt(Tv),Rv=_e({},Sa,{relatedTarget:0}),Gl=jt(Rv),Av=_e({},si,{animationName:0,elapsedTime:0,pseudoElement:0}),Dv=jt(Av),Lv=_e({},si,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Mv=jt(Lv),$v=_e({},si,{data:0}),Fh=jt($v),Fv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Uv[e])?!!t[e]:!1}function md(){return Bv}var zv=_e({},Sa,{key:function(e){if(e.key){var t=Fv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ho(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Iv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:md,charCode:function(e){return e.type==="keypress"?ho(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ho(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),qv=jt(zv),Vv=_e({},dl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ih=jt(Vv),Wv=_e({},Sa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:md}),Hv=jt(Wv),Qv=_e({},si,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kv=jt(Qv),Yv=_e({},dl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Gv=jt(Yv),Jv=[9,13,27,32],pd=Sr&&"CompositionEvent"in window,Ri=null;Sr&&"documentMode"in document&&(Ri=document.documentMode);var Xv=Sr&&"TextEvent"in window&&!Ri,$p=Sr&&(!pd||Ri&&8<Ri&&11>=Ri),Uh=" ",Bh=!1;function Fp(e,t){switch(e){case"keyup":return Jv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ip(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ws=!1;function Zv(e,t){switch(e){case"compositionend":return Ip(t);case"keypress":return t.which!==32?null:(Bh=!0,Uh);case"textInput":return e=t.data,e===Uh&&Bh?null:e;default:return null}}function ex(e,t){if(ws)return e==="compositionend"||!pd&&Fp(e,t)?(e=Mp(),co=hd=tn=null,ws=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $p&&t.locale!=="ko"?null:t.data;default:return null}}var tx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!tx[e.type]:t==="textarea"}function Up(e,t,r,n){yp(n),t=Oo(t,"onChange"),0<t.length&&(r=new fd("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ai=null,Ji=null;function rx(e){Jp(e,0)}function hl(e){var t=js(e);if(cp(t))return e}function nx(e,t){if(e==="change")return t}var Bp=!1;if(Sr){var Jl;if(Sr){var Xl="oninput"in document;if(!Xl){var qh=document.createElement("div");qh.setAttribute("oninput","return;"),Xl=typeof qh.oninput=="function"}Jl=Xl}else Jl=!1;Bp=Jl&&(!document.documentMode||9<document.documentMode)}function Vh(){Ai&&(Ai.detachEvent("onpropertychange",zp),Ji=Ai=null)}function zp(e){if(e.propertyName==="value"&&hl(Ji)){var t=[];Up(t,Ji,e,od(e)),_p(rx,t)}}function sx(e,t,r){e==="focusin"?(Vh(),Ai=t,Ji=r,Ai.attachEvent("onpropertychange",zp)):e==="focusout"&&Vh()}function ix(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hl(Ji)}function ax(e,t){if(e==="click")return hl(t)}function ox(e,t){if(e==="input"||e==="change")return hl(t)}function lx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Yt=typeof Object.is=="function"?Object.is:lx;function Xi(e,t){if(Yt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Eu.call(t,s)||!Yt(e[s],t[s]))return!1}return!0}function Wh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hh(e,t){var r=Wh(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Wh(r)}}function qp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?qp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Vp(){for(var e=window,t=So();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=So(e.document)}return t}function gd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ux(e){var t=Vp(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&qp(r.ownerDocument.documentElement,r)){if(n!==null&&gd(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Hh(r,i);var a=Hh(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var cx=Sr&&"documentMode"in document&&11>=document.documentMode,_s=null,Hu=null,Di=null,Qu=!1;function Qh(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Qu||_s==null||_s!==So(n)||(n=_s,"selectionStart"in n&&gd(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Di&&Xi(Di,n)||(Di=n,n=Oo(Hu,"onSelect"),0<n.length&&(t=new fd("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=_s)))}function Wa(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var bs={animationend:Wa("Animation","AnimationEnd"),animationiteration:Wa("Animation","AnimationIteration"),animationstart:Wa("Animation","AnimationStart"),transitionend:Wa("Transition","TransitionEnd")},Zl={},Wp={};Sr&&(Wp=document.createElement("div").style,"AnimationEvent"in window||(delete bs.animationend.animation,delete bs.animationiteration.animation,delete bs.animationstart.animation),"TransitionEvent"in window||delete bs.transitionend.transition);function fl(e){if(Zl[e])return Zl[e];if(!bs[e])return e;var t=bs[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Wp)return Zl[e]=t[r];return e}var Hp=fl("animationend"),Qp=fl("animationiteration"),Kp=fl("animationstart"),Yp=fl("transitionend"),Gp=new Map,Kh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xn(e,t){Gp.set(e,t),ts(t,[e])}for(var eu=0;eu<Kh.length;eu++){var tu=Kh[eu],dx=tu.toLowerCase(),hx=tu[0].toUpperCase()+tu.slice(1);xn(dx,"on"+hx)}xn(Hp,"onAnimationEnd");xn(Qp,"onAnimationIteration");xn(Kp,"onAnimationStart");xn("dblclick","onDoubleClick");xn("focusin","onFocus");xn("focusout","onBlur");xn(Yp,"onTransitionEnd");Ks("onMouseEnter",["mouseout","mouseover"]);Ks("onMouseLeave",["mouseout","mouseover"]);Ks("onPointerEnter",["pointerout","pointerover"]);Ks("onPointerLeave",["pointerout","pointerover"]);ts("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ts("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ts("onBeforeInput",["compositionend","keypress","textInput","paste"]);ts("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ts("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ts("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ei="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fx=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ei));function Yh(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,dv(n,t,void 0,e),e.currentTarget=null}function Jp(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var l=n[a],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==i&&s.isPropagationStopped())break e;Yh(s,l,c),i=u}else for(a=0;a<n.length;a++){if(l=n[a],u=l.instance,c=l.currentTarget,l=l.listener,u!==i&&s.isPropagationStopped())break e;Yh(s,l,c),i=u}}}if(No)throw e=zu,No=!1,zu=null,e}function me(e,t){var r=t[Xu];r===void 0&&(r=t[Xu]=new Set);var n=e+"__bubble";r.has(n)||(Xp(t,e,2,!1),r.add(n))}function ru(e,t,r){var n=0;t&&(n|=4),Xp(r,e,n,t)}var Ha="_reactListening"+Math.random().toString(36).slice(2);function Zi(e){if(!e[Ha]){e[Ha]=!0,ip.forEach(function(r){r!=="selectionchange"&&(fx.has(r)||ru(r,!1,e),ru(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ha]||(t[Ha]=!0,ru("selectionchange",!1,t))}}function Xp(e,t,r,n){switch(Lp(t)){case 1:var s=Ev;break;case 4:s=Cv;break;default:s=dd}r=s.bind(null,t,r,e),s=void 0,!Bu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function nu(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;a=a.return}for(;l!==null;){if(a=Rn(l),a===null)return;if(u=a.tag,u===5||u===6){n=i=a;continue e}l=l.parentNode}}n=n.return}_p(function(){var c=i,d=od(r),h=[];e:{var f=Gp.get(e);if(f!==void 0){var y=fd,g=e;switch(e){case"keypress":if(ho(r)===0)break e;case"keydown":case"keyup":y=qv;break;case"focusin":g="focus",y=Gl;break;case"focusout":g="blur",y=Gl;break;case"beforeblur":case"afterblur":y=Gl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=$h;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Ov;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Hv;break;case Hp:case Qp:case Kp:y=Dv;break;case Yp:y=Kv;break;case"scroll":y=Pv;break;case"wheel":y=Gv;break;case"copy":case"cut":case"paste":y=Mv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Ih}var x=(t&4)!==0,j=!x&&e==="scroll",v=x?f!==null?f+"Capture":null:f;x=[];for(var m=c,p;m!==null;){p=m;var b=p.stateNode;if(p.tag===5&&b!==null&&(p=b,v!==null&&(b=Qi(m,v),b!=null&&x.push(ea(m,b,p)))),j)break;m=m.return}0<x.length&&(f=new y(f,g,null,r,d),h.push({event:f,listeners:x}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",f&&r!==Iu&&(g=r.relatedTarget||r.fromElement)&&(Rn(g)||g[kr]))break e;if((y||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,y?(g=r.relatedTarget||r.toElement,y=c,g=g?Rn(g):null,g!==null&&(j=rs(g),g!==j||g.tag!==5&&g.tag!==6)&&(g=null)):(y=null,g=c),y!==g)){if(x=$h,b="onMouseLeave",v="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(x=Ih,b="onPointerLeave",v="onPointerEnter",m="pointer"),j=y==null?f:js(y),p=g==null?f:js(g),f=new x(b,m+"leave",y,r,d),f.target=j,f.relatedTarget=p,b=null,Rn(d)===c&&(x=new x(v,m+"enter",g,r,d),x.target=p,x.relatedTarget=j,b=x),j=b,y&&g)t:{for(x=y,v=g,m=0,p=x;p;p=ls(p))m++;for(p=0,b=v;b;b=ls(b))p++;for(;0<m-p;)x=ls(x),m--;for(;0<p-m;)v=ls(v),p--;for(;m--;){if(x===v||v!==null&&x===v.alternate)break t;x=ls(x),v=ls(v)}x=null}else x=null;y!==null&&Gh(h,f,y,x,!1),g!==null&&j!==null&&Gh(h,j,g,x,!0)}}e:{if(f=c?js(c):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var N=nx;else if(zh(f))if(Bp)N=ox;else{N=ix;var C=sx}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=ax);if(N&&(N=N(e,c))){Up(h,N,r,d);break e}C&&C(e,f,c),e==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&Du(f,"number",f.value)}switch(C=c?js(c):window,e){case"focusin":(zh(C)||C.contentEditable==="true")&&(_s=C,Hu=c,Di=null);break;case"focusout":Di=Hu=_s=null;break;case"mousedown":Qu=!0;break;case"contextmenu":case"mouseup":case"dragend":Qu=!1,Qh(h,r,d);break;case"selectionchange":if(cx)break;case"keydown":case"keyup":Qh(h,r,d)}var P;if(pd)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else ws?Fp(e,r)&&(R="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(R="onCompositionStart");R&&($p&&r.locale!=="ko"&&(ws||R!=="onCompositionStart"?R==="onCompositionEnd"&&ws&&(P=Mp()):(tn=d,hd="value"in tn?tn.value:tn.textContent,ws=!0)),C=Oo(c,R),0<C.length&&(R=new Fh(R,e,null,r,d),h.push({event:R,listeners:C}),P?R.data=P:(P=Ip(r),P!==null&&(R.data=P)))),(P=Xv?Zv(e,r):ex(e,r))&&(c=Oo(c,"onBeforeInput"),0<c.length&&(d=new Fh("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:c}),d.data=P))}Jp(h,t)})}function ea(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Oo(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Qi(e,r),i!=null&&n.unshift(ea(e,i,s)),i=Qi(e,t),i!=null&&n.push(ea(e,i,s))),e=e.return}return n}function ls(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Gh(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var l=r,u=l.alternate,c=l.stateNode;if(u!==null&&u===n)break;l.tag===5&&c!==null&&(l=c,s?(u=Qi(r,i),u!=null&&a.unshift(ea(r,u,l))):s||(u=Qi(r,i),u!=null&&a.push(ea(r,u,l)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var mx=/\r\n?/g,px=/\u0000|\uFFFD/g;function Jh(e){return(typeof e=="string"?e:""+e).replace(mx,`
`).replace(px,"")}function Qa(e,t,r){if(t=Jh(t),Jh(e)!==t&&r)throw Error(T(425))}function Ro(){}var Ku=null,Yu=null;function Gu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ju=typeof setTimeout=="function"?setTimeout:void 0,gx=typeof clearTimeout=="function"?clearTimeout:void 0,Xh=typeof Promise=="function"?Promise:void 0,yx=typeof queueMicrotask=="function"?queueMicrotask:typeof Xh<"u"?function(e){return Xh.resolve(null).then(e).catch(vx)}:Ju;function vx(e){setTimeout(function(){throw e})}function su(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Gi(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Gi(t)}function un(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Zh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ii=Math.random().toString(36).slice(2),nr="__reactFiber$"+ii,ta="__reactProps$"+ii,kr="__reactContainer$"+ii,Xu="__reactEvents$"+ii,xx="__reactListeners$"+ii,wx="__reactHandles$"+ii;function Rn(e){var t=e[nr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[kr]||r[nr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Zh(e);e!==null;){if(r=e[nr])return r;e=Zh(e)}return t}e=r,r=e.parentNode}return null}function ka(e){return e=e[nr]||e[kr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function js(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(T(33))}function ml(e){return e[ta]||null}var Zu=[],Ss=-1;function wn(e){return{current:e}}function pe(e){0>Ss||(e.current=Zu[Ss],Zu[Ss]=null,Ss--)}function he(e,t){Ss++,Zu[Ss]=e.current,e.current=t}var yn={},Ge=wn(yn),pt=wn(!1),Kn=yn;function Ys(e,t){var r=e.type.contextTypes;if(!r)return yn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function gt(e){return e=e.childContextTypes,e!=null}function Ao(){pe(pt),pe(Ge)}function ef(e,t,r){if(Ge.current!==yn)throw Error(T(168));he(Ge,t),he(pt,r)}function Zp(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(T(108,sv(e)||"Unknown",s));return _e({},r,n)}function Do(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||yn,Kn=Ge.current,he(Ge,e),he(pt,pt.current),!0}function tf(e,t,r){var n=e.stateNode;if(!n)throw Error(T(169));r?(e=Zp(e,t,Kn),n.__reactInternalMemoizedMergedChildContext=e,pe(pt),pe(Ge),he(Ge,e)):pe(pt),he(pt,r)}var yr=null,pl=!1,iu=!1;function eg(e){yr===null?yr=[e]:yr.push(e)}function _x(e){pl=!0,eg(e)}function _n(){if(!iu&&yr!==null){iu=!0;var e=0,t=ae;try{var r=yr;for(ae=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}yr=null,pl=!1}catch(s){throw yr!==null&&(yr=yr.slice(e+1)),kp(ld,_n),s}finally{ae=t,iu=!1}}return null}var ks=[],Ns=0,Lo=null,Mo=0,Tt=[],Ot=0,Yn=null,wr=1,_r="";function En(e,t){ks[Ns++]=Mo,ks[Ns++]=Lo,Lo=e,Mo=t}function tg(e,t,r){Tt[Ot++]=wr,Tt[Ot++]=_r,Tt[Ot++]=Yn,Yn=e;var n=wr;e=_r;var s=32-Qt(n)-1;n&=~(1<<s),r+=1;var i=32-Qt(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,wr=1<<32-Qt(t)+s|r<<s|n,_r=i+e}else wr=1<<i|r<<s|n,_r=e}function yd(e){e.return!==null&&(En(e,1),tg(e,1,0))}function vd(e){for(;e===Lo;)Lo=ks[--Ns],ks[Ns]=null,Mo=ks[--Ns],ks[Ns]=null;for(;e===Yn;)Yn=Tt[--Ot],Tt[Ot]=null,_r=Tt[--Ot],Tt[Ot]=null,wr=Tt[--Ot],Tt[Ot]=null}var wt=null,xt=null,ye=!1,Vt=null;function rg(e,t){var r=Rt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function rf(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,wt=e,xt=un(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,wt=e,xt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Yn!==null?{id:wr,overflow:_r}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Rt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,wt=e,xt=null,!0):!1;default:return!1}}function ec(e){return(e.mode&1)!==0&&(e.flags&128)===0}function tc(e){if(ye){var t=xt;if(t){var r=t;if(!rf(e,t)){if(ec(e))throw Error(T(418));t=un(r.nextSibling);var n=wt;t&&rf(e,t)?rg(n,r):(e.flags=e.flags&-4097|2,ye=!1,wt=e)}}else{if(ec(e))throw Error(T(418));e.flags=e.flags&-4097|2,ye=!1,wt=e}}}function nf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;wt=e}function Ka(e){if(e!==wt)return!1;if(!ye)return nf(e),ye=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Gu(e.type,e.memoizedProps)),t&&(t=xt)){if(ec(e))throw ng(),Error(T(418));for(;t;)rg(e,t),t=un(t.nextSibling)}if(nf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(T(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){xt=un(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}xt=null}}else xt=wt?un(e.stateNode.nextSibling):null;return!0}function ng(){for(var e=xt;e;)e=un(e.nextSibling)}function Gs(){xt=wt=null,ye=!1}function xd(e){Vt===null?Vt=[e]:Vt.push(e)}var bx=Tr.ReactCurrentBatchConfig;function gi(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(T(309));var n=r.stateNode}if(!n)throw Error(T(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(T(284));if(!r._owner)throw Error(T(290,e))}return e}function Ya(e,t){throw e=Object.prototype.toString.call(t),Error(T(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function sf(e){var t=e._init;return t(e._payload)}function sg(e){function t(v,m){if(e){var p=v.deletions;p===null?(v.deletions=[m],v.flags|=16):p.push(m)}}function r(v,m){if(!e)return null;for(;m!==null;)t(v,m),m=m.sibling;return null}function n(v,m){for(v=new Map;m!==null;)m.key!==null?v.set(m.key,m):v.set(m.index,m),m=m.sibling;return v}function s(v,m){return v=fn(v,m),v.index=0,v.sibling=null,v}function i(v,m,p){return v.index=p,e?(p=v.alternate,p!==null?(p=p.index,p<m?(v.flags|=2,m):p):(v.flags|=2,m)):(v.flags|=1048576,m)}function a(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,m,p,b){return m===null||m.tag!==6?(m=hu(p,v.mode,b),m.return=v,m):(m=s(m,p),m.return=v,m)}function u(v,m,p,b){var N=p.type;return N===xs?d(v,m,p.props.children,b,p.key):m!==null&&(m.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Fr&&sf(N)===m.type)?(b=s(m,p.props),b.ref=gi(v,m,p),b.return=v,b):(b=xo(p.type,p.key,p.props,null,v.mode,b),b.ref=gi(v,m,p),b.return=v,b)}function c(v,m,p,b){return m===null||m.tag!==4||m.stateNode.containerInfo!==p.containerInfo||m.stateNode.implementation!==p.implementation?(m=fu(p,v.mode,b),m.return=v,m):(m=s(m,p.children||[]),m.return=v,m)}function d(v,m,p,b,N){return m===null||m.tag!==7?(m=Qn(p,v.mode,b,N),m.return=v,m):(m=s(m,p),m.return=v,m)}function h(v,m,p){if(typeof m=="string"&&m!==""||typeof m=="number")return m=hu(""+m,v.mode,p),m.return=v,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Fa:return p=xo(m.type,m.key,m.props,null,v.mode,p),p.ref=gi(v,null,m),p.return=v,p;case vs:return m=fu(m,v.mode,p),m.return=v,m;case Fr:var b=m._init;return h(v,b(m._payload),p)}if(ki(m)||di(m))return m=Qn(m,v.mode,p,null),m.return=v,m;Ya(v,m)}return null}function f(v,m,p,b){var N=m!==null?m.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return N!==null?null:l(v,m,""+p,b);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Fa:return p.key===N?u(v,m,p,b):null;case vs:return p.key===N?c(v,m,p,b):null;case Fr:return N=p._init,f(v,m,N(p._payload),b)}if(ki(p)||di(p))return N!==null?null:d(v,m,p,b,null);Ya(v,p)}return null}function y(v,m,p,b,N){if(typeof b=="string"&&b!==""||typeof b=="number")return v=v.get(p)||null,l(m,v,""+b,N);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Fa:return v=v.get(b.key===null?p:b.key)||null,u(m,v,b,N);case vs:return v=v.get(b.key===null?p:b.key)||null,c(m,v,b,N);case Fr:var C=b._init;return y(v,m,p,C(b._payload),N)}if(ki(b)||di(b))return v=v.get(p)||null,d(m,v,b,N,null);Ya(m,b)}return null}function g(v,m,p,b){for(var N=null,C=null,P=m,R=m=0,U=null;P!==null&&R<p.length;R++){P.index>R?(U=P,P=null):U=P.sibling;var D=f(v,P,p[R],b);if(D===null){P===null&&(P=U);break}e&&P&&D.alternate===null&&t(v,P),m=i(D,m,R),C===null?N=D:C.sibling=D,C=D,P=U}if(R===p.length)return r(v,P),ye&&En(v,R),N;if(P===null){for(;R<p.length;R++)P=h(v,p[R],b),P!==null&&(m=i(P,m,R),C===null?N=P:C.sibling=P,C=P);return ye&&En(v,R),N}for(P=n(v,P);R<p.length;R++)U=y(P,v,R,p[R],b),U!==null&&(e&&U.alternate!==null&&P.delete(U.key===null?R:U.key),m=i(U,m,R),C===null?N=U:C.sibling=U,C=U);return e&&P.forEach(function(Z){return t(v,Z)}),ye&&En(v,R),N}function x(v,m,p,b){var N=di(p);if(typeof N!="function")throw Error(T(150));if(p=N.call(p),p==null)throw Error(T(151));for(var C=N=null,P=m,R=m=0,U=null,D=p.next();P!==null&&!D.done;R++,D=p.next()){P.index>R?(U=P,P=null):U=P.sibling;var Z=f(v,P,D.value,b);if(Z===null){P===null&&(P=U);break}e&&P&&Z.alternate===null&&t(v,P),m=i(Z,m,R),C===null?N=Z:C.sibling=Z,C=Z,P=U}if(D.done)return r(v,P),ye&&En(v,R),N;if(P===null){for(;!D.done;R++,D=p.next())D=h(v,D.value,b),D!==null&&(m=i(D,m,R),C===null?N=D:C.sibling=D,C=D);return ye&&En(v,R),N}for(P=n(v,P);!D.done;R++,D=p.next())D=y(P,v,R,D.value,b),D!==null&&(e&&D.alternate!==null&&P.delete(D.key===null?R:D.key),m=i(D,m,R),C===null?N=D:C.sibling=D,C=D);return e&&P.forEach(function(H){return t(v,H)}),ye&&En(v,R),N}function j(v,m,p,b){if(typeof p=="object"&&p!==null&&p.type===xs&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Fa:e:{for(var N=p.key,C=m;C!==null;){if(C.key===N){if(N=p.type,N===xs){if(C.tag===7){r(v,C.sibling),m=s(C,p.props.children),m.return=v,v=m;break e}}else if(C.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Fr&&sf(N)===C.type){r(v,C.sibling),m=s(C,p.props),m.ref=gi(v,C,p),m.return=v,v=m;break e}r(v,C);break}else t(v,C);C=C.sibling}p.type===xs?(m=Qn(p.props.children,v.mode,b,p.key),m.return=v,v=m):(b=xo(p.type,p.key,p.props,null,v.mode,b),b.ref=gi(v,m,p),b.return=v,v=b)}return a(v);case vs:e:{for(C=p.key;m!==null;){if(m.key===C)if(m.tag===4&&m.stateNode.containerInfo===p.containerInfo&&m.stateNode.implementation===p.implementation){r(v,m.sibling),m=s(m,p.children||[]),m.return=v,v=m;break e}else{r(v,m);break}else t(v,m);m=m.sibling}m=fu(p,v.mode,b),m.return=v,v=m}return a(v);case Fr:return C=p._init,j(v,m,C(p._payload),b)}if(ki(p))return g(v,m,p,b);if(di(p))return x(v,m,p,b);Ya(v,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,m!==null&&m.tag===6?(r(v,m.sibling),m=s(m,p),m.return=v,v=m):(r(v,m),m=hu(p,v.mode,b),m.return=v,v=m),a(v)):r(v,m)}return j}var Js=sg(!0),ig=sg(!1),$o=wn(null),Fo=null,Es=null,wd=null;function _d(){wd=Es=Fo=null}function bd(e){var t=$o.current;pe($o),e._currentValue=t}function rc(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ds(e,t){Fo=e,wd=Es=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(mt=!0),e.firstContext=null)}function Lt(e){var t=e._currentValue;if(wd!==e)if(e={context:e,memoizedValue:t,next:null},Es===null){if(Fo===null)throw Error(T(308));Es=e,Fo.dependencies={lanes:0,firstContext:e}}else Es=Es.next=e;return t}var An=null;function jd(e){An===null?An=[e]:An.push(e)}function ag(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,jd(t)):(r.next=s.next,s.next=r),t.interleaved=r,Nr(e,n)}function Nr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ir=!1;function Sd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function og(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function br(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function cn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,re&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Nr(e,r)}return s=n.interleaved,s===null?(t.next=t,jd(n)):(t.next=s.next,s.next=t),n.interleaved=t,Nr(e,r)}function fo(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ud(e,r)}}function af(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Io(e,t,r,n){var s=e.updateQueue;Ir=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,c=u.next;u.next=null,a===null?i=c:a.next=c,a=u;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(i!==null){var h=s.baseState;a=0,d=c=u=null,l=i;do{var f=l.lane,y=l.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,x=l;switch(f=t,y=r,x.tag){case 1:if(g=x.payload,typeof g=="function"){h=g.call(y,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=x.payload,f=typeof g=="function"?g.call(y,h,f):g,f==null)break e;h=_e({},h,f);break e;case 2:Ir=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else y={eventTime:y,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=y,u=h):d=d.next=y,a|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(u=h),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Jn|=a,e.lanes=a,e.memoizedState=h}}function of(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(T(191,s));s.call(n)}}}var Na={},ar=wn(Na),ra=wn(Na),na=wn(Na);function Dn(e){if(e===Na)throw Error(T(174));return e}function kd(e,t){switch(he(na,t),he(ra,e),he(ar,Na),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Mu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Mu(t,e)}pe(ar),he(ar,t)}function Xs(){pe(ar),pe(ra),pe(na)}function lg(e){Dn(na.current);var t=Dn(ar.current),r=Mu(t,e.type);t!==r&&(he(ra,e),he(ar,r))}function Nd(e){ra.current===e&&(pe(ar),pe(ra))}var xe=wn(0);function Uo(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var au=[];function Ed(){for(var e=0;e<au.length;e++)au[e]._workInProgressVersionPrimary=null;au.length=0}var mo=Tr.ReactCurrentDispatcher,ou=Tr.ReactCurrentBatchConfig,Gn=0,we=null,De=null,Ue=null,Bo=!1,Li=!1,sa=0,jx=0;function He(){throw Error(T(321))}function Cd(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Yt(e[r],t[r]))return!1;return!0}function Pd(e,t,r,n,s,i){if(Gn=i,we=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,mo.current=e===null||e.memoizedState===null?Ex:Cx,e=r(n,s),Li){i=0;do{if(Li=!1,sa=0,25<=i)throw Error(T(301));i+=1,Ue=De=null,t.updateQueue=null,mo.current=Px,e=r(n,s)}while(Li)}if(mo.current=zo,t=De!==null&&De.next!==null,Gn=0,Ue=De=we=null,Bo=!1,t)throw Error(T(300));return e}function Td(){var e=sa!==0;return sa=0,e}function Xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ue===null?we.memoizedState=Ue=e:Ue=Ue.next=e,Ue}function Mt(){if(De===null){var e=we.alternate;e=e!==null?e.memoizedState:null}else e=De.next;var t=Ue===null?we.memoizedState:Ue.next;if(t!==null)Ue=t,De=e;else{if(e===null)throw Error(T(310));De=e,e={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Ue===null?we.memoizedState=Ue=e:Ue=Ue.next=e}return Ue}function ia(e,t){return typeof t=="function"?t(e):t}function lu(e){var t=Mt(),r=t.queue;if(r===null)throw Error(T(311));r.lastRenderedReducer=e;var n=De,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=a=null,u=null,c=i;do{var d=c.lane;if((Gn&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=h,a=n):u=u.next=h,we.lanes|=d,Jn|=d}c=c.next}while(c!==null&&c!==i);u===null?a=n:u.next=l,Yt(n,t.memoizedState)||(mt=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=u,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,we.lanes|=i,Jn|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function uu(e){var t=Mt(),r=t.queue;if(r===null)throw Error(T(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);Yt(i,t.memoizedState)||(mt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function ug(){}function cg(e,t){var r=we,n=Mt(),s=t(),i=!Yt(n.memoizedState,s);if(i&&(n.memoizedState=s,mt=!0),n=n.queue,Od(fg.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Ue!==null&&Ue.memoizedState.tag&1){if(r.flags|=2048,aa(9,hg.bind(null,r,n,s,t),void 0,null),Be===null)throw Error(T(349));Gn&30||dg(r,t,s)}return s}function dg(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function hg(e,t,r,n){t.value=r,t.getSnapshot=n,mg(t)&&pg(e)}function fg(e,t,r){return r(function(){mg(t)&&pg(e)})}function mg(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Yt(e,r)}catch{return!0}}function pg(e){var t=Nr(e,1);t!==null&&Kt(t,e,1,-1)}function lf(e){var t=Xt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:e},t.queue=e,e=e.dispatch=Nx.bind(null,we,e),[t.memoizedState,e]}function aa(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function gg(){return Mt().memoizedState}function po(e,t,r,n){var s=Xt();we.flags|=e,s.memoizedState=aa(1|t,r,void 0,n===void 0?null:n)}function gl(e,t,r,n){var s=Mt();n=n===void 0?null:n;var i=void 0;if(De!==null){var a=De.memoizedState;if(i=a.destroy,n!==null&&Cd(n,a.deps)){s.memoizedState=aa(t,r,i,n);return}}we.flags|=e,s.memoizedState=aa(1|t,r,i,n)}function uf(e,t){return po(8390656,8,e,t)}function Od(e,t){return gl(2048,8,e,t)}function yg(e,t){return gl(4,2,e,t)}function vg(e,t){return gl(4,4,e,t)}function xg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function wg(e,t,r){return r=r!=null?r.concat([e]):null,gl(4,4,xg.bind(null,t,e),r)}function Rd(){}function _g(e,t){var r=Mt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Cd(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function bg(e,t){var r=Mt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Cd(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function jg(e,t,r){return Gn&21?(Yt(r,t)||(r=Cp(),we.lanes|=r,Jn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,mt=!0),e.memoizedState=r)}function Sx(e,t){var r=ae;ae=r!==0&&4>r?r:4,e(!0);var n=ou.transition;ou.transition={};try{e(!1),t()}finally{ae=r,ou.transition=n}}function Sg(){return Mt().memoizedState}function kx(e,t,r){var n=hn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},kg(e))Ng(t,r);else if(r=ag(e,t,r,n),r!==null){var s=nt();Kt(r,e,n,s),Eg(r,t,n)}}function Nx(e,t,r){var n=hn(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(kg(e))Ng(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,r);if(s.hasEagerState=!0,s.eagerState=l,Yt(l,a)){var u=t.interleaved;u===null?(s.next=s,jd(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}r=ag(e,t,s,n),r!==null&&(s=nt(),Kt(r,e,n,s),Eg(r,t,n))}}function kg(e){var t=e.alternate;return e===we||t!==null&&t===we}function Ng(e,t){Li=Bo=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Eg(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ud(e,r)}}var zo={readContext:Lt,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useInsertionEffect:He,useLayoutEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useMutableSource:He,useSyncExternalStore:He,useId:He,unstable_isNewReconciler:!1},Ex={readContext:Lt,useCallback:function(e,t){return Xt().memoizedState=[e,t===void 0?null:t],e},useContext:Lt,useEffect:uf,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,po(4194308,4,xg.bind(null,t,e),r)},useLayoutEffect:function(e,t){return po(4194308,4,e,t)},useInsertionEffect:function(e,t){return po(4,2,e,t)},useMemo:function(e,t){var r=Xt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Xt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=kx.bind(null,we,e),[n.memoizedState,e]},useRef:function(e){var t=Xt();return e={current:e},t.memoizedState=e},useState:lf,useDebugValue:Rd,useDeferredValue:function(e){return Xt().memoizedState=e},useTransition:function(){var e=lf(!1),t=e[0];return e=Sx.bind(null,e[1]),Xt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=we,s=Xt();if(ye){if(r===void 0)throw Error(T(407));r=r()}else{if(r=t(),Be===null)throw Error(T(349));Gn&30||dg(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,uf(fg.bind(null,n,i,e),[e]),n.flags|=2048,aa(9,hg.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Xt(),t=Be.identifierPrefix;if(ye){var r=_r,n=wr;r=(n&~(1<<32-Qt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=sa++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=jx++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Cx={readContext:Lt,useCallback:_g,useContext:Lt,useEffect:Od,useImperativeHandle:wg,useInsertionEffect:yg,useLayoutEffect:vg,useMemo:bg,useReducer:lu,useRef:gg,useState:function(){return lu(ia)},useDebugValue:Rd,useDeferredValue:function(e){var t=Mt();return jg(t,De.memoizedState,e)},useTransition:function(){var e=lu(ia)[0],t=Mt().memoizedState;return[e,t]},useMutableSource:ug,useSyncExternalStore:cg,useId:Sg,unstable_isNewReconciler:!1},Px={readContext:Lt,useCallback:_g,useContext:Lt,useEffect:Od,useImperativeHandle:wg,useInsertionEffect:yg,useLayoutEffect:vg,useMemo:bg,useReducer:uu,useRef:gg,useState:function(){return uu(ia)},useDebugValue:Rd,useDeferredValue:function(e){var t=Mt();return De===null?t.memoizedState=e:jg(t,De.memoizedState,e)},useTransition:function(){var e=uu(ia)[0],t=Mt().memoizedState;return[e,t]},useMutableSource:ug,useSyncExternalStore:cg,useId:Sg,unstable_isNewReconciler:!1};function It(e,t){if(e&&e.defaultProps){t=_e({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function nc(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:_e({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var yl={isMounted:function(e){return(e=e._reactInternals)?rs(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=nt(),s=hn(e),i=br(n,s);i.payload=t,r!=null&&(i.callback=r),t=cn(e,i,s),t!==null&&(Kt(t,e,s,n),fo(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=nt(),s=hn(e),i=br(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=cn(e,i,s),t!==null&&(Kt(t,e,s,n),fo(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=nt(),n=hn(e),s=br(r,n);s.tag=2,t!=null&&(s.callback=t),t=cn(e,s,n),t!==null&&(Kt(t,e,n,r),fo(t,e,n))}};function cf(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!Xi(r,n)||!Xi(s,i):!0}function Cg(e,t,r){var n=!1,s=yn,i=t.contextType;return typeof i=="object"&&i!==null?i=Lt(i):(s=gt(t)?Kn:Ge.current,n=t.contextTypes,i=(n=n!=null)?Ys(e,s):yn),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=yl,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function df(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&yl.enqueueReplaceState(t,t.state,null)}function sc(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Sd(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Lt(i):(i=gt(t)?Kn:Ge.current,s.context=Ys(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(nc(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&yl.enqueueReplaceState(s,s.state,null),Io(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Zs(e,t){try{var r="",n=t;do r+=nv(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function cu(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ic(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Tx=typeof WeakMap=="function"?WeakMap:Map;function Pg(e,t,r){r=br(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Vo||(Vo=!0,pc=n),ic(e,t)},r}function Tg(e,t,r){r=br(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){ic(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){ic(e,t),typeof n!="function"&&(dn===null?dn=new Set([this]):dn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function hf(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Tx;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Vx.bind(null,e,t,r),t.then(e,e))}function ff(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function mf(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=br(-1,1),t.tag=2,cn(r,t,1))),r.lanes|=1),e)}var Ox=Tr.ReactCurrentOwner,mt=!1;function et(e,t,r,n){t.child=e===null?ig(t,null,r,n):Js(t,e.child,r,n)}function pf(e,t,r,n,s){r=r.render;var i=t.ref;return Ds(t,s),n=Pd(e,t,r,n,i,s),r=Td(),e!==null&&!mt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Er(e,t,s)):(ye&&r&&yd(t),t.flags|=1,et(e,t,n,s),t.child)}function gf(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Ud(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Og(e,t,i,n,s)):(e=xo(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:Xi,r(a,n)&&e.ref===t.ref)return Er(e,t,s)}return t.flags|=1,e=fn(i,n),e.ref=t.ref,e.return=t,t.child=e}function Og(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Xi(i,n)&&e.ref===t.ref)if(mt=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(mt=!0);else return t.lanes=e.lanes,Er(e,t,s)}return ac(e,t,r,n,s)}function Rg(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},he(Ps,vt),vt|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,he(Ps,vt),vt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,he(Ps,vt),vt|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,he(Ps,vt),vt|=n;return et(e,t,s,r),t.child}function Ag(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ac(e,t,r,n,s){var i=gt(r)?Kn:Ge.current;return i=Ys(t,i),Ds(t,s),r=Pd(e,t,r,n,i,s),n=Td(),e!==null&&!mt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Er(e,t,s)):(ye&&n&&yd(t),t.flags|=1,et(e,t,r,s),t.child)}function yf(e,t,r,n,s){if(gt(r)){var i=!0;Do(t)}else i=!1;if(Ds(t,s),t.stateNode===null)go(e,t),Cg(t,r,n),sc(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var u=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=Lt(c):(c=gt(r)?Kn:Ge.current,c=Ys(t,c));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||u!==c)&&df(t,a,n,c),Ir=!1;var f=t.memoizedState;a.state=f,Io(t,n,a,s),u=t.memoizedState,l!==n||f!==u||pt.current||Ir?(typeof d=="function"&&(nc(t,r,d,n),u=t.memoizedState),(l=Ir||cf(t,r,l,n,f,u,c))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),a.props=n,a.state=u,a.context=c,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,og(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:It(t.type,l),a.props=c,h=t.pendingProps,f=a.context,u=r.contextType,typeof u=="object"&&u!==null?u=Lt(u):(u=gt(r)?Kn:Ge.current,u=Ys(t,u));var y=r.getDerivedStateFromProps;(d=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||f!==u)&&df(t,a,n,u),Ir=!1,f=t.memoizedState,a.state=f,Io(t,n,a,s);var g=t.memoizedState;l!==h||f!==g||pt.current||Ir?(typeof y=="function"&&(nc(t,r,y,n),g=t.memoizedState),(c=Ir||cf(t,r,c,n,f,g,u)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,g,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,g,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),a.props=n,a.state=g,a.context=u,n=c):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return oc(e,t,r,n,i,s)}function oc(e,t,r,n,s,i){Ag(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&tf(t,r,!1),Er(e,t,i);n=t.stateNode,Ox.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Js(t,e.child,null,i),t.child=Js(t,null,l,i)):et(e,t,l,i),t.memoizedState=n.state,s&&tf(t,r,!0),t.child}function Dg(e){var t=e.stateNode;t.pendingContext?ef(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ef(e,t.context,!1),kd(e,t.containerInfo)}function vf(e,t,r,n,s){return Gs(),xd(s),t.flags|=256,et(e,t,r,n),t.child}var lc={dehydrated:null,treeContext:null,retryLane:0};function uc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lg(e,t,r){var n=t.pendingProps,s=xe.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),he(xe,s&1),e===null)return tc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=wl(a,n,0,null),e=Qn(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=uc(r),t.memoizedState=lc,e):Ad(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Rx(e,t,a,n,l,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,l=s.sibling;var u={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=u,t.deletions=null):(n=fn(s,u),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=fn(l,i):(i=Qn(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?uc(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=lc,n}return i=e.child,e=i.sibling,n=fn(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Ad(e,t){return t=wl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ga(e,t,r,n){return n!==null&&xd(n),Js(t,e.child,null,r),e=Ad(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Rx(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=cu(Error(T(422))),Ga(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=wl({mode:"visible",children:n.children},s,0,null),i=Qn(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Js(t,e.child,null,a),t.child.memoizedState=uc(a),t.memoizedState=lc,i);if(!(t.mode&1))return Ga(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(T(419)),n=cu(i,n,void 0),Ga(e,t,a,n)}if(l=(a&e.childLanes)!==0,mt||l){if(n=Be,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Nr(e,s),Kt(n,e,s,-1))}return Id(),n=cu(Error(T(421))),Ga(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Wx.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,xt=un(s.nextSibling),wt=t,ye=!0,Vt=null,e!==null&&(Tt[Ot++]=wr,Tt[Ot++]=_r,Tt[Ot++]=Yn,wr=e.id,_r=e.overflow,Yn=t),t=Ad(t,n.children),t.flags|=4096,t)}function xf(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),rc(e.return,t,r)}function du(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Mg(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(et(e,t,n.children,r),n=xe.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xf(e,r,t);else if(e.tag===19)xf(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(he(xe,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Uo(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),du(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Uo(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}du(t,!0,r,null,i);break;case"together":du(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function go(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Er(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Jn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(T(153));if(t.child!==null){for(e=t.child,r=fn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=fn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Ax(e,t,r){switch(t.tag){case 3:Dg(t),Gs();break;case 5:lg(t);break;case 1:gt(t.type)&&Do(t);break;case 4:kd(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;he($o,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(he(xe,xe.current&1),t.flags|=128,null):r&t.child.childLanes?Lg(e,t,r):(he(xe,xe.current&1),e=Er(e,t,r),e!==null?e.sibling:null);he(xe,xe.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Mg(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),he(xe,xe.current),n)break;return null;case 22:case 23:return t.lanes=0,Rg(e,t,r)}return Er(e,t,r)}var $g,cc,Fg,Ig;$g=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};cc=function(){};Fg=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Dn(ar.current);var i=null;switch(r){case"input":s=Ru(e,s),n=Ru(e,n),i=[];break;case"select":s=_e({},s,{value:void 0}),n=_e({},n,{value:void 0}),i=[];break;case"textarea":s=Lu(e,s),n=Lu(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ro)}$u(r,n);var a;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Wi.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var u=n[c];if(l=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(r||(r={}),r[a]=u[a])}else r||(i||(i=[]),i.push(c,r)),r=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Wi.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&me("scroll",e),i||l===u||(i=[])):(i=i||[]).push(c,u))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Ig=function(e,t,r,n){r!==n&&(t.flags|=4)};function yi(e,t){if(!ye)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Dx(e,t,r){var n=t.pendingProps;switch(vd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(t),null;case 1:return gt(t.type)&&Ao(),Qe(t),null;case 3:return n=t.stateNode,Xs(),pe(pt),pe(Ge),Ed(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ka(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Vt!==null&&(vc(Vt),Vt=null))),cc(e,t),Qe(t),null;case 5:Nd(t);var s=Dn(na.current);if(r=t.type,e!==null&&t.stateNode!=null)Fg(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(T(166));return Qe(t),null}if(e=Dn(ar.current),Ka(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[nr]=t,n[ta]=i,e=(t.mode&1)!==0,r){case"dialog":me("cancel",n),me("close",n);break;case"iframe":case"object":case"embed":me("load",n);break;case"video":case"audio":for(s=0;s<Ei.length;s++)me(Ei[s],n);break;case"source":me("error",n);break;case"img":case"image":case"link":me("error",n),me("load",n);break;case"details":me("toggle",n);break;case"input":Eh(n,i),me("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},me("invalid",n);break;case"textarea":Ph(n,i),me("invalid",n)}$u(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Qa(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Qa(n.textContent,l,e),s=["children",""+l]):Wi.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&me("scroll",n)}switch(r){case"input":Ia(n),Ch(n,i,!0);break;case"textarea":Ia(n),Th(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Ro)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=fp(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[nr]=t,e[ta]=n,$g(e,t,!1,!1),t.stateNode=e;e:{switch(a=Fu(r,n),r){case"dialog":me("cancel",e),me("close",e),s=n;break;case"iframe":case"object":case"embed":me("load",e),s=n;break;case"video":case"audio":for(s=0;s<Ei.length;s++)me(Ei[s],e);s=n;break;case"source":me("error",e),s=n;break;case"img":case"image":case"link":me("error",e),me("load",e),s=n;break;case"details":me("toggle",e),s=n;break;case"input":Eh(e,n),s=Ru(e,n),me("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=_e({},n,{value:void 0}),me("invalid",e);break;case"textarea":Ph(e,n),s=Lu(e,n),me("invalid",e);break;default:s=n}$u(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="style"?gp(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&mp(e,u)):i==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&Hi(e,u):typeof u=="number"&&Hi(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Wi.hasOwnProperty(i)?u!=null&&i==="onScroll"&&me("scroll",e):u!=null&&nd(e,i,u,a))}switch(r){case"input":Ia(e),Ch(e,n,!1);break;case"textarea":Ia(e),Th(e);break;case"option":n.value!=null&&e.setAttribute("value",""+gn(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Ts(e,!!n.multiple,i,!1):n.defaultValue!=null&&Ts(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ro)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Qe(t),null;case 6:if(e&&t.stateNode!=null)Ig(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(T(166));if(r=Dn(na.current),Dn(ar.current),Ka(t)){if(n=t.stateNode,r=t.memoizedProps,n[nr]=t,(i=n.nodeValue!==r)&&(e=wt,e!==null))switch(e.tag){case 3:Qa(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Qa(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[nr]=t,t.stateNode=n}return Qe(t),null;case 13:if(pe(xe),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ye&&xt!==null&&t.mode&1&&!(t.flags&128))ng(),Gs(),t.flags|=98560,i=!1;else if(i=Ka(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(T(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(T(317));i[nr]=t}else Gs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Qe(t),i=!1}else Vt!==null&&(vc(Vt),Vt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||xe.current&1?Me===0&&(Me=3):Id())),t.updateQueue!==null&&(t.flags|=4),Qe(t),null);case 4:return Xs(),cc(e,t),e===null&&Zi(t.stateNode.containerInfo),Qe(t),null;case 10:return bd(t.type._context),Qe(t),null;case 17:return gt(t.type)&&Ao(),Qe(t),null;case 19:if(pe(xe),i=t.memoizedState,i===null)return Qe(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)yi(i,!1);else{if(Me!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Uo(e),a!==null){for(t.flags|=128,yi(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return he(xe,xe.current&1|2),t.child}e=e.sibling}i.tail!==null&&Se()>ei&&(t.flags|=128,n=!0,yi(i,!1),t.lanes=4194304)}else{if(!n)if(e=Uo(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),yi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!ye)return Qe(t),null}else 2*Se()-i.renderingStartTime>ei&&r!==1073741824&&(t.flags|=128,n=!0,yi(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Se(),t.sibling=null,r=xe.current,he(xe,n?r&1|2:r&1),t):(Qe(t),null);case 22:case 23:return Fd(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?vt&1073741824&&(Qe(t),t.subtreeFlags&6&&(t.flags|=8192)):Qe(t),null;case 24:return null;case 25:return null}throw Error(T(156,t.tag))}function Lx(e,t){switch(vd(t),t.tag){case 1:return gt(t.type)&&Ao(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xs(),pe(pt),pe(Ge),Ed(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Nd(t),null;case 13:if(pe(xe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(T(340));Gs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return pe(xe),null;case 4:return Xs(),null;case 10:return bd(t.type._context),null;case 22:case 23:return Fd(),null;case 24:return null;default:return null}}var Ja=!1,Ye=!1,Mx=typeof WeakSet=="function"?WeakSet:Set,F=null;function Cs(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){je(e,t,n)}else r.current=null}function dc(e,t,r){try{r()}catch(n){je(e,t,n)}}var wf=!1;function $x(e,t){if(Ku=Po,e=Vp(),gd(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,l=-1,u=-1,c=0,d=0,h=e,f=null;t:for(;;){for(var y;h!==r||s!==0&&h.nodeType!==3||(l=a+s),h!==i||n!==0&&h.nodeType!==3||(u=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(y=h.firstChild)!==null;)f=h,h=y;for(;;){if(h===e)break t;if(f===r&&++c===s&&(l=a),f===i&&++d===n&&(u=a),(y=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=y}r=l===-1||u===-1?null:{start:l,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(Yu={focusedElem:e,selectionRange:r},Po=!1,F=t;F!==null;)if(t=F,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,F=e;else for(;F!==null;){t=F;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var x=g.memoizedProps,j=g.memoizedState,v=t.stateNode,m=v.getSnapshotBeforeUpdate(t.elementType===t.type?x:It(t.type,x),j);v.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(b){je(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,F=e;break}F=t.return}return g=wf,wf=!1,g}function Mi(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&dc(t,r,i)}s=s.next}while(s!==n)}}function vl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function hc(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Ug(e){var t=e.alternate;t!==null&&(e.alternate=null,Ug(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[nr],delete t[ta],delete t[Xu],delete t[xx],delete t[wx])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Bg(e){return e.tag===5||e.tag===3||e.tag===4}function _f(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Bg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function fc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ro));else if(n!==4&&(e=e.child,e!==null))for(fc(e,t,r),e=e.sibling;e!==null;)fc(e,t,r),e=e.sibling}function mc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(mc(e,t,r),e=e.sibling;e!==null;)mc(e,t,r),e=e.sibling}var ze=null,zt=!1;function Ar(e,t,r){for(r=r.child;r!==null;)zg(e,t,r),r=r.sibling}function zg(e,t,r){if(ir&&typeof ir.onCommitFiberUnmount=="function")try{ir.onCommitFiberUnmount(cl,r)}catch{}switch(r.tag){case 5:Ye||Cs(r,t);case 6:var n=ze,s=zt;ze=null,Ar(e,t,r),ze=n,zt=s,ze!==null&&(zt?(e=ze,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ze.removeChild(r.stateNode));break;case 18:ze!==null&&(zt?(e=ze,r=r.stateNode,e.nodeType===8?su(e.parentNode,r):e.nodeType===1&&su(e,r),Gi(e)):su(ze,r.stateNode));break;case 4:n=ze,s=zt,ze=r.stateNode.containerInfo,zt=!0,Ar(e,t,r),ze=n,zt=s;break;case 0:case 11:case 14:case 15:if(!Ye&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&dc(r,t,a),s=s.next}while(s!==n)}Ar(e,t,r);break;case 1:if(!Ye&&(Cs(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){je(r,t,l)}Ar(e,t,r);break;case 21:Ar(e,t,r);break;case 22:r.mode&1?(Ye=(n=Ye)||r.memoizedState!==null,Ar(e,t,r),Ye=n):Ar(e,t,r);break;default:Ar(e,t,r)}}function bf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Mx),t.forEach(function(n){var s=Hx.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function $t(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:ze=l.stateNode,zt=!1;break e;case 3:ze=l.stateNode.containerInfo,zt=!0;break e;case 4:ze=l.stateNode.containerInfo,zt=!0;break e}l=l.return}if(ze===null)throw Error(T(160));zg(i,a,s),ze=null,zt=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){je(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)qg(t,e),t=t.sibling}function qg(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if($t(t,e),Jt(e),n&4){try{Mi(3,e,e.return),vl(3,e)}catch(x){je(e,e.return,x)}try{Mi(5,e,e.return)}catch(x){je(e,e.return,x)}}break;case 1:$t(t,e),Jt(e),n&512&&r!==null&&Cs(r,r.return);break;case 5:if($t(t,e),Jt(e),n&512&&r!==null&&Cs(r,r.return),e.flags&32){var s=e.stateNode;try{Hi(s,"")}catch(x){je(e,e.return,x)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,l=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&dp(s,i),Fu(l,a);var c=Fu(l,i);for(a=0;a<u.length;a+=2){var d=u[a],h=u[a+1];d==="style"?gp(s,h):d==="dangerouslySetInnerHTML"?mp(s,h):d==="children"?Hi(s,h):nd(s,d,h,c)}switch(l){case"input":Au(s,i);break;case"textarea":hp(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Ts(s,!!i.multiple,y,!1):f!==!!i.multiple&&(i.defaultValue!=null?Ts(s,!!i.multiple,i.defaultValue,!0):Ts(s,!!i.multiple,i.multiple?[]:"",!1))}s[ta]=i}catch(x){je(e,e.return,x)}}break;case 6:if($t(t,e),Jt(e),n&4){if(e.stateNode===null)throw Error(T(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(x){je(e,e.return,x)}}break;case 3:if($t(t,e),Jt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Gi(t.containerInfo)}catch(x){je(e,e.return,x)}break;case 4:$t(t,e),Jt(e);break;case 13:$t(t,e),Jt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Md=Se())),n&4&&bf(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Ye=(c=Ye)||d,$t(t,e),Ye=c):$t(t,e),Jt(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(F=e,d=e.child;d!==null;){for(h=F=d;F!==null;){switch(f=F,y=f.child,f.tag){case 0:case 11:case 14:case 15:Mi(4,f,f.return);break;case 1:Cs(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(x){je(n,r,x)}}break;case 5:Cs(f,f.return);break;case 22:if(f.memoizedState!==null){Sf(h);continue}}y!==null?(y.return=f,F=y):Sf(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,u=h.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=pp("display",a))}catch(x){je(e,e.return,x)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(x){je(e,e.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:$t(t,e),Jt(e),n&4&&bf(e);break;case 21:break;default:$t(t,e),Jt(e)}}function Jt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Bg(r)){var n=r;break e}r=r.return}throw Error(T(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Hi(s,""),n.flags&=-33);var i=_f(e);mc(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,l=_f(e);fc(e,l,a);break;default:throw Error(T(161))}}catch(u){je(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Fx(e,t,r){F=e,Vg(e)}function Vg(e,t,r){for(var n=(e.mode&1)!==0;F!==null;){var s=F,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||Ja;if(!a){var l=s.alternate,u=l!==null&&l.memoizedState!==null||Ye;l=Ja;var c=Ye;if(Ja=a,(Ye=u)&&!c)for(F=s;F!==null;)a=F,u=a.child,a.tag===22&&a.memoizedState!==null?kf(s):u!==null?(u.return=a,F=u):kf(s);for(;i!==null;)F=i,Vg(i),i=i.sibling;F=s,Ja=l,Ye=c}jf(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,F=i):jf(e)}}function jf(e){for(;F!==null;){var t=F;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ye||vl(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ye)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:It(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&of(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}of(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Gi(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}Ye||t.flags&512&&hc(t)}catch(f){je(t,t.return,f)}}if(t===e){F=null;break}if(r=t.sibling,r!==null){r.return=t.return,F=r;break}F=t.return}}function Sf(e){for(;F!==null;){var t=F;if(t===e){F=null;break}var r=t.sibling;if(r!==null){r.return=t.return,F=r;break}F=t.return}}function kf(e){for(;F!==null;){var t=F;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{vl(4,t)}catch(u){je(t,r,u)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(u){je(t,s,u)}}var i=t.return;try{hc(t)}catch(u){je(t,i,u)}break;case 5:var a=t.return;try{hc(t)}catch(u){je(t,a,u)}}}catch(u){je(t,t.return,u)}if(t===e){F=null;break}var l=t.sibling;if(l!==null){l.return=t.return,F=l;break}F=t.return}}var Ix=Math.ceil,qo=Tr.ReactCurrentDispatcher,Dd=Tr.ReactCurrentOwner,At=Tr.ReactCurrentBatchConfig,re=0,Be=null,Te=null,qe=0,vt=0,Ps=wn(0),Me=0,oa=null,Jn=0,xl=0,Ld=0,$i=null,ht=null,Md=0,ei=1/0,mr=null,Vo=!1,pc=null,dn=null,Xa=!1,rn=null,Wo=0,Fi=0,gc=null,yo=-1,vo=0;function nt(){return re&6?Se():yo!==-1?yo:yo=Se()}function hn(e){return e.mode&1?re&2&&qe!==0?qe&-qe:bx.transition!==null?(vo===0&&(vo=Cp()),vo):(e=ae,e!==0||(e=window.event,e=e===void 0?16:Lp(e.type)),e):1}function Kt(e,t,r,n){if(50<Fi)throw Fi=0,gc=null,Error(T(185));ja(e,r,n),(!(re&2)||e!==Be)&&(e===Be&&(!(re&2)&&(xl|=r),Me===4&&Br(e,qe)),yt(e,n),r===1&&re===0&&!(t.mode&1)&&(ei=Se()+500,pl&&_n()))}function yt(e,t){var r=e.callbackNode;bv(e,t);var n=Co(e,e===Be?qe:0);if(n===0)r!==null&&Ah(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Ah(r),t===1)e.tag===0?_x(Nf.bind(null,e)):eg(Nf.bind(null,e)),yx(function(){!(re&6)&&_n()}),r=null;else{switch(Pp(n)){case 1:r=ld;break;case 4:r=Np;break;case 16:r=Eo;break;case 536870912:r=Ep;break;default:r=Eo}r=Xg(r,Wg.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Wg(e,t){if(yo=-1,vo=0,re&6)throw Error(T(327));var r=e.callbackNode;if(Ls()&&e.callbackNode!==r)return null;var n=Co(e,e===Be?qe:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ho(e,n);else{t=n;var s=re;re|=2;var i=Qg();(Be!==e||qe!==t)&&(mr=null,ei=Se()+500,Hn(e,t));do try{zx();break}catch(l){Hg(e,l)}while(!0);_d(),qo.current=i,re=s,Te!==null?t=0:(Be=null,qe=0,t=Me)}if(t!==0){if(t===2&&(s=qu(e),s!==0&&(n=s,t=yc(e,s))),t===1)throw r=oa,Hn(e,0),Br(e,n),yt(e,Se()),r;if(t===6)Br(e,n);else{if(s=e.current.alternate,!(n&30)&&!Ux(s)&&(t=Ho(e,n),t===2&&(i=qu(e),i!==0&&(n=i,t=yc(e,i))),t===1))throw r=oa,Hn(e,0),Br(e,n),yt(e,Se()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(T(345));case 2:Cn(e,ht,mr);break;case 3:if(Br(e,n),(n&130023424)===n&&(t=Md+500-Se(),10<t)){if(Co(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){nt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Ju(Cn.bind(null,e,ht,mr),t);break}Cn(e,ht,mr);break;case 4:if(Br(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-Qt(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=Se()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ix(n/1960))-n,10<n){e.timeoutHandle=Ju(Cn.bind(null,e,ht,mr),n);break}Cn(e,ht,mr);break;case 5:Cn(e,ht,mr);break;default:throw Error(T(329))}}}return yt(e,Se()),e.callbackNode===r?Wg.bind(null,e):null}function yc(e,t){var r=$i;return e.current.memoizedState.isDehydrated&&(Hn(e,t).flags|=256),e=Ho(e,t),e!==2&&(t=ht,ht=r,t!==null&&vc(t)),e}function vc(e){ht===null?ht=e:ht.push.apply(ht,e)}function Ux(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Yt(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Br(e,t){for(t&=~Ld,t&=~xl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Qt(t),n=1<<r;e[r]=-1,t&=~n}}function Nf(e){if(re&6)throw Error(T(327));Ls();var t=Co(e,0);if(!(t&1))return yt(e,Se()),null;var r=Ho(e,t);if(e.tag!==0&&r===2){var n=qu(e);n!==0&&(t=n,r=yc(e,n))}if(r===1)throw r=oa,Hn(e,0),Br(e,t),yt(e,Se()),r;if(r===6)throw Error(T(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cn(e,ht,mr),yt(e,Se()),null}function $d(e,t){var r=re;re|=1;try{return e(t)}finally{re=r,re===0&&(ei=Se()+500,pl&&_n())}}function Xn(e){rn!==null&&rn.tag===0&&!(re&6)&&Ls();var t=re;re|=1;var r=At.transition,n=ae;try{if(At.transition=null,ae=1,e)return e()}finally{ae=n,At.transition=r,re=t,!(re&6)&&_n()}}function Fd(){vt=Ps.current,pe(Ps)}function Hn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,gx(r)),Te!==null)for(r=Te.return;r!==null;){var n=r;switch(vd(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ao();break;case 3:Xs(),pe(pt),pe(Ge),Ed();break;case 5:Nd(n);break;case 4:Xs();break;case 13:pe(xe);break;case 19:pe(xe);break;case 10:bd(n.type._context);break;case 22:case 23:Fd()}r=r.return}if(Be=e,Te=e=fn(e.current,null),qe=vt=t,Me=0,oa=null,Ld=xl=Jn=0,ht=$i=null,An!==null){for(t=0;t<An.length;t++)if(r=An[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}An=null}return e}function Hg(e,t){do{var r=Te;try{if(_d(),mo.current=zo,Bo){for(var n=we.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Bo=!1}if(Gn=0,Ue=De=we=null,Li=!1,sa=0,Dd.current=null,r===null||r.return===null){Me=1,oa=t,Te=null;break}e:{var i=e,a=r.return,l=r,u=t;if(t=qe,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=ff(a);if(y!==null){y.flags&=-257,mf(y,a,l,i,t),y.mode&1&&hf(i,c,t),t=y,u=c;var g=t.updateQueue;if(g===null){var x=new Set;x.add(u),t.updateQueue=x}else g.add(u);break e}else{if(!(t&1)){hf(i,c,t),Id();break e}u=Error(T(426))}}else if(ye&&l.mode&1){var j=ff(a);if(j!==null){!(j.flags&65536)&&(j.flags|=256),mf(j,a,l,i,t),xd(Zs(u,l));break e}}i=u=Zs(u,l),Me!==4&&(Me=2),$i===null?$i=[i]:$i.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=Pg(i,u,t);af(i,v);break e;case 1:l=u;var m=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(dn===null||!dn.has(p)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=Tg(i,l,t);af(i,b);break e}}i=i.return}while(i!==null)}Yg(r)}catch(N){t=N,Te===r&&r!==null&&(Te=r=r.return);continue}break}while(!0)}function Qg(){var e=qo.current;return qo.current=zo,e===null?zo:e}function Id(){(Me===0||Me===3||Me===2)&&(Me=4),Be===null||!(Jn&268435455)&&!(xl&268435455)||Br(Be,qe)}function Ho(e,t){var r=re;re|=2;var n=Qg();(Be!==e||qe!==t)&&(mr=null,Hn(e,t));do try{Bx();break}catch(s){Hg(e,s)}while(!0);if(_d(),re=r,qo.current=n,Te!==null)throw Error(T(261));return Be=null,qe=0,Me}function Bx(){for(;Te!==null;)Kg(Te)}function zx(){for(;Te!==null&&!fv();)Kg(Te)}function Kg(e){var t=Jg(e.alternate,e,vt);e.memoizedProps=e.pendingProps,t===null?Yg(e):Te=t,Dd.current=null}function Yg(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Lx(r,t),r!==null){r.flags&=32767,Te=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Me=6,Te=null;return}}else if(r=Dx(r,t,vt),r!==null){Te=r;return}if(t=t.sibling,t!==null){Te=t;return}Te=t=e}while(t!==null);Me===0&&(Me=5)}function Cn(e,t,r){var n=ae,s=At.transition;try{At.transition=null,ae=1,qx(e,t,r,n)}finally{At.transition=s,ae=n}return null}function qx(e,t,r,n){do Ls();while(rn!==null);if(re&6)throw Error(T(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(T(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(jv(e,i),e===Be&&(Te=Be=null,qe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Xa||(Xa=!0,Xg(Eo,function(){return Ls(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=At.transition,At.transition=null;var a=ae;ae=1;var l=re;re|=4,Dd.current=null,$x(e,r),qg(r,e),ux(Yu),Po=!!Ku,Yu=Ku=null,e.current=r,Fx(r),mv(),re=l,ae=a,At.transition=i}else e.current=r;if(Xa&&(Xa=!1,rn=e,Wo=s),i=e.pendingLanes,i===0&&(dn=null),yv(r.stateNode),yt(e,Se()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Vo)throw Vo=!1,e=pc,pc=null,e;return Wo&1&&e.tag!==0&&Ls(),i=e.pendingLanes,i&1?e===gc?Fi++:(Fi=0,gc=e):Fi=0,_n(),null}function Ls(){if(rn!==null){var e=Pp(Wo),t=At.transition,r=ae;try{if(At.transition=null,ae=16>e?16:e,rn===null)var n=!1;else{if(e=rn,rn=null,Wo=0,re&6)throw Error(T(331));var s=re;for(re|=4,F=e.current;F!==null;){var i=F,a=i.child;if(F.flags&16){var l=i.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(F=c;F!==null;){var d=F;switch(d.tag){case 0:case 11:case 15:Mi(8,d,i)}var h=d.child;if(h!==null)h.return=d,F=h;else for(;F!==null;){d=F;var f=d.sibling,y=d.return;if(Ug(d),d===c){F=null;break}if(f!==null){f.return=y,F=f;break}F=y}}}var g=i.alternate;if(g!==null){var x=g.child;if(x!==null){g.child=null;do{var j=x.sibling;x.sibling=null,x=j}while(x!==null)}}F=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,F=a;else e:for(;F!==null;){if(i=F,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Mi(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,F=v;break e}F=i.return}}var m=e.current;for(F=m;F!==null;){a=F;var p=a.child;if(a.subtreeFlags&2064&&p!==null)p.return=a,F=p;else e:for(a=m;F!==null;){if(l=F,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:vl(9,l)}}catch(N){je(l,l.return,N)}if(l===a){F=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,F=b;break e}F=l.return}}if(re=s,_n(),ir&&typeof ir.onPostCommitFiberRoot=="function")try{ir.onPostCommitFiberRoot(cl,e)}catch{}n=!0}return n}finally{ae=r,At.transition=t}}return!1}function Ef(e,t,r){t=Zs(r,t),t=Pg(e,t,1),e=cn(e,t,1),t=nt(),e!==null&&(ja(e,1,t),yt(e,t))}function je(e,t,r){if(e.tag===3)Ef(e,e,r);else for(;t!==null;){if(t.tag===3){Ef(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(dn===null||!dn.has(n))){e=Zs(r,e),e=Tg(t,e,1),t=cn(t,e,1),e=nt(),t!==null&&(ja(t,1,e),yt(t,e));break}}t=t.return}}function Vx(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=nt(),e.pingedLanes|=e.suspendedLanes&r,Be===e&&(qe&r)===r&&(Me===4||Me===3&&(qe&130023424)===qe&&500>Se()-Md?Hn(e,0):Ld|=r),yt(e,t)}function Gg(e,t){t===0&&(e.mode&1?(t=za,za<<=1,!(za&130023424)&&(za=4194304)):t=1);var r=nt();e=Nr(e,t),e!==null&&(ja(e,t,r),yt(e,r))}function Wx(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Gg(e,r)}function Hx(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(T(314))}n!==null&&n.delete(t),Gg(e,r)}var Jg;Jg=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||pt.current)mt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return mt=!1,Ax(e,t,r);mt=!!(e.flags&131072)}else mt=!1,ye&&t.flags&1048576&&tg(t,Mo,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;go(e,t),e=t.pendingProps;var s=Ys(t,Ge.current);Ds(t,r),s=Pd(null,t,n,e,s,r);var i=Td();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,gt(n)?(i=!0,Do(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Sd(t),s.updater=yl,t.stateNode=s,s._reactInternals=t,sc(t,n,e,r),t=oc(null,t,n,!0,i,r)):(t.tag=0,ye&&i&&yd(t),et(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(go(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Kx(n),e=It(n,e),s){case 0:t=ac(null,t,n,e,r);break e;case 1:t=yf(null,t,n,e,r);break e;case 11:t=pf(null,t,n,e,r);break e;case 14:t=gf(null,t,n,It(n.type,e),r);break e}throw Error(T(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:It(n,s),ac(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:It(n,s),yf(e,t,n,s,r);case 3:e:{if(Dg(t),e===null)throw Error(T(387));n=t.pendingProps,i=t.memoizedState,s=i.element,og(e,t),Io(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Zs(Error(T(423)),t),t=vf(e,t,n,r,s);break e}else if(n!==s){s=Zs(Error(T(424)),t),t=vf(e,t,n,r,s);break e}else for(xt=un(t.stateNode.containerInfo.firstChild),wt=t,ye=!0,Vt=null,r=ig(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Gs(),n===s){t=Er(e,t,r);break e}et(e,t,n,r)}t=t.child}return t;case 5:return lg(t),e===null&&tc(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,Gu(n,s)?a=null:i!==null&&Gu(n,i)&&(t.flags|=32),Ag(e,t),et(e,t,a,r),t.child;case 6:return e===null&&tc(t),null;case 13:return Lg(e,t,r);case 4:return kd(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Js(t,null,n,r):et(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:It(n,s),pf(e,t,n,s,r);case 7:return et(e,t,t.pendingProps,r),t.child;case 8:return et(e,t,t.pendingProps.children,r),t.child;case 12:return et(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,he($o,n._currentValue),n._currentValue=a,i!==null)if(Yt(i.value,a)){if(i.children===s.children&&!pt.current){t=Er(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var u=l.firstContext;u!==null;){if(u.context===n){if(i.tag===1){u=br(-1,r&-r),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=r,u=i.alternate,u!==null&&(u.lanes|=r),rc(i.return,r,t),l.lanes|=r;break}u=u.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(T(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),rc(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}et(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Ds(t,r),s=Lt(s),n=n(s),t.flags|=1,et(e,t,n,r),t.child;case 14:return n=t.type,s=It(n,t.pendingProps),s=It(n.type,s),gf(e,t,n,s,r);case 15:return Og(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:It(n,s),go(e,t),t.tag=1,gt(n)?(e=!0,Do(t)):e=!1,Ds(t,r),Cg(t,n,s),sc(t,n,s,r),oc(null,t,n,!0,e,r);case 19:return Mg(e,t,r);case 22:return Rg(e,t,r)}throw Error(T(156,t.tag))};function Xg(e,t){return kp(e,t)}function Qx(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rt(e,t,r,n){return new Qx(e,t,r,n)}function Ud(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Kx(e){if(typeof e=="function")return Ud(e)?1:0;if(e!=null){if(e=e.$$typeof,e===id)return 11;if(e===ad)return 14}return 2}function fn(e,t){var r=e.alternate;return r===null?(r=Rt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function xo(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")Ud(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case xs:return Qn(r.children,s,i,t);case sd:a=8,s|=8;break;case Cu:return e=Rt(12,r,t,s|2),e.elementType=Cu,e.lanes=i,e;case Pu:return e=Rt(13,r,t,s),e.elementType=Pu,e.lanes=i,e;case Tu:return e=Rt(19,r,t,s),e.elementType=Tu,e.lanes=i,e;case lp:return wl(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ap:a=10;break e;case op:a=9;break e;case id:a=11;break e;case ad:a=14;break e;case Fr:a=16,n=null;break e}throw Error(T(130,e==null?e:typeof e,""))}return t=Rt(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Qn(e,t,r,n){return e=Rt(7,e,n,t),e.lanes=r,e}function wl(e,t,r,n){return e=Rt(22,e,n,t),e.elementType=lp,e.lanes=r,e.stateNode={isHidden:!1},e}function hu(e,t,r){return e=Rt(6,e,null,t),e.lanes=r,e}function fu(e,t,r){return t=Rt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Yx(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ql(0),this.expirationTimes=Ql(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ql(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Bd(e,t,r,n,s,i,a,l,u){return e=new Yx(e,t,r,l,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Rt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sd(i),e}function Gx(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vs,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Zg(e){if(!e)return yn;e=e._reactInternals;e:{if(rs(e)!==e||e.tag!==1)throw Error(T(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(gt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(T(171))}if(e.tag===1){var r=e.type;if(gt(r))return Zp(e,r,t)}return t}function ey(e,t,r,n,s,i,a,l,u){return e=Bd(r,n,!0,e,s,i,a,l,u),e.context=Zg(null),r=e.current,n=nt(),s=hn(r),i=br(n,s),i.callback=t??null,cn(r,i,s),e.current.lanes=s,ja(e,s,n),yt(e,n),e}function _l(e,t,r,n){var s=t.current,i=nt(),a=hn(s);return r=Zg(r),t.context===null?t.context=r:t.pendingContext=r,t=br(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=cn(s,t,a),e!==null&&(Kt(e,s,a,i),fo(e,s,a)),a}function Qo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Cf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function zd(e,t){Cf(e,t),(e=e.alternate)&&Cf(e,t)}function Jx(){return null}var ty=typeof reportError=="function"?reportError:function(e){console.error(e)};function qd(e){this._internalRoot=e}bl.prototype.render=qd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(T(409));_l(e,t,null,null)};bl.prototype.unmount=qd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xn(function(){_l(null,e,null,null)}),t[kr]=null}};function bl(e){this._internalRoot=e}bl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Rp();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ur.length&&t!==0&&t<Ur[r].priority;r++);Ur.splice(r,0,e),r===0&&Dp(e)}};function Vd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function jl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Pf(){}function Xx(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=Qo(a);i.call(c)}}var a=ey(t,n,e,0,null,!1,!1,"",Pf);return e._reactRootContainer=a,e[kr]=a.current,Zi(e.nodeType===8?e.parentNode:e),Xn(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var c=Qo(u);l.call(c)}}var u=Bd(e,0,!1,null,null,!1,!1,"",Pf);return e._reactRootContainer=u,e[kr]=u.current,Zi(e.nodeType===8?e.parentNode:e),Xn(function(){_l(t,u,r,n)}),u}function Sl(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var u=Qo(a);l.call(u)}}_l(t,a,e,s)}else a=Xx(r,t,e,s,n);return Qo(a)}Tp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ni(t.pendingLanes);r!==0&&(ud(t,r|1),yt(t,Se()),!(re&6)&&(ei=Se()+500,_n()))}break;case 13:Xn(function(){var n=Nr(e,1);if(n!==null){var s=nt();Kt(n,e,1,s)}}),zd(e,1)}};cd=function(e){if(e.tag===13){var t=Nr(e,134217728);if(t!==null){var r=nt();Kt(t,e,134217728,r)}zd(e,134217728)}};Op=function(e){if(e.tag===13){var t=hn(e),r=Nr(e,t);if(r!==null){var n=nt();Kt(r,e,t,n)}zd(e,t)}};Rp=function(){return ae};Ap=function(e,t){var r=ae;try{return ae=e,t()}finally{ae=r}};Uu=function(e,t,r){switch(t){case"input":if(Au(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=ml(n);if(!s)throw Error(T(90));cp(n),Au(n,s)}}}break;case"textarea":hp(e,r);break;case"select":t=r.value,t!=null&&Ts(e,!!r.multiple,t,!1)}};xp=$d;wp=Xn;var Zx={usingClientEntryPoint:!1,Events:[ka,js,ml,yp,vp,$d]},vi={findFiberByHostInstance:Rn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ew={bundleType:vi.bundleType,version:vi.version,rendererPackageName:vi.rendererPackageName,rendererConfig:vi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=jp(e),e===null?null:e.stateNode},findFiberByHostInstance:vi.findFiberByHostInstance||Jx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Za=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Za.isDisabled&&Za.supportsFiber)try{cl=Za.inject(ew),ir=Za}catch{}}bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zx;bt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vd(t))throw Error(T(200));return Gx(e,t,null,r)};bt.createRoot=function(e,t){if(!Vd(e))throw Error(T(299));var r=!1,n="",s=ty;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Bd(e,1,!1,null,null,r,!1,n,s),e[kr]=t.current,Zi(e.nodeType===8?e.parentNode:e),new qd(t)};bt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(T(188)):(e=Object.keys(e).join(","),Error(T(268,e)));return e=jp(t),e=e===null?null:e.stateNode,e};bt.flushSync=function(e){return Xn(e)};bt.hydrate=function(e,t,r){if(!jl(t))throw Error(T(200));return Sl(null,e,t,!0,r)};bt.hydrateRoot=function(e,t,r){if(!Vd(e))throw Error(T(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=ty;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=ey(t,null,e,1,r??null,s,!1,i,a),e[kr]=t.current,Zi(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new bl(t)};bt.render=function(e,t,r){if(!jl(t))throw Error(T(200));return Sl(null,e,t,!1,r)};bt.unmountComponentAtNode=function(e){if(!jl(e))throw Error(T(40));return e._reactRootContainer?(Xn(function(){Sl(null,null,e,!1,function(){e._reactRootContainer=null,e[kr]=null})}),!0):!1};bt.unstable_batchedUpdates=$d;bt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!jl(r))throw Error(T(200));if(e==null||e._reactInternals===void 0)throw Error(T(38));return Sl(e,t,r,!1,n)};bt.version="18.3.1-next-f1338f8080-20240426";function ry(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ry)}catch(e){console.error(e)}}ry(),rp.exports=bt;var tw=rp.exports,ny,Tf=tw;ny=Tf.createRoot,Tf.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function la(){return la=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},la.apply(this,arguments)}var nn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(nn||(nn={}));const Of="popstate";function rw(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:a,hash:l}=n.location;return xc("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Ko(s)}return sw(t,r,null,e)}function ke(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function sy(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function nw(){return Math.random().toString(36).substr(2,8)}function Rf(e,t){return{usr:e.state,key:e.key,idx:t}}function xc(e,t,r,n){return r===void 0&&(r=null),la({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ai(t):t,{state:r,key:t&&t.key||n||nw()})}function Ko(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ai(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function sw(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,l=nn.Pop,u=null,c=d();c==null&&(c=0,a.replaceState(la({},a.state,{idx:c}),""));function d(){return(a.state||{idx:null}).idx}function h(){l=nn.Pop;let j=d(),v=j==null?null:j-c;c=j,u&&u({action:l,location:x.location,delta:v})}function f(j,v){l=nn.Push;let m=xc(x.location,j,v);c=d()+1;let p=Rf(m,c),b=x.createHref(m);try{a.pushState(p,"",b)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(b)}i&&u&&u({action:l,location:x.location,delta:1})}function y(j,v){l=nn.Replace;let m=xc(x.location,j,v);c=d();let p=Rf(m,c),b=x.createHref(m);a.replaceState(p,"",b),i&&u&&u({action:l,location:x.location,delta:0})}function g(j){let v=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof j=="string"?j:Ko(j);return m=m.replace(/ $/,"%20"),ke(v,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,v)}let x={get action(){return l},get location(){return e(s,a)},listen(j){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(Of,h),u=j,()=>{s.removeEventListener(Of,h),u=null}},createHref(j){return t(s,j)},createURL:g,encodeLocation(j){let v=g(j);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:y,go(j){return a.go(j)}};return x}var Af;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Af||(Af={}));function iw(e,t,r){return r===void 0&&(r="/"),aw(e,t,r)}function aw(e,t,r,n){let s=typeof t=="string"?ai(t):t,i=Wd(s.pathname||"/",r);if(i==null)return null;let a=iy(e);ow(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let c=xw(i);l=gw(a[u],c)}return l}function iy(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,a,l)=>{let u={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};u.relativePath.startsWith("/")&&(ke(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let c=mn([n,u.relativePath]),d=r.concat(u);i.children&&i.children.length>0&&(ke(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),iy(i.children,t,d,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:mw(c,i.index),routesMeta:d})};return e.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let u of ay(i.path))s(i,a,u)}),t}function ay(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=ay(n.join("/")),l=[];return l.push(...a.map(u=>u===""?i:[i,u].join("/"))),s&&l.push(...a),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function ow(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:pw(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const lw=/^:[\w-]+$/,uw=3,cw=2,dw=1,hw=10,fw=-2,Df=e=>e==="*";function mw(e,t){let r=e.split("/"),n=r.length;return r.some(Df)&&(n+=fw),t&&(n+=cw),r.filter(s=>!Df(s)).reduce((s,i)=>s+(lw.test(i)?uw:i===""?dw:hw),n)}function pw(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function gw(e,t,r){let{routesMeta:n}=e,s={},i="/",a=[];for(let l=0;l<n.length;++l){let u=n[l],c=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=yw({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),f=u.route;if(!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:mn([i,h.pathname]),pathnameBase:jw(mn([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=mn([i,h.pathnameBase]))}return a}function yw(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=vw(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((c,d,h)=>{let{paramName:f,isOptional:y}=d;if(f==="*"){let x=l[h]||"";a=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const g=l[h];return y&&!g?c[f]=void 0:c[f]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:a,pattern:e}}function vw(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),sy(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,u)=>(n.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function xw(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return sy(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Wd(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function ww(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?ai(e):e;return{pathname:r?r.startsWith("/")?r:_w(r,t):t,search:Sw(n),hash:kw(s)}}function _w(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function mu(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function bw(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Hd(e,t){let r=bw(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Qd(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=ai(e):(s=la({},e),ke(!s.pathname||!s.pathname.includes("?"),mu("?","pathname","search",s)),ke(!s.pathname||!s.pathname.includes("#"),mu("#","pathname","hash",s)),ke(!s.search||!s.search.includes("#"),mu("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=r;else{let h=t.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?t[h]:"/"}let u=ww(s,l),c=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const mn=e=>e.join("/").replace(/\/\/+/g,"/"),jw=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Sw=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,kw=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Nw(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const oy=["post","put","patch","delete"];new Set(oy);const Ew=["get",...oy];new Set(Ew);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ua(){return ua=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ua.apply(this,arguments)}const Kd=S.createContext(null),Cw=S.createContext(null),bn=S.createContext(null),kl=S.createContext(null),or=S.createContext({outlet:null,matches:[],isDataRoute:!1}),ly=S.createContext(null);function Pw(e,t){let{relative:r}=t===void 0?{}:t;oi()||ke(!1);let{basename:n,navigator:s}=S.useContext(bn),{hash:i,pathname:a,search:l}=cy(e,{relative:r}),u=a;return n!=="/"&&(u=a==="/"?n:mn([n,a])),s.createHref({pathname:u,search:l,hash:i})}function oi(){return S.useContext(kl)!=null}function Ea(){return oi()||ke(!1),S.useContext(kl).location}function uy(e){S.useContext(bn).static||S.useLayoutEffect(e)}function Je(){let{isDataRoute:e}=S.useContext(or);return e?Vw():Tw()}function Tw(){oi()||ke(!1);let e=S.useContext(Kd),{basename:t,future:r,navigator:n}=S.useContext(bn),{matches:s}=S.useContext(or),{pathname:i}=Ea(),a=JSON.stringify(Hd(s,r.v7_relativeSplatPath)),l=S.useRef(!1);return uy(()=>{l.current=!0}),S.useCallback(function(c,d){if(d===void 0&&(d={}),!l.current)return;if(typeof c=="number"){n.go(c);return}let h=Qd(c,JSON.parse(a),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:mn([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,a,i,e])}const Ow=S.createContext(null);function Rw(e){let t=S.useContext(or).outlet;return t&&S.createElement(Ow.Provider,{value:e},t)}function ns(){let{matches:e}=S.useContext(or),t=e[e.length-1];return t?t.params:{}}function cy(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=S.useContext(bn),{matches:s}=S.useContext(or),{pathname:i}=Ea(),a=JSON.stringify(Hd(s,n.v7_relativeSplatPath));return S.useMemo(()=>Qd(e,JSON.parse(a),i,r==="path"),[e,a,i,r])}function Aw(e,t){return Dw(e,t)}function Dw(e,t,r,n){oi()||ke(!1);let{navigator:s}=S.useContext(bn),{matches:i}=S.useContext(or),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let c=Ea(),d;if(t){var h;let j=typeof t=="string"?ai(t):t;u==="/"||(h=j.pathname)!=null&&h.startsWith(u)||ke(!1),d=j}else d=c;let f=d.pathname||"/",y=f;if(u!=="/"){let j=u.replace(/^\//,"").split("/");y="/"+f.replace(/^\//,"").split("/").slice(j.length).join("/")}let g=iw(e,{pathname:y}),x=Iw(g&&g.map(j=>Object.assign({},j,{params:Object.assign({},l,j.params),pathname:mn([u,s.encodeLocation?s.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?u:mn([u,s.encodeLocation?s.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),i,r,n);return t&&x?S.createElement(kl.Provider,{value:{location:ua({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:nn.Pop}},x):x}function Lw(){let e=qw(),t=Nw(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),r?S.createElement("pre",{style:s},r):null,null)}const Mw=S.createElement(Lw,null);class $w extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?S.createElement(or.Provider,{value:this.props.routeContext},S.createElement(ly.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Fw(e){let{routeContext:t,match:r,children:n}=e,s=S.useContext(Kd);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),S.createElement(or.Provider,{value:t},n)}function Iw(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=a.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||ke(!1),a=a.slice(0,Math.min(a.length,d+1))}let u=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:y}=r,g=h.route.loader&&f[h.route.id]===void 0&&(!y||y[h.route.id]===void 0);if(h.route.lazy||g){u=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,h,f)=>{let y,g=!1,x=null,j=null;r&&(y=l&&h.route.id?l[h.route.id]:void 0,x=h.route.errorElement||Mw,u&&(c<0&&f===0?(Ww("route-fallback"),g=!0,j=null):c===f&&(g=!0,j=h.route.hydrateFallbackElement||null)));let v=t.concat(a.slice(0,f+1)),m=()=>{let p;return y?p=x:g?p=j:h.route.Component?p=S.createElement(h.route.Component,null):h.route.element?p=h.route.element:p=d,S.createElement(Fw,{match:h,routeContext:{outlet:d,matches:v,isDataRoute:r!=null},children:p})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?S.createElement($w,{location:r.location,revalidation:r.revalidation,component:x,error:y,children:m(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):m()},null)}var dy=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(dy||{}),hy=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(hy||{});function Uw(e){let t=S.useContext(Kd);return t||ke(!1),t}function Bw(e){let t=S.useContext(Cw);return t||ke(!1),t}function zw(e){let t=S.useContext(or);return t||ke(!1),t}function fy(e){let t=zw(),r=t.matches[t.matches.length-1];return r.route.id||ke(!1),r.route.id}function qw(){var e;let t=S.useContext(ly),r=Bw(),n=fy();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Vw(){let{router:e}=Uw(dy.UseNavigateStable),t=fy(hy.UseNavigateStable),r=S.useRef(!1);return uy(()=>{r.current=!0}),S.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ua({fromRouteId:t},i)))},[e,t])}const Lf={};function Ww(e,t,r){Lf[e]||(Lf[e]=!0)}function Hw(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function my(e){let{to:t,replace:r,state:n,relative:s}=e;oi()||ke(!1);let{future:i,static:a}=S.useContext(bn),{matches:l}=S.useContext(or),{pathname:u}=Ea(),c=Je(),d=Qd(t,Hd(l,i.v7_relativeSplatPath),u,s==="path"),h=JSON.stringify(d);return S.useEffect(()=>c(JSON.parse(h),{replace:r,state:n,relative:s}),[c,h,s,r,n]),null}function Qw(e){return Rw(e.context)}function $e(e){ke(!1)}function Kw(e){let{basename:t="/",children:r=null,location:n,navigationType:s=nn.Pop,navigator:i,static:a=!1,future:l}=e;oi()&&ke(!1);let u=t.replace(/^\/*/,"/"),c=S.useMemo(()=>({basename:u,navigator:i,static:a,future:ua({v7_relativeSplatPath:!1},l)}),[u,l,i,a]);typeof n=="string"&&(n=ai(n));let{pathname:d="/",search:h="",hash:f="",state:y=null,key:g="default"}=n,x=S.useMemo(()=>{let j=Wd(d,u);return j==null?null:{location:{pathname:j,search:h,hash:f,state:y,key:g},navigationType:s}},[u,d,h,f,y,g,s]);return x==null?null:S.createElement(bn.Provider,{value:c},S.createElement(kl.Provider,{children:r,value:x}))}function Yw(e){let{children:t,location:r}=e;return Aw(wc(t),r)}new Promise(()=>{});function wc(e,t){t===void 0&&(t=[]);let r=[];return S.Children.forEach(e,(n,s)=>{if(!S.isValidElement(n))return;let i=[...t,s];if(n.type===S.Fragment){r.push.apply(r,wc(n.props.children,i));return}n.type!==$e&&ke(!1),!n.props.index||!n.props.children||ke(!1);let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=wc(n.props.children,i)),r.push(a)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _c(){return _c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_c.apply(this,arguments)}function Gw(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function Jw(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Xw(e,t){return e.button===0&&(!t||t==="_self")&&!Jw(e)}const Zw=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],e_="6";try{window.__reactRouterVersion=e_}catch{}const t_="startTransition",Mf=V0[t_];function r_(e){let{basename:t,children:r,future:n,window:s}=e,i=S.useRef();i.current==null&&(i.current=rw({window:s,v5Compat:!0}));let a=i.current,[l,u]=S.useState({action:a.action,location:a.location}),{v7_startTransition:c}=n||{},d=S.useCallback(h=>{c&&Mf?Mf(()=>u(h)):u(h)},[u,c]);return S.useLayoutEffect(()=>a.listen(d),[a,d]),S.useEffect(()=>Hw(n),[n]),S.createElement(Kw,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:a,future:n})}const n_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",s_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ca=S.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:a,state:l,target:u,to:c,preventScrollReset:d,viewTransition:h}=t,f=Gw(t,Zw),{basename:y}=S.useContext(bn),g,x=!1;if(typeof c=="string"&&s_.test(c)&&(g=c,n_))try{let p=new URL(window.location.href),b=c.startsWith("//")?new URL(p.protocol+c):new URL(c),N=Wd(b.pathname,y);b.origin===p.origin&&N!=null?c=N+b.search+b.hash:x=!0}catch{}let j=Pw(c,{relative:s}),v=i_(c,{replace:a,state:l,target:u,preventScrollReset:d,relative:s,viewTransition:h});function m(p){n&&n(p),p.defaultPrevented||v(p)}return S.createElement("a",_c({},f,{href:g||j,onClick:x||i?n:m,ref:r,target:u}))});var $f;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})($f||($f={}));var Ff;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ff||(Ff={}));function i_(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:a,viewTransition:l}=t===void 0?{}:t,u=Je(),c=Ea(),d=cy(e,{relative:a});return S.useCallback(h=>{if(Xw(h,r)){h.preventDefault();let f=n!==void 0?n:Ko(c)===Ko(d);u(e,{replace:f,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[c,u,d,n,s,r,e,i,a,l])}var li=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Zn=typeof window>"u"||"Deno"in globalThis;function tt(){}function a_(e,t){return typeof e=="function"?e(t):e}function bc(e){return typeof e=="number"&&e>=0&&e!==1/0}function py(e,t){return Math.max(e+(t||0)-Date.now(),0)}function pn(e,t){return typeof e=="function"?e(t):e}function Pt(e,t){return typeof e=="function"?e(t):e}function If(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:a,stale:l}=e;if(a){if(n){if(t.queryHash!==Yd(a,t.options))return!1}else if(!da(t.queryKey,a))return!1}if(r!=="all"){const u=t.isActive();if(r==="active"&&!u||r==="inactive"&&u)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function Uf(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(es(t.options.mutationKey)!==es(i))return!1}else if(!da(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function Yd(e,t){return((t==null?void 0:t.queryKeyHashFn)||es)(e)}function es(e){return JSON.stringify(e,(t,r)=>jc(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function da(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>da(e[r],t[r])):!1}function gy(e,t){if(e===t)return e;const r=Bf(e)&&Bf(t);if(r||jc(e)&&jc(t)){const n=r?e:Object.keys(e),s=n.length,i=r?t:Object.keys(t),a=i.length,l=r?[]:{},u=new Set(n);let c=0;for(let d=0;d<a;d++){const h=r?d:i[d];(!r&&u.has(h)||r)&&e[h]===void 0&&t[h]===void 0?(l[h]=void 0,c++):(l[h]=gy(e[h],t[h]),l[h]===e[h]&&e[h]!==void 0&&c++)}return s===a&&c===s?e:l}return t}function Yo(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Bf(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function jc(e){if(!zf(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!zf(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function zf(e){return Object.prototype.toString.call(e)==="[object Object]"}function o_(e){return new Promise(t=>{setTimeout(t,e)})}function Sc(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?gy(e,t):t}function l_(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function u_(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Gd=Symbol();function yy(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Gd?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function vy(e,t){return typeof e=="function"?e(...t):!!e}var $n,Wr,Ms,Lm,c_=(Lm=class extends li{constructor(){super();V(this,$n);V(this,Wr);V(this,Ms);M(this,Ms,t=>{if(!Zn&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){w(this,Wr)||this.setEventListener(w(this,Ms))}onUnsubscribe(){var t;this.hasListeners()||((t=w(this,Wr))==null||t.call(this),M(this,Wr,void 0))}setEventListener(t){var r;M(this,Ms,t),(r=w(this,Wr))==null||r.call(this),M(this,Wr,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){w(this,$n)!==t&&(M(this,$n,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof w(this,$n)=="boolean"?w(this,$n):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},$n=new WeakMap,Wr=new WeakMap,Ms=new WeakMap,Lm),Jd=new c_,$s,Hr,Fs,Mm,d_=(Mm=class extends li{constructor(){super();V(this,$s,!0);V(this,Hr);V(this,Fs);M(this,Fs,t=>{if(!Zn&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){w(this,Hr)||this.setEventListener(w(this,Fs))}onUnsubscribe(){var t;this.hasListeners()||((t=w(this,Hr))==null||t.call(this),M(this,Hr,void 0))}setEventListener(t){var r;M(this,Fs,t),(r=w(this,Hr))==null||r.call(this),M(this,Hr,t(this.setOnline.bind(this)))}setOnline(t){w(this,$s)!==t&&(M(this,$s,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return w(this,$s)}},$s=new WeakMap,Hr=new WeakMap,Fs=new WeakMap,Mm),Go=new d_;function kc(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function h_(e){return Math.min(1e3*2**e,3e4)}function xy(e){return(e??"online")==="online"?Go.isOnline():!0}var wy=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function pu(e){return e instanceof wy}function _y(e){let t=!1,r=0,n=!1,s;const i=kc(),a=x=>{var j;n||(f(new wy(x)),(j=e.abort)==null||j.call(e))},l=()=>{t=!0},u=()=>{t=!1},c=()=>Jd.isFocused()&&(e.networkMode==="always"||Go.isOnline())&&e.canRun(),d=()=>xy(e.networkMode)&&e.canRun(),h=x=>{var j;n||(n=!0,(j=e.onSuccess)==null||j.call(e,x),s==null||s(),i.resolve(x))},f=x=>{var j;n||(n=!0,(j=e.onError)==null||j.call(e,x),s==null||s(),i.reject(x))},y=()=>new Promise(x=>{var j;s=v=>{(n||c())&&x(v)},(j=e.onPause)==null||j.call(e)}).then(()=>{var x;s=void 0,n||(x=e.onContinue)==null||x.call(e)}),g=()=>{if(n)return;let x;const j=r===0?e.initialPromise:void 0;try{x=j??e.fn()}catch(v){x=Promise.reject(v)}Promise.resolve(x).then(h).catch(v=>{var C;if(n)return;const m=e.retry??(Zn?0:3),p=e.retryDelay??h_,b=typeof p=="function"?p(r,v):p,N=m===!0||typeof m=="number"&&r<m||typeof m=="function"&&m(r,v);if(t||!N){f(v);return}r++,(C=e.onFail)==null||C.call(e,r,v),o_(b).then(()=>c()?void 0:y()).then(()=>{t?f(v):g()})})};return{promise:i,cancel:a,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:u,canStart:d,start:()=>(d()?g():y().then(g),i)}}var f_=e=>setTimeout(e,0);function m_(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=f_;const i=l=>{t?e.push(l):s(()=>{r(l)})},a=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(u=>{r(u)})})})};return{batch:l=>{let u;t++;try{u=l()}finally{t--,t||a()}return u},batchCalls:l=>(...u)=>{i(()=>{l(...u)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var Le=m_(),Fn,$m,by=($m=class{constructor(){V(this,Fn)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),bc(this.gcTime)&&M(this,Fn,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Zn?1/0:5*60*1e3))}clearGcTimeout(){w(this,Fn)&&(clearTimeout(w(this,Fn)),M(this,Fn,void 0))}},Fn=new WeakMap,$m),Is,In,Ct,Un,Ke,va,Bn,Ut,hr,Fm,p_=(Fm=class extends by{constructor(t){super();V(this,Ut);V(this,Is);V(this,In);V(this,Ct);V(this,Un);V(this,Ke);V(this,va);V(this,Bn);M(this,Bn,!1),M(this,va,t.defaultOptions),this.setOptions(t.options),this.observers=[],M(this,Un,t.client),M(this,Ct,w(this,Un).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,M(this,Is,g_(this.options)),this.state=t.state??w(this,Is),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=w(this,Ke))==null?void 0:t.promise}setOptions(t){this.options={...w(this,va),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&w(this,Ct).remove(this)}setData(t,r){const n=Sc(this.state.data,t,this.options);return G(this,Ut,hr).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){G(this,Ut,hr).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=w(this,Ke))==null?void 0:n.promise;return(s=w(this,Ke))==null||s.cancel(t),r?r.then(tt).catch(tt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(w(this,Is))}isActive(){return this.observers.some(t=>Pt(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Gd||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>pn(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!py(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=w(this,Ke))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=w(this,Ke))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),w(this,Ct).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(w(this,Ke)&&(w(this,Bn)?w(this,Ke).cancel({revert:!0}):w(this,Ke).cancelRetry()),this.scheduleGc()),w(this,Ct).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||G(this,Ut,hr).call(this,{type:"invalidate"})}fetch(t,r){var c,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(w(this,Ke))return w(this,Ke).continueRetry(),w(this,Ke).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(y=>y.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(M(this,Bn,!0),n.signal)})},i=()=>{const f=yy(this.options,r),g=(()=>{const x={client:w(this,Un),queryKey:this.queryKey,meta:this.meta};return s(x),x})();return M(this,Bn,!1),this.options.persister?this.options.persister(f,g,this):f(g)},l=(()=>{const f={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:w(this,Un),state:this.state,fetchFn:i};return s(f),f})();(c=this.options.behavior)==null||c.onFetch(l,this),M(this,In,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&G(this,Ut,hr).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta});const u=f=>{var y,g,x,j;pu(f)&&f.silent||G(this,Ut,hr).call(this,{type:"error",error:f}),pu(f)||((g=(y=w(this,Ct).config).onError)==null||g.call(y,f,this),(j=(x=w(this,Ct).config).onSettled)==null||j.call(x,this.state.data,f,this)),this.scheduleGc()};return M(this,Ke,_y({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var y,g,x,j;if(f===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(v){u(v);return}(g=(y=w(this,Ct).config).onSuccess)==null||g.call(y,f,this),(j=(x=w(this,Ct).config).onSettled)==null||j.call(x,f,this.state.error,this),this.scheduleGc()},onError:u,onFail:(f,y)=>{G(this,Ut,hr).call(this,{type:"failed",failureCount:f,error:y})},onPause:()=>{G(this,Ut,hr).call(this,{type:"pause"})},onContinue:()=>{G(this,Ut,hr).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),w(this,Ke).start()}},Is=new WeakMap,In=new WeakMap,Ct=new WeakMap,Un=new WeakMap,Ke=new WeakMap,va=new WeakMap,Bn=new WeakMap,Ut=new WeakSet,hr=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...jy(n.data,this.options),fetchMeta:t.meta??null};case"success":return M(this,In,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return pu(s)&&s.revert&&w(this,In)?{...w(this,In),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Le.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),w(this,Ct).notify({query:this,type:"updated",action:t})})},Fm);function jy(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:xy(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function g_(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var er,Im,y_=(Im=class extends li{constructor(t={}){super();V(this,er);this.config=t,M(this,er,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??Yd(s,r);let a=this.get(i);return a||(a=new p_({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(a)),a}add(t){w(this,er).has(t.queryHash)||(w(this,er).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=w(this,er).get(t.queryHash);r&&(t.destroy(),r===t&&w(this,er).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Le.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return w(this,er).get(t)}getAll(){return[...w(this,er).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>If(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>If(t,n)):r}notify(t){Le.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Le.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Le.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},er=new WeakMap,Im),tr,Xe,zn,rr,Mr,Um,v_=(Um=class extends by{constructor(t){super();V(this,rr);V(this,tr);V(this,Xe);V(this,zn);this.mutationId=t.mutationId,M(this,Xe,t.mutationCache),M(this,tr,[]),this.state=t.state||Sy(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){w(this,tr).includes(t)||(w(this,tr).push(t),this.clearGcTimeout(),w(this,Xe).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){M(this,tr,w(this,tr).filter(r=>r!==t)),this.scheduleGc(),w(this,Xe).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){w(this,tr).length||(this.state.status==="pending"?this.scheduleGc():w(this,Xe).remove(this))}continue(){var t;return((t=w(this,zn))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,a,l,u,c,d,h,f,y,g,x,j,v,m,p,b,N,C,P,R;const r=()=>{G(this,rr,Mr).call(this,{type:"continue"})};M(this,zn,_y({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(U,D)=>{G(this,rr,Mr).call(this,{type:"failed",failureCount:U,error:D})},onPause:()=>{G(this,rr,Mr).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>w(this,Xe).canRun(this)}));const n=this.state.status==="pending",s=!w(this,zn).canStart();try{if(n)r();else{G(this,rr,Mr).call(this,{type:"pending",variables:t,isPaused:s}),await((a=(i=w(this,Xe).config).onMutate)==null?void 0:a.call(i,t,this));const D=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,t));D!==this.state.context&&G(this,rr,Mr).call(this,{type:"pending",context:D,variables:t,isPaused:s})}const U=await w(this,zn).start();return await((d=(c=w(this,Xe).config).onSuccess)==null?void 0:d.call(c,U,t,this.state.context,this)),await((f=(h=this.options).onSuccess)==null?void 0:f.call(h,U,t,this.state.context)),await((g=(y=w(this,Xe).config).onSettled)==null?void 0:g.call(y,U,null,this.state.variables,this.state.context,this)),await((j=(x=this.options).onSettled)==null?void 0:j.call(x,U,null,t,this.state.context)),G(this,rr,Mr).call(this,{type:"success",data:U}),U}catch(U){try{throw await((m=(v=w(this,Xe).config).onError)==null?void 0:m.call(v,U,t,this.state.context,this)),await((b=(p=this.options).onError)==null?void 0:b.call(p,U,t,this.state.context)),await((C=(N=w(this,Xe).config).onSettled)==null?void 0:C.call(N,void 0,U,this.state.variables,this.state.context,this)),await((R=(P=this.options).onSettled)==null?void 0:R.call(P,void 0,U,t,this.state.context)),U}finally{G(this,rr,Mr).call(this,{type:"error",error:U})}}finally{w(this,Xe).runNext(this)}}},tr=new WeakMap,Xe=new WeakMap,zn=new WeakMap,rr=new WeakSet,Mr=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Le.batch(()=>{w(this,tr).forEach(n=>{n.onMutationUpdate(t)}),w(this,Xe).notify({mutation:this,type:"updated",action:t})})},Um);function Sy(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var vr,Bt,xa,Bm,x_=(Bm=class extends li{constructor(t={}){super();V(this,vr);V(this,Bt);V(this,xa);this.config=t,M(this,vr,new Set),M(this,Bt,new Map),M(this,xa,0)}build(t,r,n){const s=new v_({mutationCache:this,mutationId:++Ma(this,xa)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){w(this,vr).add(t);const r=eo(t);if(typeof r=="string"){const n=w(this,Bt).get(r);n?n.push(t):w(this,Bt).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(w(this,vr).delete(t)){const r=eo(t);if(typeof r=="string"){const n=w(this,Bt).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&w(this,Bt).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=eo(t);if(typeof r=="string"){const n=w(this,Bt).get(r),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=eo(t);if(typeof r=="string"){const s=(n=w(this,Bt).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Le.batch(()=>{w(this,vr).forEach(t=>{this.notify({type:"removed",mutation:t})}),w(this,vr).clear(),w(this,Bt).clear()})}getAll(){return Array.from(w(this,vr))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Uf(r,n))}findAll(t={}){return this.getAll().filter(r=>Uf(t,r))}notify(t){Le.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Le.batch(()=>Promise.all(t.map(r=>r.continue().catch(tt))))}},vr=new WeakMap,Bt=new WeakMap,xa=new WeakMap,Bm);function eo(e){var t;return(t=e.options.scope)==null?void 0:t.id}function qf(e){return{onFetch:(t,r)=>{var d,h,f,y,g;const n=t.options,s=(f=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((y=t.state.data)==null?void 0:y.pages)||[],a=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},u=0;const c=async()=>{let x=!1;const j=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},v=yy(t.options,t.fetchOptions),m=async(p,b,N)=>{if(x)return Promise.reject();if(b==null&&p.pages.length)return Promise.resolve(p);const P=(()=>{const Z={client:t.client,queryKey:t.queryKey,pageParam:b,direction:N?"backward":"forward",meta:t.options.meta};return j(Z),Z})(),R=await v(P),{maxPages:U}=t.options,D=N?u_:l_;return{pages:D(p.pages,R,U),pageParams:D(p.pageParams,b,U)}};if(s&&i.length){const p=s==="backward",b=p?w_:Vf,N={pages:i,pageParams:a},C=b(n,N);l=await m(N,C,p)}else{const p=e??i.length;do{const b=u===0?a[0]??n.initialPageParam:Vf(n,l);if(u>0&&b==null)break;l=await m(l,b),u++}while(u<p)}return l};t.options.persister?t.fetchFn=()=>{var x,j;return(j=(x=t.options).persister)==null?void 0:j.call(x,c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=c}}}function Vf(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function w_(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var be,Qr,Kr,Us,Bs,Yr,zs,qs,zm,__=(zm=class{constructor(e={}){V(this,be);V(this,Qr);V(this,Kr);V(this,Us);V(this,Bs);V(this,Yr);V(this,zs);V(this,qs);M(this,be,e.queryCache||new y_),M(this,Qr,e.mutationCache||new x_),M(this,Kr,e.defaultOptions||{}),M(this,Us,new Map),M(this,Bs,new Map),M(this,Yr,0)}mount(){Ma(this,Yr)._++,w(this,Yr)===1&&(M(this,zs,Jd.subscribe(async e=>{e&&(await this.resumePausedMutations(),w(this,be).onFocus())})),M(this,qs,Go.subscribe(async e=>{e&&(await this.resumePausedMutations(),w(this,be).onOnline())})))}unmount(){var e,t;Ma(this,Yr)._--,w(this,Yr)===0&&((e=w(this,zs))==null||e.call(this),M(this,zs,void 0),(t=w(this,qs))==null||t.call(this),M(this,qs,void 0))}isFetching(e){return w(this,be).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return w(this,Qr).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=w(this,be).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=w(this,be).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(pn(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return w(this,be).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=w(this,be).get(n.queryHash),i=s==null?void 0:s.state.data,a=a_(t,i);if(a!==void 0)return w(this,be).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(e,t,r){return Le.batch(()=>w(this,be).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=w(this,be).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=w(this,be);Le.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=w(this,be);return Le.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Le.batch(()=>w(this,be).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(tt).catch(tt)}invalidateQueries(e,t={}){return Le.batch(()=>(w(this,be).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Le.batch(()=>w(this,be).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(tt)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(tt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=w(this,be).build(this,t);return r.isStaleByTime(pn(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(tt).catch(tt)}fetchInfiniteQuery(e){return e.behavior=qf(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(tt).catch(tt)}ensureInfiniteQueryData(e){return e.behavior=qf(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Go.isOnline()?w(this,Qr).resumePausedMutations():Promise.resolve()}getQueryCache(){return w(this,be)}getMutationCache(){return w(this,Qr)}getDefaultOptions(){return w(this,Kr)}setDefaultOptions(e){M(this,Kr,e)}setQueryDefaults(e,t){w(this,Us).set(es(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...w(this,Us).values()],r={};return t.forEach(n=>{da(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){w(this,Bs).set(es(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...w(this,Bs).values()],r={};return t.forEach(n=>{da(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...w(this,Kr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Yd(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Gd&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...w(this,Kr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){w(this,be).clear(),w(this,Qr).clear()}},be=new WeakMap,Qr=new WeakMap,Kr=new WeakMap,Us=new WeakMap,Bs=new WeakMap,Yr=new WeakMap,zs=new WeakMap,qs=new WeakMap,zm),lt,ee,wa,Ze,qn,Vs,Gr,Jr,_a,Ws,Hs,Vn,Wn,Xr,Qs,ne,Ci,Nc,Ec,Cc,Pc,Tc,Oc,Rc,ky,qm,b_=(qm=class extends li{constructor(t,r){super();V(this,ne);V(this,lt);V(this,ee);V(this,wa);V(this,Ze);V(this,qn);V(this,Vs);V(this,Gr);V(this,Jr);V(this,_a);V(this,Ws);V(this,Hs);V(this,Vn);V(this,Wn);V(this,Xr);V(this,Qs,new Set);this.options=r,M(this,lt,t),M(this,Jr,null),M(this,Gr,kc()),this.options.experimental_prefetchInRender||w(this,Gr).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(w(this,ee).addObserver(this),Wf(w(this,ee),this.options)?G(this,ne,Ci).call(this):this.updateResult(),G(this,ne,Pc).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ac(w(this,ee),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ac(w(this,ee),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,G(this,ne,Tc).call(this),G(this,ne,Oc).call(this),w(this,ee).removeObserver(this)}setOptions(t){const r=this.options,n=w(this,ee);if(this.options=w(this,lt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Pt(this.options.enabled,w(this,ee))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");G(this,ne,Rc).call(this),w(this,ee).setOptions(this.options),r._defaulted&&!Yo(this.options,r)&&w(this,lt).getQueryCache().notify({type:"observerOptionsUpdated",query:w(this,ee),observer:this});const s=this.hasListeners();s&&Hf(w(this,ee),n,this.options,r)&&G(this,ne,Ci).call(this),this.updateResult(),s&&(w(this,ee)!==n||Pt(this.options.enabled,w(this,ee))!==Pt(r.enabled,w(this,ee))||pn(this.options.staleTime,w(this,ee))!==pn(r.staleTime,w(this,ee)))&&G(this,ne,Nc).call(this);const i=G(this,ne,Ec).call(this);s&&(w(this,ee)!==n||Pt(this.options.enabled,w(this,ee))!==Pt(r.enabled,w(this,ee))||i!==w(this,Xr))&&G(this,ne,Cc).call(this,i)}getOptimisticResult(t){const r=w(this,lt).getQueryCache().build(w(this,lt),t),n=this.createResult(r,t);return S_(this,n)&&(M(this,Ze,n),M(this,Vs,this.options),M(this,qn,w(this,ee).state)),n}getCurrentResult(){return w(this,Ze)}trackResult(t,r){return new Proxy(t,{get:(n,s)=>(this.trackProp(s),r==null||r(s),Reflect.get(n,s))})}trackProp(t){w(this,Qs).add(t)}getCurrentQuery(){return w(this,ee)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=w(this,lt).defaultQueryOptions(t),n=w(this,lt).getQueryCache().build(w(this,lt),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return G(this,ne,Ci).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),w(this,Ze)))}createResult(t,r){var U;const n=w(this,ee),s=this.options,i=w(this,Ze),a=w(this,qn),l=w(this,Vs),c=t!==n?t.state:w(this,wa),{state:d}=t;let h={...d},f=!1,y;if(r._optimisticResults){const D=this.hasListeners(),Z=!D&&Wf(t,r),H=D&&Hf(t,n,r,s);(Z||H)&&(h={...h,...jy(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:g,errorUpdatedAt:x,status:j}=h;y=h.data;let v=!1;if(r.placeholderData!==void 0&&y===void 0&&j==="pending"){let D;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(D=i.data,v=!0):D=typeof r.placeholderData=="function"?r.placeholderData((U=w(this,Hs))==null?void 0:U.state.data,w(this,Hs)):r.placeholderData,D!==void 0&&(j="success",y=Sc(i==null?void 0:i.data,D,r),f=!0)}if(r.select&&y!==void 0&&!v)if(i&&y===(a==null?void 0:a.data)&&r.select===w(this,_a))y=w(this,Ws);else try{M(this,_a,r.select),y=r.select(y),y=Sc(i==null?void 0:i.data,y,r),M(this,Ws,y),M(this,Jr,null)}catch(D){M(this,Jr,D)}w(this,Jr)&&(g=w(this,Jr),y=w(this,Ws),x=Date.now(),j="error");const m=h.fetchStatus==="fetching",p=j==="pending",b=j==="error",N=p&&m,C=y!==void 0,R={status:j,fetchStatus:h.fetchStatus,isPending:p,isSuccess:j==="success",isError:b,isInitialLoading:N,isLoading:N,data:y,dataUpdatedAt:h.dataUpdatedAt,error:g,errorUpdatedAt:x,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>c.dataUpdateCount||h.errorUpdateCount>c.errorUpdateCount,isFetching:m,isRefetching:m&&!p,isLoadingError:b&&!C,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:b&&C,isStale:Xd(t,r),refetch:this.refetch,promise:w(this,Gr),isEnabled:Pt(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const D=Y=>{R.status==="error"?Y.reject(R.error):R.data!==void 0&&Y.resolve(R.data)},Z=()=>{const Y=M(this,Gr,R.promise=kc());D(Y)},H=w(this,Gr);switch(H.status){case"pending":t.queryHash===n.queryHash&&D(H);break;case"fulfilled":(R.status==="error"||R.data!==H.value)&&Z();break;case"rejected":(R.status!=="error"||R.error!==H.reason)&&Z();break}}return R}updateResult(){const t=w(this,Ze),r=this.createResult(w(this,ee),this.options);if(M(this,qn,w(this,ee).state),M(this,Vs,this.options),w(this,qn).data!==void 0&&M(this,Hs,w(this,ee)),Yo(r,t))return;M(this,Ze,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!w(this,Qs).size)return!0;const a=new Set(i??w(this,Qs));return this.options.throwOnError&&a.add("error"),Object.keys(w(this,Ze)).some(l=>{const u=l;return w(this,Ze)[u]!==t[u]&&a.has(u)})};G(this,ne,ky).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&G(this,ne,Pc).call(this)}},lt=new WeakMap,ee=new WeakMap,wa=new WeakMap,Ze=new WeakMap,qn=new WeakMap,Vs=new WeakMap,Gr=new WeakMap,Jr=new WeakMap,_a=new WeakMap,Ws=new WeakMap,Hs=new WeakMap,Vn=new WeakMap,Wn=new WeakMap,Xr=new WeakMap,Qs=new WeakMap,ne=new WeakSet,Ci=function(t){G(this,ne,Rc).call(this);let r=w(this,ee).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(tt)),r},Nc=function(){G(this,ne,Tc).call(this);const t=pn(this.options.staleTime,w(this,ee));if(Zn||w(this,Ze).isStale||!bc(t))return;const n=py(w(this,Ze).dataUpdatedAt,t)+1;M(this,Vn,setTimeout(()=>{w(this,Ze).isStale||this.updateResult()},n))},Ec=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(w(this,ee)):this.options.refetchInterval)??!1},Cc=function(t){G(this,ne,Oc).call(this),M(this,Xr,t),!(Zn||Pt(this.options.enabled,w(this,ee))===!1||!bc(w(this,Xr))||w(this,Xr)===0)&&M(this,Wn,setInterval(()=>{(this.options.refetchIntervalInBackground||Jd.isFocused())&&G(this,ne,Ci).call(this)},w(this,Xr)))},Pc=function(){G(this,ne,Nc).call(this),G(this,ne,Cc).call(this,G(this,ne,Ec).call(this))},Tc=function(){w(this,Vn)&&(clearTimeout(w(this,Vn)),M(this,Vn,void 0))},Oc=function(){w(this,Wn)&&(clearInterval(w(this,Wn)),M(this,Wn,void 0))},Rc=function(){const t=w(this,lt).getQueryCache().build(w(this,lt),this.options);if(t===w(this,ee))return;const r=w(this,ee);M(this,ee,t),M(this,wa,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},ky=function(t){Le.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(w(this,Ze))}),w(this,lt).getQueryCache().notify({query:w(this,ee),type:"observerResultsUpdated"})})},qm);function j_(e,t){return Pt(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Wf(e,t){return j_(e,t)||e.state.data!==void 0&&Ac(e,t,t.refetchOnMount)}function Ac(e,t,r){if(Pt(t.enabled,e)!==!1&&pn(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Xd(e,t)}return!1}function Hf(e,t,r,n){return(e!==t||Pt(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Xd(e,r)}function Xd(e,t){return Pt(t.enabled,e)!==!1&&e.isStaleByTime(pn(t.staleTime,e))}function S_(e,t){return!Yo(e.getCurrentResult(),t)}var Zr,en,ut,xr,jr,wo,Dc,Vm,k_=(Vm=class extends li{constructor(r,n){super();V(this,jr);V(this,Zr);V(this,en);V(this,ut);V(this,xr);M(this,Zr,r),this.setOptions(n),this.bindMethods(),G(this,jr,wo).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=w(this,Zr).defaultMutationOptions(r),Yo(this.options,n)||w(this,Zr).getMutationCache().notify({type:"observerOptionsUpdated",mutation:w(this,ut),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&es(n.mutationKey)!==es(this.options.mutationKey)?this.reset():((s=w(this,ut))==null?void 0:s.state.status)==="pending"&&w(this,ut).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=w(this,ut))==null||r.removeObserver(this)}onMutationUpdate(r){G(this,jr,wo).call(this),G(this,jr,Dc).call(this,r)}getCurrentResult(){return w(this,en)}reset(){var r;(r=w(this,ut))==null||r.removeObserver(this),M(this,ut,void 0),G(this,jr,wo).call(this),G(this,jr,Dc).call(this)}mutate(r,n){var s;return M(this,xr,n),(s=w(this,ut))==null||s.removeObserver(this),M(this,ut,w(this,Zr).getMutationCache().build(w(this,Zr),this.options)),w(this,ut).addObserver(this),w(this,ut).execute(r)}},Zr=new WeakMap,en=new WeakMap,ut=new WeakMap,xr=new WeakMap,jr=new WeakSet,wo=function(){var n;const r=((n=w(this,ut))==null?void 0:n.state)??Sy();M(this,en,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Dc=function(r){Le.batch(()=>{var n,s,i,a,l,u,c,d;if(w(this,xr)&&this.hasListeners()){const h=w(this,en).variables,f=w(this,en).context;(r==null?void 0:r.type)==="success"?((s=(n=w(this,xr)).onSuccess)==null||s.call(n,r.data,h,f),(a=(i=w(this,xr)).onSettled)==null||a.call(i,r.data,null,h,f)):(r==null?void 0:r.type)==="error"&&((u=(l=w(this,xr)).onError)==null||u.call(l,r.error,h,f),(d=(c=w(this,xr)).onSettled)==null||d.call(c,void 0,r.error,h,f))}this.listeners.forEach(h=>{h(w(this,en))})})},Vm),Ny=S.createContext(void 0),St=e=>{const t=S.useContext(Ny);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},N_=({client:e,children:t})=>(S.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(Ny.Provider,{value:e,children:t})),Ey=S.createContext(!1),E_=()=>S.useContext(Ey);Ey.Provider;function C_(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var P_=S.createContext(C_()),T_=()=>S.useContext(P_),O_=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},R_=e=>{S.useEffect(()=>{e.clearReset()},[e])},A_=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||vy(r,[e.error,n])),D_=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},L_=(e,t)=>e.isLoading&&e.isFetching&&!t,M_=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Qf=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function $_(e,t,r){var h,f,y,g,x;const n=E_(),s=T_(),i=St(),a=i.defaultQueryOptions(e);(f=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||f.call(h,a),a._optimisticResults=n?"isRestoring":"optimistic",D_(a),O_(a,s),R_(s);const l=!i.getQueryCache().get(a.queryHash),[u]=S.useState(()=>new t(i,a)),c=u.getOptimisticResult(a),d=!n&&e.subscribed!==!1;if(S.useSyncExternalStore(S.useCallback(j=>{const v=d?u.subscribe(Le.batchCalls(j)):tt;return u.updateResult(),v},[u,d]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),S.useEffect(()=>{u.setOptions(a)},[a,u]),M_(a,c))throw Qf(a,u,s);if(A_({result:c,errorResetBoundary:s,throwOnError:a.throwOnError,query:i.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw c.error;if((g=(y=i.getDefaultOptions().queries)==null?void 0:y._experimental_afterQuery)==null||g.call(y,a,c),a.experimental_prefetchInRender&&!Zn&&L_(c,n)){const j=l?Qf(a,u,s):(x=i.getQueryCache().get(a.queryHash))==null?void 0:x.promise;j==null||j.catch(tt).finally(()=>{u.updateResult()})}return a.notifyOnChangeProps?c:u.trackResult(c)}function at(e,t){return $_(e,b_)}function kt(e,t){const r=St(),[n]=S.useState(()=>new k_(r,e));S.useEffect(()=>{n.setOptions(e)},[n,e]);const s=S.useSyncExternalStore(S.useCallback(a=>n.subscribe(Le.batchCalls(a)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=S.useCallback((a,l)=>{n.mutate(a,l).catch(tt)},[n]);if(s.error&&vy(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}let F_={data:""},I_=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||F_,U_=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,B_=/\/\*[^]*?\*\/|  +/g,Kf=/\n+/g,zr=(e,t)=>{let r="",n="",s="";for(let i in e){let a=e[i];i[0]=="@"?i[1]=="i"?r=i+" "+a+";":n+=i[1]=="f"?zr(a,i):i+"{"+zr(a,i[1]=="k"?"":t)+"}":typeof a=="object"?n+=zr(a,t?t.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,l):l?l+" "+u:u)):i):a!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=zr.p?zr.p(i,a):i+":"+a+";")}return r+(t&&s?t+"{"+s+"}":s)+n},cr={},Cy=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+Cy(e[r]);return t}return e},z_=(e,t,r,n,s)=>{let i=Cy(e),a=cr[i]||(cr[i]=(u=>{let c=0,d=11;for(;c<u.length;)d=101*d+u.charCodeAt(c++)>>>0;return"go"+d})(i));if(!cr[a]){let u=i!==e?e:(c=>{let d,h,f=[{}];for(;d=U_.exec(c.replace(B_,""));)d[4]?f.shift():d[3]?(h=d[3].replace(Kf," ").trim(),f.unshift(f[0][h]=f[0][h]||{})):f[0][d[1]]=d[2].replace(Kf," ").trim();return f[0]})(e);cr[a]=zr(s?{["@keyframes "+a]:u}:u,r?"":"."+a)}let l=r&&cr.g?cr.g:null;return r&&(cr.g=cr[a]),((u,c,d,h)=>{h?c.data=c.data.replace(h,u):c.data.indexOf(u)===-1&&(c.data=d?u+c.data:c.data+u)})(cr[a],t,n,l),a},q_=(e,t,r)=>e.reduce((n,s,i)=>{let a=t[i];if(a&&a.call){let l=a(r),u=l&&l.props&&l.props.className||/^go/.test(l)&&l;a=u?"."+u:l&&typeof l=="object"?l.props?"":zr(l,""):l===!1?"":l}return n+s+(a??"")},"");function Nl(e){let t=this||{},r=e.call?e(t.p):e;return z_(r.unshift?r.raw?q_(r,[].slice.call(arguments,1),t.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(t.p):s),{}):r,I_(t.target),t.g,t.o,t.k)}let Py,Lc,Mc;Nl.bind({g:1});let Cr=Nl.bind({k:1});function V_(e,t,r,n){zr.p=t,Py=e,Lc=r,Mc=n}function jn(e,t){let r=this||{};return function(){let n=arguments;function s(i,a){let l=Object.assign({},i),u=l.className||s.className;r.p=Object.assign({theme:Lc&&Lc()},l),r.o=/ *go\d+/.test(u),l.className=Nl.apply(r,n)+(u?" "+u:"");let c=e;return e[0]&&(c=l.as||e,delete l.as),Mc&&c[0]&&Mc(l),Py(c,l)}return s}}var W_=e=>typeof e=="function",Jo=(e,t)=>W_(e)?e(t):e,H_=(()=>{let e=0;return()=>(++e).toString()})(),Ty=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Q_=20,Oy=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,Q_)};case 1:return{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:r}=t;return Oy(e,{type:e.toasts.find(i=>i.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map(i=>i.id===n||n===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let s=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},_o=[],Ln={toasts:[],pausedAt:void 0},ss=e=>{Ln=Oy(Ln,e),_o.forEach(t=>{t(Ln)})},K_={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Y_=(e={})=>{let[t,r]=S.useState(Ln),n=S.useRef(Ln);S.useEffect(()=>(n.current!==Ln&&r(Ln),_o.push(r),()=>{let i=_o.indexOf(r);i>-1&&_o.splice(i,1)}),[]);let s=t.toasts.map(i=>{var a,l,u;return{...e,...e[i.type],...i,removeDelay:i.removeDelay||((a=e[i.type])==null?void 0:a.removeDelay)||(e==null?void 0:e.removeDelay),duration:i.duration||((l=e[i.type])==null?void 0:l.duration)||(e==null?void 0:e.duration)||K_[i.type],style:{...e.style,...(u=e[i.type])==null?void 0:u.style,...i.style}}});return{...t,toasts:s}},G_=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||H_()}),Ca=e=>(t,r)=>{let n=G_(t,e,r);return ss({type:2,toast:n}),n.id},W=(e,t)=>Ca("blank")(e,t);W.error=Ca("error");W.success=Ca("success");W.loading=Ca("loading");W.custom=Ca("custom");W.dismiss=e=>{ss({type:3,toastId:e})};W.remove=e=>ss({type:4,toastId:e});W.promise=(e,t,r)=>{let n=W.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let i=t.success?Jo(t.success,s):void 0;return i?W.success(i,{id:n,...r,...r==null?void 0:r.success}):W.dismiss(n),s}).catch(s=>{let i=t.error?Jo(t.error,s):void 0;i?W.error(i,{id:n,...r,...r==null?void 0:r.error}):W.dismiss(n)}),e};var J_=(e,t)=>{ss({type:1,toast:{id:e,height:t}})},X_=()=>{ss({type:5,time:Date.now()})},Ii=new Map,Z_=1e3,e1=(e,t=Z_)=>{if(Ii.has(e))return;let r=setTimeout(()=>{Ii.delete(e),ss({type:4,toastId:e})},t);Ii.set(e,r)},t1=e=>{let{toasts:t,pausedAt:r}=Y_(e);S.useEffect(()=>{if(r)return;let i=Date.now(),a=t.map(l=>{if(l.duration===1/0)return;let u=(l.duration||0)+l.pauseDuration-(i-l.createdAt);if(u<0){l.visible&&W.dismiss(l.id);return}return setTimeout(()=>W.dismiss(l.id),u)});return()=>{a.forEach(l=>l&&clearTimeout(l))}},[t,r]);let n=S.useCallback(()=>{r&&ss({type:6,time:Date.now()})},[r]),s=S.useCallback((i,a)=>{let{reverseOrder:l=!1,gutter:u=8,defaultPosition:c}=a||{},d=t.filter(y=>(y.position||c)===(i.position||c)&&y.height),h=d.findIndex(y=>y.id===i.id),f=d.filter((y,g)=>g<h&&y.visible).length;return d.filter(y=>y.visible).slice(...l?[f+1]:[0,f]).reduce((y,g)=>y+(g.height||0)+u,0)},[t]);return S.useEffect(()=>{t.forEach(i=>{if(i.dismissed)e1(i.id,i.removeDelay);else{let a=Ii.get(i.id);a&&(clearTimeout(a),Ii.delete(i.id))}})},[t]),{toasts:t,handlers:{updateHeight:J_,startPause:X_,endPause:n,calculateOffset:s}}},r1=Cr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,n1=Cr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,s1=Cr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,i1=jn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${r1} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${n1} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${s1} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,a1=Cr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,o1=jn("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${a1} 1s linear infinite;
`,l1=Cr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,u1=Cr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,c1=jn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${l1} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${u1} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,d1=jn("div")`
  position: absolute;
`,h1=jn("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,f1=Cr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,m1=jn("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${f1} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,p1=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?S.createElement(m1,null,t):t:r==="blank"?null:S.createElement(h1,null,S.createElement(o1,{...n}),r!=="loading"&&S.createElement(d1,null,r==="error"?S.createElement(i1,{...n}):S.createElement(c1,{...n})))},g1=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,y1=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,v1="0%{opacity:0;} 100%{opacity:1;}",x1="0%{opacity:1;} 100%{opacity:0;}",w1=jn("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,_1=jn("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,b1=(e,t)=>{let r=e.includes("top")?1:-1,[n,s]=Ty()?[v1,x1]:[g1(r),y1(r)];return{animation:t?`${Cr(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Cr(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},j1=S.memo(({toast:e,position:t,style:r,children:n})=>{let s=e.height?b1(e.position||t||"top-center",e.visible):{opacity:0},i=S.createElement(p1,{toast:e}),a=S.createElement(_1,{...e.ariaProps},Jo(e.message,e));return S.createElement(w1,{className:e.className,style:{...s,...r,...e.style}},typeof n=="function"?n({icon:i,message:a}):S.createElement(S.Fragment,null,i,a))});V_(S.createElement);var S1=({id:e,className:t,style:r,onHeightUpdate:n,children:s})=>{let i=S.useCallback(a=>{if(a){let l=()=>{let u=a.getBoundingClientRect().height;n(e,u)};l(),new MutationObserver(l).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return S.createElement("div",{ref:i,className:t,style:r},s)},k1=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Ty()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...s}},N1=Nl`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,to=16,E1=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:s,containerStyle:i,containerClassName:a})=>{let{toasts:l,handlers:u}=t1(r);return S.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:to,left:to,right:to,bottom:to,pointerEvents:"none",...i},className:a,onMouseEnter:u.startPause,onMouseLeave:u.endPause},l.map(c=>{let d=c.position||t,h=u.calculateOffset(c,{reverseOrder:e,gutter:n,defaultPosition:t}),f=k1(d,h);return S.createElement(S1,{id:c.id,key:c.id,onHeightUpdate:u.updateHeight,className:c.visible?N1:"",style:f},c.type==="custom"?Jo(c.message,c):s?s(c):S.createElement(j1,{toast:c,position:d}))}))};const C1="modulepreload",P1=function(e){return"/"+e},Yf={},Pa=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(u=>{if(u=P1(u),u in Yf)return;Yf[u]=!0;const c=u.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":C1,c||(h.as="script"),h.crossOrigin="",h.href=u,l&&h.setAttribute("nonce",l),document.head.appendChild(h),c)return new Promise((f,y)=>{h.addEventListener("load",f),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},T1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Pa(async()=>{const{default:n}=await Promise.resolve().then(()=>ui);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Zd extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class O1 extends Zd{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Gf extends Zd{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Jf extends Zd{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var $c;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})($c||($c={}));var R1=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(e,t||[])).next())})};class A1{constructor(t,{headers:r={},customFetch:n,region:s=$c.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=T1(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return R1(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=r;let l={},{region:u}=r;u||(u=this.region);const c=new URL(`${this.url}/${t}`);u&&u!=="any"&&(l["x-region"]=u,c.searchParams.set("forceFunctionRegion",u));let d;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(l["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(l["Content-Type"]="application/json",d=JSON.stringify(a)));const h=yield this.fetch(c.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(x=>{throw new O1(x)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new Gf(h);if(!h.ok)throw new Jf(h);let y=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return y==="application/json"?g=yield h.json():y==="application/octet-stream"?g=yield h.blob():y==="text/event-stream"?g=h:y==="multipart/form-data"?g=yield h.formData():g=yield h.text(),{data:g,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof Jf||s instanceof Gf?s.context:void 0}}})}}var ft={},eh={},El={},Ta={},Cl={},Pl={},D1=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ti=D1();const L1=ti.fetch,Ry=ti.fetch.bind(ti),Ay=ti.Headers,M1=ti.Request,$1=ti.Response,ui=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ay,Request:M1,Response:$1,default:Ry,fetch:L1},Symbol.toStringTag,{value:"Module"})),F1=C0(ui);var Tl={};Object.defineProperty(Tl,"__esModule",{value:!0});let I1=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Tl.default=I1;var Dy=Dt&&Dt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pl,"__esModule",{value:!0});const U1=Dy(F1),B1=Dy(Tl);let z1=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=U1.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,l,u;let c=null,d=null,h=null,f=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const v=await i.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=v:d=JSON.parse(v))}const x=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),j=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");x&&j&&j.length>1&&(h=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,y="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const x=await i.text();try{c=JSON.parse(x),Array.isArray(c)&&i.status===404&&(d=[],c=null,f=200,y="OK")}catch{i.status===404&&x===""?(f=204,y="No Content"):c={message:x}}if(c&&this.isMaybeSingle&&(!((u=c==null?void 0:c.details)===null||u===void 0)&&u.includes("0 rows"))&&(c=null,f=200,y="OK"),c&&this.shouldThrowOnError)throw new B1.default(c)}return{error:c,data:d,count:h,status:f,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,l,u;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(u=i==null?void 0:i.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};Pl.default=z1;var q1=Dt&&Dt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cl,"__esModule",{value:!0});const V1=q1(Pl);let W1=class extends V1.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(a,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var l;const u=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${c}"; options=${u};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Cl.default=W1;var H1=Dt&&Dt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ta,"__esModule",{value:!0});const Q1=H1(Cl);let K1=class extends Q1.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${a}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Ta.default=K1;var Y1=Dt&&Dt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(El,"__esModule",{value:!0});const xi=Y1(Ta);let G1=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const a=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new xi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const a=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(a.length>0){const l=[...new Set(a)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new xi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const a="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const u=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new xi.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new xi.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new xi.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};El.default=G1;var Ol={},Rl={};Object.defineProperty(Rl,"__esModule",{value:!0});Rl.version=void 0;Rl.version="0.0.0-automated";Object.defineProperty(Ol,"__esModule",{value:!0});Ol.DEFAULT_HEADERS=void 0;const J1=Rl;Ol.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${J1.version}`};var Ly=Dt&&Dt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(eh,"__esModule",{value:!0});const X1=Ly(El),Z1=Ly(Ta),eb=Ol;let tb=class My{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},eb.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new X1.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new My(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let a;const l=new URL(`${this.url}/rpc/${t}`);let u;n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(a="POST",u=r);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new Z1.default({method:a,url:l,headers:c,schema:this.schemaName,body:u,fetch:this.fetch,allowEmpty:!1})}};eh.default=tb;var ci=Dt&&Dt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ft,"__esModule",{value:!0});ft.PostgrestError=ft.PostgrestBuilder=ft.PostgrestTransformBuilder=ft.PostgrestFilterBuilder=ft.PostgrestQueryBuilder=ft.PostgrestClient=void 0;const $y=ci(eh);ft.PostgrestClient=$y.default;const Fy=ci(El);ft.PostgrestQueryBuilder=Fy.default;const Iy=ci(Ta);ft.PostgrestFilterBuilder=Iy.default;const Uy=ci(Cl);ft.PostgrestTransformBuilder=Uy.default;const By=ci(Pl);ft.PostgrestBuilder=By.default;const zy=ci(Tl);ft.PostgrestError=zy.default;var rb=ft.default={PostgrestClient:$y.default,PostgrestQueryBuilder:Fy.default,PostgrestFilterBuilder:Iy.default,PostgrestTransformBuilder:Uy.default,PostgrestBuilder:By.default,PostgrestError:zy.default};const{PostgrestClient:nb,PostgrestQueryBuilder:IN,PostgrestFilterBuilder:UN,PostgrestTransformBuilder:BN,PostgrestBuilder:zN,PostgrestError:qN}=rb;class sb{static dynamicRequire(t){try{return typeof process<"u"&&process.versions&&process.versions.node&&typeof require<"u"?require(t):null}catch{return null}}static detectEnvironment(){var t,r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const n=parseInt(process.versions.node.split(".")[0]);if(n>=22)try{if(typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};const s=this.dynamicRequire("undici");if(s&&s.WebSocket)return{type:"native",constructor:s.WebSocket};throw new Error("undici not available")}catch{return{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:'Install the "ws" package or check your Node.js installation.'}}try{const s=this.dynamicRequire("ws");if(s)return{type:"ws",constructor:(r=s.WebSocket)!==null&&r!==void 0?r:s};throw new Error("ws package not available")}catch{return{type:"unsupported",error:`Node.js ${n} detected without WebSocket support.`,workaround:'Install the "ws" package: npm install ws'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const ib="2.15.0",ab=`realtime-js/${ib}`,ob="1.0.0",Fc=1e4,lb=1e3,ub=100;var Ui;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ui||(Ui={}));var Ae;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ae||(Ae={}));var qt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(qt||(qt={}));var Ic;(function(e){e.websocket="websocket"})(Ic||(Ic={}));var On;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(On||(On={}));class cb{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let a=this.HEADER_LENGTH+2;const l=n.decode(t.slice(a,a+s));a=a+s;const u=n.decode(t.slice(a,a+i));a=a+i;const c=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{ref:null,topic:l,event:u,payload:c}}}let qy=class{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var de;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(de||(de={}));const Xf=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,a)=>(i[a]=db(a,e,t,s),i),{})},db=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,a=r[e];return i&&!n.includes(i)?Vy(i,a):Uc(a)},Vy=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return pb(t,r)}switch(e){case de.bool:return hb(t);case de.float4:case de.float8:case de.int2:case de.int4:case de.int8:case de.numeric:case de.oid:return fb(t);case de.json:case de.jsonb:return mb(t);case de.timestamp:return gb(t);case de.abstime:case de.date:case de.daterange:case de.int4range:case de.int8range:case de.money:case de.reltime:case de.text:case de.time:case de.timestamptz:case de.timetz:case de.tsrange:case de.tstzrange:return Uc(t);default:return Uc(t)}},Uc=e=>e,hb=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},fb=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},mb=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},pb=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const a=e.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>Vy(t,l))}return e},gb=e=>typeof e=="string"?e.replace(" ","T"):e,Wy=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class gu{constructor(t,r,n={},s=Fc){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Zf;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Zf||(Zf={}));class Bi{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Bi.syncState(this.state,s,i,a),this.pendingDiffs.forEach(u=>{this.state=Bi.syncDiff(this.state,u,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Bi.syncDiff(this.state,s,i,a),l())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),a=this.transformState(r),l={},u={};return this.map(i,(c,d)=>{a[c]||(u[c]=d)}),this.map(a,(c,d)=>{const h=i[c];if(h){const f=d.map(j=>j.presence_ref),y=h.map(j=>j.presence_ref),g=d.filter(j=>y.indexOf(j.presence_ref)<0),x=h.filter(j=>f.indexOf(j.presence_ref)<0);g.length>0&&(l[c]=g),x.length>0&&(u[c]=x)}else l[c]=d}),this.syncDiff(i,{joins:l,leaves:u},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,u)=>{var c;const d=(c=t[l])!==null&&c!==void 0?c:[];if(t[l]=this.cloneDeep(u),d.length>0){const h=t[l].map(y=>y.presence_ref),f=d.filter(y=>h.indexOf(y.presence_ref)<0);t[l].unshift(...f)}n(l,d,u)}),this.map(a,(l,u)=>{let c=t[l];if(!c)return;const d=u.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=c,s(l,c,u),c.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var em;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(em||(em={}));var zi;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(zi||(zi={}));var pr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(pr||(pr={}));class th{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Ae.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new gu(this,qt.join,this.params,this.timeout),this.rejoinTimer=new qy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ae.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ae.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ae.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ae.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ae.errored,this.rejoinTimer.scheduleTimeout())}),this._on(qt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Bi(this),this.broadcastEndpointURL=Wy(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Ae.closed){const{config:{broadcast:i,presence:a,private:l}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&s!==void 0?s:[],c=!!this.bindings[zi.PRESENCE]&&this.bindings[zi.PRESENCE].length>0,d={},h={broadcast:i,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>t==null?void 0:t(pr.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(pr.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var y;if(this.socket.setAuth(),f===void 0){t==null||t(pr.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,x=(y=g==null?void 0:g.length)!==null&&y!==void 0?y:0,j=[];for(let v=0;v<x;v++){const m=g[v],{filter:{event:p,schema:b,table:N,filter:C}}=m,P=f&&f[v];if(P&&P.event===p&&P.schema===b&&P.table===N&&P.filter===C)j.push(Object.assign(Object.assign({},m),{id:P.id}));else{this.unsubscribe(),this.state=Ae.errored,t==null||t(pr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,t&&t(pr.SUBSCRIBED);return}}).receive("error",f=>{this.state=Ae.errored,t==null||t(pr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(pr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Ae.joined&&t===zi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:a}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,u;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ae.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(qt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new gu(this,qt.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ae.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new gu(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>ub){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const a=t.toLocaleLowerCase(),{close:l,error:u,leave:c,join:d}=qt;if(n&&[l,u,c,d].indexOf(a)>=0&&n!==this._joinRef())return;let f=this._onMessage(a,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var g,x,j;return((g=y.filter)===null||g===void 0?void 0:g.event)==="*"||((j=(x=y.filter)===null||x===void 0?void 0:x.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===a}).map(y=>y.callback(f,n)):(i=this.bindings[a])===null||i===void 0||i.filter(y=>{var g,x,j,v,m,p;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in y){const b=y.id,N=(g=y.filter)===null||g===void 0?void 0:g.event;return b&&((x=r.ids)===null||x===void 0?void 0:x.includes(b))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((j=r.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const b=(m=(v=y==null?void 0:y.filter)===null||v===void 0?void 0:v.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return b==="*"||b===((p=r==null?void 0:r.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===a}).map(y=>{if(typeof f=="object"&&"ids"in f){const g=f.data,{schema:x,table:j,commit_timestamp:v,type:m,errors:p}=g;f=Object.assign(Object.assign({},{schema:x,table:j,commit_timestamp:v,eventType:m,new:{},old:{},errors:p}),this._getPayloadRecords(g))}y.callback(f,n)})}_isClosed(){return this.state===Ae.closed}_isJoined(){return this.state===Ae.joined}_isJoining(){return this.state===Ae.joining}_isLeaving(){return this.state===Ae.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&th.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(qt.close,{},t)}_onError(t){this._on(qt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ae.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Xf(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Xf(t.columns,t.old_record)),r}}const tm=()=>{},ro={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},yb=[1e3,2e3,5e3,1e4],vb=1e4,xb=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class wb{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Fc,this.transport=null,this.heartbeatIntervalMs=ro.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=tm,this.ref=0,this.reconnectTimer=null,this.logger=tm,this.conn=null,this.sendBuffer=[],this.serializer=new cb,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...a)=>Pa(async()=>{const{default:l}=await Promise.resolve().then(()=>ui);return{default:l}},void 0).then(({default:l})=>l(...a)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...a)=>i(...a)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Ic.websocket}`,this.httpEndpoint=Wy(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=sb.createWebSocket(this.endpointURL())}catch(t){throw this._setConnectionState("disconnected"),new Error(`WebSocket not available: ${t.message}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ob}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ui.connecting:return On.Connecting;case Ui.open:return On.Open;case Ui.closing:return On.Closing;default:return On.Closed}}isConnected(){return this.connectionState()===On.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new th(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,a=()=>{this.encode(t,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(lb,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ro.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{r.topic==="phoenix"&&r.event==="phx_reply"&&this.heartbeatCallback(r.payload.status==="ok"?"ok":"error"),r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:a}=r,l=a?`(${a})`:"",u=i.status||"";this.log("receive",`${u} ${n} ${s} ${l}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(qt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([xb],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:ab};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(qt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new qy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ro.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,a,l,u,c;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Fc,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:ro.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t==null?void 0:t.reconnectAfterMs)!==null&&l!==void 0?l:d=>yb[d-1]||vb,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(d,h)=>h(JSON.stringify(d)),this.decode=(c=t==null?void 0:t.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class rh extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ie(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class _b extends rh{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Bc extends rh{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var bb=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(e,t||[])).next())})};const Hy=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Pa(async()=>{const{default:n}=await Promise.resolve().then(()=>ui);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},jb=()=>bb(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Pa(()=>Promise.resolve().then(()=>ui),void 0)).Response:Response}),zc=e=>{if(Array.isArray(e))return e.map(r=>zc(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=zc(n)}),t},Sb=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var is=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(e,t||[])).next())})};const yu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),kb=(e,t,r)=>is(void 0,void 0,void 0,function*(){const n=yield jb();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const i=e.status||500,a=(s==null?void 0:s.statusCode)||i+"";t(new _b(yu(s),i,a))}).catch(s=>{t(new Bc(yu(s),s))}):t(new Bc(yu(e),e))}),Nb=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(Sb(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r))};function Oa(e,t,r,n,s,i){return is(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(r,Nb(t,n,s,i)).then(u=>{if(!u.ok)throw u;return n!=null&&n.noResolveJson?u:u.json()}).then(u=>a(u)).catch(u=>kb(u,l,n))})})}function Xo(e,t,r,n){return is(this,void 0,void 0,function*(){return Oa(e,"GET",t,r,n)})}function gr(e,t,r,n,s){return is(this,void 0,void 0,function*(){return Oa(e,"POST",t,n,s,r)})}function qc(e,t,r,n,s){return is(this,void 0,void 0,function*(){return Oa(e,"PUT",t,n,s,r)})}function Eb(e,t,r,n){return is(this,void 0,void 0,function*(){return Oa(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Qy(e,t,r,n,s){return is(this,void 0,void 0,function*(){return Oa(e,"DELETE",t,n,s,r)})}var ot=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(e,t||[])).next())})};const Cb={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},rm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Pb{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=Hy(s)}uploadOrUpdate(t,r,n,s){return ot(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},rm),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const u=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",a.cacheControl),u&&i.append("metadata",this.encodeMetadata(u))):(i=n,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,u&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),h=yield(t=="PUT"?qc:gr)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(Ie(i))return{data:null,error:i};throw i}})}upload(t,r,n){return ot(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return ot(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),a=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",r);try{let u;const c=Object.assign({upsert:rm.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",c.cacheControl)):(u=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield qc(this.fetch,l.toString(),u,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(u){if(Ie(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,r){return ot(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield gr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),l=a.searchParams.get("token");if(!l)throw new rh("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:l},error:null}}catch(n){if(Ie(n))return{data:null,error:n};throw n}})}update(t,r,n){return ot(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return ot(this,void 0,void 0,function*(){try{return{data:yield gr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Ie(s))return{data:null,error:s};throw s}})}copy(t,r,n){return ot(this,void 0,void 0,function*(){try{return{data:{path:(yield gr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Ie(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return ot(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield gr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(Ie(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return ot(this,void 0,void 0,function*(){try{const s=yield gr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(Ie(s))return{data:null,error:s};throw s}})}download(t,r){return ot(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Xo(this.fetch,`${this.url}/${s}/${l}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Ie(l))return{data:null,error:l};throw l}})}info(t){return ot(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Xo(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:zc(n),error:null}}catch(n){if(Ie(n))return{data:null,error:n};throw n}})}exists(t){return ot(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Eb(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Ie(n)&&n instanceof Bc){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});u!==""&&s.push(u);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${c}`)}}}remove(t){return ot(this,void 0,void 0,function*(){try{return{data:yield Qy(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Ie(r))return{data:null,error:r};throw r}})}list(t,r,n){return ot(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Cb),r),{prefix:t||""});return{data:yield gr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Ie(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Tb="2.10.4",Ob={"X-Client-Info":`storage-js/${Tb}`};var us=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(e,t||[])).next())})};class Rb{constructor(t,r={},n,s){const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},Ob),r),this.fetch=Hy(n)}listBuckets(){return us(this,void 0,void 0,function*(){try{return{data:yield Xo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ie(t))return{data:null,error:t};throw t}})}getBucket(t){return us(this,void 0,void 0,function*(){try{return{data:yield Xo(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Ie(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return us(this,void 0,void 0,function*(){try{return{data:yield gr(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ie(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return us(this,void 0,void 0,function*(){try{return{data:yield qc(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ie(n))return{data:null,error:n};throw n}})}emptyBucket(t){return us(this,void 0,void 0,function*(){try{return{data:yield gr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Ie(r))return{data:null,error:r};throw r}})}deleteBucket(t){return us(this,void 0,void 0,function*(){try{return{data:yield Qy(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Ie(r))return{data:null,error:r};throw r}})}}class Ab extends Rb{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new Pb(this.url,this.headers,t,this.fetch)}}const Db="2.54.0";let Pi="";typeof Deno<"u"?Pi="deno":typeof document<"u"?Pi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Pi="react-native":Pi="node";const Lb={"X-Client-Info":`supabase-js-${Pi}/${Db}`},Mb={headers:Lb},$b={schema:"public"},Fb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ib={};var Ub=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(e,t||[])).next())})};const Bb=e=>{let t;return e?t=e:typeof fetch>"u"?t=Ry:t=fetch,(...r)=>t(...r)},zb=()=>typeof Headers>"u"?Ay:Headers,qb=(e,t,r)=>{const n=Bb(r),s=zb();return(i,a)=>Ub(void 0,void 0,void 0,function*(){var l;const u=(l=yield t())!==null&&l!==void 0?l:e;let c=new s(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),n(i,Object.assign(Object.assign({},a),{headers:c}))})};var Vb=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(e,t||[])).next())})};function Wb(e){return e.endsWith("/")?e:e+"/"}function Hb(e,t){var r,n;const{db:s,auth:i,realtime:a,global:l}=e,{db:u,auth:c,realtime:d,global:h}=t,f={db:Object.assign(Object.assign({},u),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Vb(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const Ky="2.71.1",gs=30*1e3,Vc=3,vu=Vc*gs,Qb="http://localhost:9999",Kb="supabase.auth.token",Yb={"X-Client-Info":`gotrue-js/${Ky}`},Wc="X-Supabase-Api-Version",Yy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Gb=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Jb=10*60*1e3;class nh extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function K(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Xb extends nh{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Zb(e){return K(e)&&e.name==="AuthApiError"}class Gy extends nh{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Sn extends nh{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class $r extends Sn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ej(e){return K(e)&&e.name==="AuthSessionMissingError"}class no extends Sn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class so extends Sn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class io extends Sn{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function tj(e){return K(e)&&e.name==="AuthImplicitGrantRedirectError"}class nm extends Sn{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Hc extends Sn{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function xu(e){return K(e)&&e.name==="AuthRetryableFetchError"}class sm extends Sn{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Qc extends Sn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Zo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),im=` 	
\r=`.split(""),rj=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<im.length;t+=1)e[im[t].charCodeAt(0)]=-2;for(let t=0;t<Zo.length;t+=1)e[Zo[t].charCodeAt(0)]=t;return e})();function am(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Zo[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Zo[n]),t.queuedBits-=6}}function Jy(e,t,r){const n=rj[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function om(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{ij(a,n,r)};for(let a=0;a<e.length;a+=1)Jy(e.charCodeAt(a),s,i);return t.join("")}function nj(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function sj(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}nj(n,t)}}function ij(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function aj(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Jy(e.charCodeAt(s),r,n);return new Uint8Array(t)}function oj(e){const t=[];return sj(e,r=>t.push(r)),new Uint8Array(t)}function lj(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>am(s,r,n)),am(null,r,n),t.join("")}function uj(e){return Math.round(Date.now()/1e3)+e}function cj(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ft=()=>typeof window<"u"&&typeof document<"u",kn={tested:!1,writable:!1},Xy=()=>{if(!Ft())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(kn.tested)return kn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),kn.tested=!0,kn.writable=!0}catch{kn.tested=!0,kn.writable=!1}return kn.writable};function dj(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Zy=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Pa(async()=>{const{default:n}=await Promise.resolve().then(()=>ui);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},hj=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ys=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Nn=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Dr=async(e,t)=>{await e.removeItem(t)};class Al{constructor(){this.promise=new Al.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Al.promiseConstructor=Promise;function wu(e){const t=e.split(".");if(t.length!==3)throw new Qc("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Gb.test(t[n]))throw new Qc("JWT not in base64url format");return{header:JSON.parse(om(t[0])),payload:JSON.parse(om(t[1])),signature:aj(t[2]),raw:{header:t[0],payload:t[1]}}}async function fj(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function mj(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){n(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function pj(e){return("0"+e.toString(16)).substr(-2)}function gj(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,pj).join("")}async function yj(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function vj(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await yj(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function cs(e,t,r=!1){const n=gj();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await ys(e,`${t}-code-verifier`,s);const i=await vj(n);return[i,n===i?"plain":"s256"]}const xj=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function wj(e){const t=e.headers.get(Wc);if(!t||!t.match(xj))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function _j(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function bj(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const jj=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ds(e){if(!jj.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function _u(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function lm(e){return JSON.parse(JSON.stringify(e))}var Sj=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Pn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),kj=[502,503,504];async function um(e){var t;if(!hj(e))throw new Hc(Pn(e),0);if(kj.includes(e.status))throw new Hc(Pn(e),e.status);let r;try{r=await e.json()}catch(i){throw new Gy(Pn(i),i)}let n;const s=wj(e);if(s&&s.getTime()>=Yy["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new sm(Pn(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new $r}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new sm(Pn(r),e.status,r.weak_password.reasons);throw new Xb(Pn(r),e.status||500,n)}const Nj=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function J(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Wc]||(i[Wc]=Yy["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",u=await Ej(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function Ej(e,t,r,n,s,i){const a=Nj(t,n,s,i);let l;try{l=await e(r,Object.assign({},a))}catch(u){throw console.error(u),new Hc(Pn(u),0)}if(l.ok||await um(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(u){await um(u)}}function fr(e){var t;let r=null;Oj(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=uj(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function cm(e){const t=fr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function qr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Cj(e){return{data:e,error:null}}function Pj(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,a=Sj(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},u=Object.assign({},a);return{data:{properties:l,user:u},error:null}}function Tj(e){return e}function Oj(e){return e.access_token&&e.refresh_token&&e.expires_in}const bu=["global","local","others"];var Rj=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class Aj{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Zy(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=bu[0]){if(bu.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${bu.join(", ")}`);try{return await J(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await J(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:qr})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Rj(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await J(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Pj,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(K(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await J(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:qr})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,a,l,u;try{const c={nextPage:null,lastPage:0,total:0},d=await J(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Tj});if(d.error)throw d.error;const h=await d.json(),f=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,y=(u=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return y.length>0&&(y.forEach(g=>{const x=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(g.split(";")[1].split("=")[1]);c[`${j}Page`]=x}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(K(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){ds(t);try{return await J(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:qr})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){ds(t);try{return await J(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:qr})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){ds(t);try{return await J(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:qr})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){ds(t.userId);try{const{data:r,error:n}=await J(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(K(r))return{data:null,error:r};throw r}}async _deleteFactor(t){ds(t.userId),ds(t.id);try{return{data:await J(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}}}function dm(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function Dj(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const hs={debug:!!(globalThis&&Xy()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class e0 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Lj extends e0{}async function Mj(e,t,r){hs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),hs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){hs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{hs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw hs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Lj(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(hs.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Dj();const $j={url:Qb,storageKey:Kb,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Yb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function hm(e,t,r){return await r()}const fs={};class ha{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ha.nextInstanceID,ha.nextInstanceID+=1,this.instanceID>0&&Ft()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},$j),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Aj({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Zy(s.fetch),this.lock=s.lock||hm,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ft()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Mj:this.lock=hm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Xy()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=dm(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=dm(this.memoryStorage)),Ft()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=fs[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){fs[this.storageKey]=Object.assign(Object.assign({},fs[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=fs[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){fs[this.storageKey]=Object.assign(Object.assign({},fs[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ky}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=dj(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ft()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),tj(i)){const u=(t=i.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return K(r)?{error:r}:{error:new Gy("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:fr}),{data:a,error:l}=i;if(l||!a)return{data:{user:null,session:null},error:l};const u=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(K(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let y=null,g=null;this.flowType==="pkce"&&([y,g]=await cs(this.storage,this.storageKey)),i=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:y,code_challenge_method:g},xform:fr})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:fr})}else throw new so("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return{data:{user:null,session:null},error:l};const u=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(K(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:a,options:l}=t;r=await J(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:cm})}else if("phone"in t){const{phone:i,password:a,options:l}=t;r=await J(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:cm})}else throw new so("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new no}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(K(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,i,a,l,u,c,d,h,f,y;let g,x;if("message"in t)g=t.message,x=t.signature;else{const{chain:j,wallet:v,statement:m,options:p}=t;let b;if(Ft())if(typeof v=="object")b=v;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))b=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=v}const N=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in b&&b.signIn){const C=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),m?{statement:m}:null));let P;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")P=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)P=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)g=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),x=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${N.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(s=(n=p==null?void 0:p.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=p==null?void 0:p.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((a=p==null?void 0:p.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((u=p==null?void 0:p.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((c=p==null?void 0:p.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((h=(d=p==null?void 0:p.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...p.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const C=await b.signMessage(new TextEncoder().encode(g),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=C}}try{const{data:j,error:v}=await J(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:lj(x)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:fr});if(v)throw v;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new no}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:v})}catch(j){if(K(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(t){const r=await Nn(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:a}=await J(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:fr});if(await Dr(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new no}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(K(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=t,l=await J(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:fr}),{data:u,error:c}=l;return c?{data:{user:null,session:null},error:c}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new no}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:c})}catch(r){if(K(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,a;try{if("email"in t){const{email:l,options:u}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await cs(this.storage,this.storageKey));const{error:h}=await J(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:u}=t,{data:c,error:d}=await J(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(a=u==null?void 0:u.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new so("You must provide either an email or phone number.")}catch(l){if(K(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await J(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:fr});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const u=a.session,c=a.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(s){if(K(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await cs(this.storage,this.storageKey)),await J(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:Cj})}catch(i){if(K(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new $r;const{error:s}=await J(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(K(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:a}=await J(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:a,error:l}=await J(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new so("You must provide either an email or phone number and a type")}catch(r){if(K(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Nn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<vu:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await Nn(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=_u()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(u,c,d)=>(!a&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,c,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await J(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:qr}):await this._useSession(async r=>{var n,s,i;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $r}:await J(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:qr})})}catch(r){if(K(r))return ej(r)&&(await this._removeSession(),await Dr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new $r;const a=s.session;let l=null,u=null;this.flowType==="pkce"&&t.email!=null&&([l,u]=await cs(this.storage,this.storageKey));const{data:c,error:d}=await J(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:u}),jwt:a.access_token,xform:qr});if(d)throw d;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new $r;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=wu(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{session:l,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:u}=await this._getUser(t.access_token);if(u)throw u;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(K(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:l}=r;if(l)throw l;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new $r;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(K(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Ft())throw new io("No browser detected.");if(t.error||t.error_description||t.error_code)throw new io(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new nm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new io("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new nm("No code detected.");const{data:m,error:p}=await this._exchangeCodeForSession(t.code);if(p)throw p;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:l,expires_at:u,token_type:c}=t;if(!i||!l||!a||!c)throw new io("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;u&&(f=parseInt(u));const y=f-d;y*1e3<=gs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${h}s`);const g=f-h;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,d);const{data:x,error:j}=await this._getUser(i);if(j)throw j;const v={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:a,token_type:c,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(n){if(K(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Nn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(Zb(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Dr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=cj(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await cs(this.storage,this.storageKey,!0));try{return await J(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(K(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,l,u,c,d;const{data:h,error:f}=i;if(f)throw f;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await J(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Ft()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(K(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await J(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(K(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await mj(async s=>(s>0&&await fj(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await J(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:fr})),(s,i)=>{const a=200*Math.pow(2,s);return i&&xu(i)&&Date.now()+a-n<gs})}catch(n){if(this._debug(r,"error",n),K(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ft()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Nn(this.storage,this.storageKey);if(s&&this.userStorage){let a=await Nn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await ys(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:_u()}else if(s&&!s.user&&!s.user){const a=await Nn(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await Dr(this.storage,this.storageKey+"-user"),await ys(this.storage,this.storageKey,s)):s.user=_u()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<vu;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${vu}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),xu(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(s.access_token);!l&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new $r;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Al;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new $r;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),K(i)){const a={session:null,error:i};return xu(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(u){i.push(u)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ys(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=lm(s);await ys(this.storage,this.storageKey,i)}else{const s=lm(r);await ys(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Dr(this.storage,this.storageKey),await Dr(this.storage,this.storageKey+"-code-verifier"),await Dr(this.storage,this.storageKey+"-user"),this.userStorage&&await Dr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ft()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),gs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/gs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${gs}ms, refresh threshold is ${Vc} ticks`),s<=Vc&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof e0)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ft()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await cs(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await J(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(K(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:u,error:c}=await J(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(r){if(K(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:a,error:l}=await J(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(r){if(K(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await J(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(K(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=wu(s.access_token);let l=null;a.aal&&(l=a.aal);let u=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const d=a.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+Jb>s)return n;const{data:i,error:a}=await J(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:y,error:g}=await this.getSession();if(g||!y.session)return{data:null,error:g};n=y.session.access_token}const{header:s,payload:i,signature:a,raw:{header:l,payload:u}}=wu(n);r!=null&&r.allowExpired||_j(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:i,header:s,signature:a},error:null}}const d=bj(s.alg),h=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,oj(`${l}.${u}`)))throw new Qc("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}}}ha.nextInstanceID=0;const Fj=ha;class Ij extends Fj{constructor(t){super(t)}}var Uj=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(e,t||[])).next())})};class Bj{constructor(t,r,n){var s,i,a;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=Wb(t),u=new URL(l);this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const c=`sb-${u.hostname.split(".")[0]}-auth-token`,d={db:$b,realtime:Ib,auth:Object.assign(Object.assign({},Fb),{storageKey:c}),global:Mb},h=Hb(n??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=h.auth)!==null&&a!==void 0?a:{},this.headers,h.global.fetch),this.fetch=qb(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new nb(new URL("rest/v1",u).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new Ab(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new A1(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return Uj(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:a,lock:l,debug:u},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ij({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),c),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:a,lock:l,debug:u,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new wb(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const zj=(e,t,r)=>new Bj(e,t,r);function qj(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}qj()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Vj="https://ksqungutcoewsiykigpr.supabase.co",Wj="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtzcXVuZ3V0Y29ld3NpeWtpZ3ByIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ4NjU5NzcsImV4cCI6MjA3MDQ0MTk3N30.x38t-k-i7X8PTIjjWu9Iy2qb0hKpoyhia8N-z7r47GQ",B=zj(Vj,Wj,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},realtime:{params:{eventsPerSecond:10}}}),t0=S.createContext(void 0);function Hj({children:e}){const[t,r]=S.useState(null),[n,s]=S.useState(null),[i,a]=S.useState(!0);S.useEffect(()=>{B.auth.getSession().then(({data:{session:g}})=>{s(g),r((g==null?void 0:g.user)??null),a(!1)});const{data:{subscription:y}}=B.auth.onAuthStateChange((g,x)=>{s(x),r((x==null?void 0:x.user)??null),a(!1)});return()=>y.unsubscribe()},[]);const f={user:t,session:n,loading:i,signUp:async(y,g,x)=>{const{error:j}=await B.auth.signUp({email:y,password:g,options:{data:{display_name:x}}});if(j)throw j},signIn:async(y,g)=>{const{error:x}=await B.auth.signInWithPassword({email:y,password:g});if(x)throw x},signOut:async()=>{const{error:y}=await B.auth.signOut();if(y)throw y},resetPassword:async y=>{const{error:g}=await B.auth.resetPasswordForEmail(y,{redirectTo:`${window.location.origin}/reset-password`});if(g)throw g},updatePassword:async y=>{const{error:g}=await B.auth.updateUser({password:y});if(g)throw g}};return o.jsx(t0.Provider,{value:f,children:e})}function Oe(){const e=S.useContext(t0);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function Qj(){const{user:e,loading:t}=Oe();return t?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):e?o.jsx(Qw,{}):o.jsx(my,{to:"/login",replace:!0})}var Ra=e=>e.type==="checkbox",Mn=e=>e instanceof Date,rt=e=>e==null;const r0=e=>typeof e=="object";var Ne=e=>!rt(e)&&!Array.isArray(e)&&r0(e)&&!Mn(e),Kj=e=>Ne(e)&&e.target?Ra(e.target)?e.target.checked:e.target.value:e,Yj=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Gj=(e,t)=>e.has(Yj(t)),Jj=e=>{const t=e.constructor&&e.constructor.prototype;return Ne(t)&&t.hasOwnProperty("isPrototypeOf")},sh=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Fe(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(sh&&(e instanceof Blob||n))&&(r||Ne(e)))if(t=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!Jj(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=Fe(e[s]));else return e;return t}var Dl=e=>/^\w*$/.test(e),Pe=e=>e===void 0,ih=e=>Array.isArray(e)?e.filter(Boolean):[],ah=e=>ih(e.replace(/["|']|\]/g,"").split(/\.|\[/)),I=(e,t,r)=>{if(!t||!Ne(e))return r;const n=(Dl(t)?[t]:ah(t)).reduce((s,i)=>rt(s)?s:s[i],e);return Pe(n)||n===e?Pe(e[t])?r:e[t]:n},Zt=e=>typeof e=="boolean",ge=(e,t,r)=>{let n=-1;const s=Dl(t)?[t]:ah(t),i=s.length,a=i-1;for(;++n<i;){const l=s[n];let u=r;if(n!==a){const c=e[l];u=Ne(c)||Array.isArray(c)?c:isNaN(+s[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=u,e=e[l]}};const fm={BLUR:"blur",FOCUS_OUT:"focusout"},Wt={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},dr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Xj=ct.createContext(null);Xj.displayName="HookFormContext";var Zj=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const a=i;return t._proxyFormState[a]!==Wt.all&&(t._proxyFormState[a]=!n||Wt.all),e[a]}});return s};const eS=typeof window<"u"?ct.useLayoutEffect:ct.useEffect;var sr=e=>typeof e=="string",tS=(e,t,r,n,s)=>sr(e)?(n&&t.watch.add(e),I(r,e,s)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),I(r,i))):(n&&(t.watchAll=!0),r),Kc=e=>rt(e)||!r0(e);function Vr(e,t,r=new WeakSet){if(Kc(e)||Kc(t))return e===t;if(Mn(e)&&Mn(t))return e.getTime()===t.getTime();const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const a=e[i];if(!s.includes(i))return!1;if(i!=="ref"){const l=t[i];if(Mn(a)&&Mn(l)||Ne(a)&&Ne(l)||Array.isArray(a)&&Array.isArray(l)?!Vr(a,l,r):a!==l)return!1}}return!0}var rS=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},qi=e=>Array.isArray(e)?e:[e],mm=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}},dt=e=>Ne(e)&&!Object.keys(e).length,oh=e=>e.type==="file",Ht=e=>typeof e=="function",el=e=>{if(!sh)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},n0=e=>e.type==="select-multiple",lh=e=>e.type==="radio",nS=e=>lh(e)||Ra(e),ju=e=>el(e)&&e.isConnected;function sS(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Pe(e)?n++:e[t[n++]];return e}function iS(e){for(const t in e)if(e.hasOwnProperty(t)&&!Pe(e[t]))return!1;return!0}function Ce(e,t){const r=Array.isArray(t)?t:Dl(t)?[t]:ah(t),n=r.length===1?e:sS(e,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(Ne(n)&&dt(n)||Array.isArray(n)&&iS(n))&&Ce(e,r.slice(0,-1)),e}var s0=e=>{for(const t in e)if(Ht(e[t]))return!0;return!1};function tl(e,t={}){const r=Array.isArray(e);if(Ne(e)||r)for(const n in e)Array.isArray(e[n])||Ne(e[n])&&!s0(e[n])?(t[n]=Array.isArray(e[n])?[]:{},tl(e[n],t[n])):rt(e[n])||(t[n]=!0);return t}function i0(e,t,r){const n=Array.isArray(e);if(Ne(e)||n)for(const s in e)Array.isArray(e[s])||Ne(e[s])&&!s0(e[s])?Pe(t)||Kc(r[s])?r[s]=Array.isArray(e[s])?tl(e[s],[]):{...tl(e[s])}:i0(e[s],rt(t)?{}:t[s],r[s]):r[s]=!Vr(e[s],t[s]);return r}var wi=(e,t)=>i0(e,t,tl(t));const pm={value:!1,isValid:!1},gm={value:!0,isValid:!0};var a0=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Pe(e[0].attributes.value)?Pe(e[0].value)||e[0].value===""?gm:{value:e[0].value,isValid:!0}:gm:pm}return pm},o0=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Pe(e)?e:t?e===""?NaN:e&&+e:r&&sr(e)?new Date(e):n?n(e):e;const ym={isValid:!1,value:null};var l0=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,ym):ym;function vm(e){const t=e.ref;return oh(t)?t.files:lh(t)?l0(e.refs).value:n0(t)?[...t.selectedOptions].map(({value:r})=>r):Ra(t)?a0(e.refs).value:o0(Pe(t.value)?e.ref.value:t.value,e)}var aS=(e,t,r,n)=>{const s={};for(const i of e){const a=I(t,i);a&&ge(s,i,a._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},rl=e=>e instanceof RegExp,_i=e=>Pe(e)?e:rl(e)?e.source:Ne(e)?rl(e.value)?e.value.source:e.value:e,xm=e=>({isOnSubmit:!e||e===Wt.onSubmit,isOnBlur:e===Wt.onBlur,isOnChange:e===Wt.onChange,isOnAll:e===Wt.all,isOnTouch:e===Wt.onTouched});const wm="AsyncFunction";var oS=e=>!!e&&!!e.validate&&!!(Ht(e.validate)&&e.validate.constructor.name===wm||Ne(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===wm)),lS=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),_m=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Vi=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const i=I(e,s);if(i){const{_f:a,...l}=i;if(a){if(a.refs&&a.refs[0]&&t(a.refs[0],s)&&!n)return!0;if(a.ref&&t(a.ref,a.name)&&!n)return!0;if(Vi(l,t))break}else if(Ne(l)&&Vi(l,t))break}}};function bm(e,t,r){const n=I(e,r);if(n||Dl(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),a=I(t,i),l=I(e,i);if(a&&!Array.isArray(a)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};s.pop()}return{name:r}}var uS=(e,t,r,n)=>{r(e);const{name:s,...i}=e;return dt(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(a=>t[a]===(!n||Wt.all))},cS=(e,t,r)=>!e||!t||e===t||qi(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),dS=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,hS=(e,t)=>!ih(I(e,t)).length&&Ce(e,t),fS=(e,t,r)=>{const n=qi(I(e,r));return ge(n,"root",t[r]),ge(e,r,n),e},bo=e=>sr(e);function jm(e,t,r="validate"){if(bo(e)||Array.isArray(e)&&e.every(bo)||Zt(e)&&!e)return{type:r,message:bo(e)?e:"",ref:t}}var ms=e=>Ne(e)&&!rl(e)?e:{value:e,message:""},Sm=async(e,t,r,n,s,i)=>{const{ref:a,refs:l,required:u,maxLength:c,minLength:d,min:h,max:f,pattern:y,validate:g,name:x,valueAsNumber:j,mount:v}=e._f,m=I(r,x);if(!v||t.has(x))return{};const p=l?l[0]:a,b=H=>{s&&p.reportValidity&&(p.setCustomValidity(Zt(H)?"":H||""),p.reportValidity())},N={},C=lh(a),P=Ra(a),R=C||P,U=(j||oh(a))&&Pe(a.value)&&Pe(m)||el(a)&&a.value===""||m===""||Array.isArray(m)&&!m.length,D=rS.bind(null,x,n,N),Z=(H,Y,ue,Re=dr.maxLength,Ee=dr.minLength)=>{const We=H?Y:ue;N[x]={type:H?Re:Ee,message:We,ref:a,...D(H?Re:Ee,We)}};if(i?!Array.isArray(m)||!m.length:u&&(!R&&(U||rt(m))||Zt(m)&&!m||P&&!a0(l).isValid||C&&!l0(l).isValid)){const{value:H,message:Y}=bo(u)?{value:!!u,message:u}:ms(u);if(H&&(N[x]={type:dr.required,message:Y,ref:p,...D(dr.required,Y)},!n))return b(Y),N}if(!U&&(!rt(h)||!rt(f))){let H,Y;const ue=ms(f),Re=ms(h);if(!rt(m)&&!isNaN(m)){const Ee=a.valueAsNumber||m&&+m;rt(ue.value)||(H=Ee>ue.value),rt(Re.value)||(Y=Ee<Re.value)}else{const Ee=a.valueAsDate||new Date(m),We=Q=>new Date(new Date().toDateString()+" "+Q),L=a.type=="time",z=a.type=="week";sr(ue.value)&&m&&(H=L?We(m)>We(ue.value):z?m>ue.value:Ee>new Date(ue.value)),sr(Re.value)&&m&&(Y=L?We(m)<We(Re.value):z?m<Re.value:Ee<new Date(Re.value))}if((H||Y)&&(Z(!!H,ue.message,Re.message,dr.max,dr.min),!n))return b(N[x].message),N}if((c||d)&&!U&&(sr(m)||i&&Array.isArray(m))){const H=ms(c),Y=ms(d),ue=!rt(H.value)&&m.length>+H.value,Re=!rt(Y.value)&&m.length<+Y.value;if((ue||Re)&&(Z(ue,H.message,Y.message),!n))return b(N[x].message),N}if(y&&!U&&sr(m)){const{value:H,message:Y}=ms(y);if(rl(H)&&!m.match(H)&&(N[x]={type:dr.pattern,message:Y,ref:a,...D(dr.pattern,Y)},!n))return b(Y),N}if(g){if(Ht(g)){const H=await g(m,r),Y=jm(H,p);if(Y&&(N[x]={...Y,...D(dr.validate,Y.message)},!n))return b(Y.message),N}else if(Ne(g)){let H={};for(const Y in g){if(!dt(H)&&!n)break;const ue=jm(await g[Y](m,r),p,Y);ue&&(H={...ue,...D(Y,ue.message)},b(ue.message),n&&(N[x]=H))}if(!dt(H)&&(N[x]={ref:p,...H},!n))return N}}return b(!0),N};const mS={mode:Wt.onSubmit,reValidateMode:Wt.onChange,shouldFocusError:!0};function pS(e={}){let t={...mS,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ht(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=Ne(t.defaultValues)||Ne(t.values)?Fe(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Fe(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...d};const f={array:mm(),state:mm()},y=t.criteriaMode===Wt.all,g=_=>k=>{clearTimeout(c),c=setTimeout(_,k)},x=async _=>{if(!t.disabled&&(d.isValid||h.isValid||_)){const k=t.resolver?dt((await P()).errors):await U(n,!0);k!==r.isValid&&f.state.next({isValid:k})}},j=(_,k)=>{!t.disabled&&(d.isValidating||d.validatingFields||h.isValidating||h.validatingFields)&&((_||Array.from(l.mount)).forEach(E=>{E&&(k?ge(r.validatingFields,E,k):Ce(r.validatingFields,E))}),f.state.next({validatingFields:r.validatingFields,isValidating:!dt(r.validatingFields)}))},v=(_,k=[],E,$,A=!0,O=!0)=>{if($&&E&&!t.disabled){if(a.action=!0,O&&Array.isArray(I(n,_))){const q=E(I(n,_),$.argA,$.argB);A&&ge(n,_,q)}if(O&&Array.isArray(I(r.errors,_))){const q=E(I(r.errors,_),$.argA,$.argB);A&&ge(r.errors,_,q),hS(r.errors,_)}if((d.touchedFields||h.touchedFields)&&O&&Array.isArray(I(r.touchedFields,_))){const q=E(I(r.touchedFields,_),$.argA,$.argB);A&&ge(r.touchedFields,_,q)}(d.dirtyFields||h.dirtyFields)&&(r.dirtyFields=wi(s,i)),f.state.next({name:_,isDirty:Z(_,k),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else ge(i,_,k)},m=(_,k)=>{ge(r.errors,_,k),f.state.next({errors:r.errors})},p=_=>{r.errors=_,f.state.next({errors:r.errors,isValid:!1})},b=(_,k,E,$)=>{const A=I(n,_);if(A){const O=I(i,_,Pe(E)?I(s,_):E);Pe(O)||$&&$.defaultChecked||k?ge(i,_,k?O:vm(A._f)):ue(_,O),a.mount&&x()}},N=(_,k,E,$,A)=>{let O=!1,q=!1;const se={name:_};if(!t.disabled){if(!E||$){(d.isDirty||h.isDirty)&&(q=r.isDirty,r.isDirty=se.isDirty=Z(),O=q!==se.isDirty);const ce=Vr(I(s,_),k);q=!!I(r.dirtyFields,_),ce?Ce(r.dirtyFields,_):ge(r.dirtyFields,_,!0),se.dirtyFields=r.dirtyFields,O=O||(d.dirtyFields||h.dirtyFields)&&q!==!ce}if(E){const ce=I(r.touchedFields,_);ce||(ge(r.touchedFields,_,E),se.touchedFields=r.touchedFields,O=O||(d.touchedFields||h.touchedFields)&&ce!==E)}O&&A&&f.state.next(se)}return O?se:{}},C=(_,k,E,$)=>{const A=I(r.errors,_),O=(d.isValid||h.isValid)&&Zt(k)&&r.isValid!==k;if(t.delayError&&E?(u=g(()=>m(_,E)),u(t.delayError)):(clearTimeout(c),u=null,E?ge(r.errors,_,E):Ce(r.errors,_)),(E?!Vr(A,E):A)||!dt($)||O){const q={...$,...O&&Zt(k)?{isValid:k}:{},errors:r.errors,name:_};r={...r,...q},f.state.next(q)}},P=async _=>{j(_,!0);const k=await t.resolver(i,t.context,aS(_||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return j(_),k},R=async _=>{const{errors:k}=await P(_);if(_)for(const E of _){const $=I(k,E);$?ge(r.errors,E,$):Ce(r.errors,E)}else r.errors=k;return k},U=async(_,k,E={valid:!0})=>{for(const $ in _){const A=_[$];if(A){const{_f:O,...q}=A;if(O){const se=l.array.has(O.name),ce=A._f&&oS(A._f);ce&&d.validatingFields&&j([$],!0);const Et=await Sm(A,l.disabled,i,y,t.shouldUseNativeValidation&&!k,se);if(ce&&d.validatingFields&&j([$]),Et[O.name]&&(E.valid=!1,k))break;!k&&(I(Et,O.name)?se?fS(r.errors,Et,O.name):ge(r.errors,O.name,Et[O.name]):Ce(r.errors,O.name))}!dt(q)&&await U(q,k,E)}}return E.valid},D=()=>{for(const _ of l.unMount){const k=I(n,_);k&&(k._f.refs?k._f.refs.every(E=>!ju(E)):!ju(k._f.ref))&&Or(_)}l.unMount=new Set},Z=(_,k)=>!t.disabled&&(_&&k&&ge(i,_,k),!Vr(Q(),s)),H=(_,k,E)=>tS(_,l,{...a.mount?i:Pe(k)?s:sr(_)?{[_]:k}:k},E,k),Y=_=>ih(I(a.mount?i:s,_,t.shouldUnregister?I(s,_,[]):[])),ue=(_,k,E={})=>{const $=I(n,_);let A=k;if($){const O=$._f;O&&(!O.disabled&&ge(i,_,o0(k,O)),A=el(O.ref)&&rt(k)?"":k,n0(O.ref)?[...O.ref.options].forEach(q=>q.selected=A.includes(q.value)):O.refs?Ra(O.ref)?O.refs.forEach(q=>{(!q.defaultChecked||!q.disabled)&&(Array.isArray(A)?q.checked=!!A.find(se=>se===q.value):q.checked=A===q.value||!!A)}):O.refs.forEach(q=>q.checked=q.value===A):oh(O.ref)?O.ref.value="":(O.ref.value=A,O.ref.type||f.state.next({name:_,values:Fe(i)})))}(E.shouldDirty||E.shouldTouch)&&N(_,A,E.shouldTouch,E.shouldDirty,!0),E.shouldValidate&&z(_)},Re=(_,k,E)=>{for(const $ in k){if(!k.hasOwnProperty($))return;const A=k[$],O=_+"."+$,q=I(n,O);(l.array.has(_)||Ne(A)||q&&!q._f)&&!Mn(A)?Re(O,A,E):ue(O,A,E)}},Ee=(_,k,E={})=>{const $=I(n,_),A=l.array.has(_),O=Fe(k);ge(i,_,O),A?(f.array.next({name:_,values:Fe(i)}),(d.isDirty||d.dirtyFields||h.isDirty||h.dirtyFields)&&E.shouldDirty&&f.state.next({name:_,dirtyFields:wi(s,i),isDirty:Z(_,O)})):$&&!$._f&&!rt(O)?Re(_,O,E):ue(_,O,E),_m(_,l)&&f.state.next({...r,name:_}),f.state.next({name:a.mount?_:void 0,values:Fe(i)})},We=async _=>{a.mount=!0;const k=_.target;let E=k.name,$=!0;const A=I(n,E),O=ce=>{$=Number.isNaN(ce)||Mn(ce)&&isNaN(ce.getTime())||Vr(ce,I(i,E,ce))},q=xm(t.mode),se=xm(t.reValidateMode);if(A){let ce,Et;const La=k.type?vm(A._f):Kj(_),Rr=_.type===fm.BLUR||_.type===fm.FOCUS_OUT,j0=!lS(A._f)&&!t.resolver&&!I(r.errors,E)&&!A._f.deps||dS(Rr,I(r.touchedFields,E),r.isSubmitted,se,q),Il=_m(E,l,Rr);ge(i,E,La),Rr?(!k||!k.readOnly)&&(A._f.onBlur&&A._f.onBlur(_),u&&u(0)):A._f.onChange&&A._f.onChange(_);const Ul=N(E,La,Rr),S0=!dt(Ul)||Il;if(!Rr&&f.state.next({name:E,type:_.type,values:Fe(i)}),j0)return(d.isValid||h.isValid)&&(t.mode==="onBlur"?Rr&&x():Rr||x()),S0&&f.state.next({name:E,...Il?{}:Ul});if(!Rr&&Il&&f.state.next({...r}),t.resolver){const{errors:vh}=await P([E]);if(O(La),$){const k0=bm(r.errors,n,E),xh=bm(vh,n,k0.name||E);ce=xh.error,E=xh.name,Et=dt(vh)}}else j([E],!0),ce=(await Sm(A,l.disabled,i,y,t.shouldUseNativeValidation))[E],j([E]),O(La),$&&(ce?Et=!1:(d.isValid||h.isValid)&&(Et=await U(n,!0)));$&&(A._f.deps&&z(A._f.deps),C(E,Et,ce,Ul))}},L=(_,k)=>{if(I(r.errors,k)&&_.focus)return _.focus(),1},z=async(_,k={})=>{let E,$;const A=qi(_);if(t.resolver){const O=await R(Pe(_)?_:A);E=dt(O),$=_?!A.some(q=>I(O,q)):E}else _?($=(await Promise.all(A.map(async O=>{const q=I(n,O);return await U(q&&q._f?{[O]:q}:q)}))).every(Boolean),!(!$&&!r.isValid)&&x()):$=E=await U(n);return f.state.next({...!sr(_)||(d.isValid||h.isValid)&&E!==r.isValid?{}:{name:_},...t.resolver||!_?{isValid:E}:{},errors:r.errors}),k.shouldFocus&&!$&&Vi(n,L,_?A:l.mount),$},Q=_=>{const k={...a.mount?i:s};return Pe(_)?k:sr(_)?I(k,_):_.map(E=>I(k,E))},oe=(_,k)=>({invalid:!!I((k||r).errors,_),isDirty:!!I((k||r).dirtyFields,_),error:I((k||r).errors,_),isValidating:!!I(r.validatingFields,_),isTouched:!!I((k||r).touchedFields,_)}),ve=_=>{_&&qi(_).forEach(k=>Ce(r.errors,k)),f.state.next({errors:_?r.errors:{}})},lr=(_,k,E)=>{const $=(I(n,_,{_f:{}})._f||{}).ref,A=I(r.errors,_)||{},{ref:O,message:q,type:se,...ce}=A;ge(r.errors,_,{...ce,...k,ref:$}),f.state.next({name:_,errors:r.errors,isValid:!1}),E&&E.shouldFocus&&$&&$.focus&&$.focus()},Nt=(_,k)=>Ht(_)?f.state.subscribe({next:E=>"values"in E&&_(H(void 0,k),E)}):H(_,k,!0),os=_=>f.state.subscribe({next:k=>{cS(_.name,k.name,_.exact)&&uS(k,_.formState||d,b0,_.reRenderRoot)&&_.callback({values:{...i},...r,...k,defaultValues:s})}}).unsubscribe,ur=_=>(a.mount=!0,h={...h,..._.formState},os({..._,formState:h})),Or=(_,k={})=>{for(const E of _?qi(_):l.mount)l.mount.delete(E),l.array.delete(E),k.keepValue||(Ce(n,E),Ce(i,E)),!k.keepError&&Ce(r.errors,E),!k.keepDirty&&Ce(r.dirtyFields,E),!k.keepTouched&&Ce(r.touchedFields,E),!k.keepIsValidating&&Ce(r.validatingFields,E),!t.shouldUnregister&&!k.keepDefaultValue&&Ce(s,E);f.state.next({values:Fe(i)}),f.state.next({...r,...k.keepDirty?{isDirty:Z()}:{}}),!k.keepIsValid&&x()},fh=({disabled:_,name:k})=>{(Zt(_)&&a.mount||_||l.disabled.has(k))&&(_?l.disabled.add(k):l.disabled.delete(k))},$l=(_,k={})=>{let E=I(n,_);const $=Zt(k.disabled)||Zt(t.disabled);return ge(n,_,{...E||{},_f:{...E&&E._f?E._f:{ref:{name:_}},name:_,mount:!0,...k}}),l.mount.add(_),E?fh({disabled:Zt(k.disabled)?k.disabled:t.disabled,name:_}):b(_,!0,k.value),{...$?{disabled:k.disabled||t.disabled}:{},...t.progressive?{required:!!k.required,min:_i(k.min),max:_i(k.max),minLength:_i(k.minLength),maxLength:_i(k.maxLength),pattern:_i(k.pattern)}:{},name:_,onChange:We,onBlur:We,ref:A=>{if(A){$l(_,k),E=I(n,_);const O=Pe(A.value)&&A.querySelectorAll&&A.querySelectorAll("input,select,textarea")[0]||A,q=nS(O),se=E._f.refs||[];if(q?se.find(ce=>ce===O):O===E._f.ref)return;ge(n,_,{_f:{...E._f,...q?{refs:[...se.filter(ju),O,...Array.isArray(I(s,_))?[{}]:[]],ref:{type:O.type,name:_}}:{ref:O}}}),b(_,!1,void 0,O)}else E=I(n,_,{}),E._f&&(E._f.mount=!1),(t.shouldUnregister||k.shouldUnregister)&&!(Gj(l.array,_)&&a.action)&&l.unMount.add(_)}}},Fl=()=>t.shouldFocusError&&Vi(n,L,l.mount),x0=_=>{Zt(_)&&(f.state.next({disabled:_}),Vi(n,(k,E)=>{const $=I(n,E);$&&(k.disabled=$._f.disabled||_,Array.isArray($._f.refs)&&$._f.refs.forEach(A=>{A.disabled=$._f.disabled||_}))},0,!1))},mh=(_,k)=>async E=>{let $;E&&(E.preventDefault&&E.preventDefault(),E.persist&&E.persist());let A=Fe(i);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:O,values:q}=await P();r.errors=O,A=Fe(q)}else await U(n);if(l.disabled.size)for(const O of l.disabled)Ce(A,O);if(Ce(r.errors,"root"),dt(r.errors)){f.state.next({errors:{}});try{await _(A,E)}catch(O){$=O}}else k&&await k({...r.errors},E),Fl(),setTimeout(Fl);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:dt(r.errors)&&!$,submitCount:r.submitCount+1,errors:r.errors}),$)throw $},w0=(_,k={})=>{I(n,_)&&(Pe(k.defaultValue)?Ee(_,Fe(I(s,_))):(Ee(_,k.defaultValue),ge(s,_,Fe(k.defaultValue))),k.keepTouched||Ce(r.touchedFields,_),k.keepDirty||(Ce(r.dirtyFields,_),r.isDirty=k.defaultValue?Z(_,Fe(I(s,_))):Z()),k.keepError||(Ce(r.errors,_),d.isValid&&x()),f.state.next({...r}))},ph=(_,k={})=>{const E=_?Fe(_):s,$=Fe(E),A=dt(_),O=A?s:$;if(k.keepDefaultValues||(s=E),!k.keepValues){if(k.keepDirtyValues){const q=new Set([...l.mount,...Object.keys(wi(s,i))]);for(const se of Array.from(q))I(r.dirtyFields,se)?ge(O,se,I(i,se)):Ee(se,I(O,se))}else{if(sh&&Pe(_))for(const q of l.mount){const se=I(n,q);if(se&&se._f){const ce=Array.isArray(se._f.refs)?se._f.refs[0]:se._f.ref;if(el(ce)){const Et=ce.closest("form");if(Et){Et.reset();break}}}}if(k.keepFieldsRef)for(const q of l.mount)Ee(q,I(O,q));else n={}}i=t.shouldUnregister?k.keepDefaultValues?Fe(s):{}:Fe(O),f.array.next({values:{...O}}),f.state.next({values:{...O}})}l={mount:k.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!d.isValid||!!k.keepIsValid||!!k.keepDirtyValues,a.watch=!!t.shouldUnregister,f.state.next({submitCount:k.keepSubmitCount?r.submitCount:0,isDirty:A?!1:k.keepDirty?r.isDirty:!!(k.keepDefaultValues&&!Vr(_,s)),isSubmitted:k.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:A?{}:k.keepDirtyValues?k.keepDefaultValues&&i?wi(s,i):r.dirtyFields:k.keepDefaultValues&&_?wi(s,_):k.keepDirty?r.dirtyFields:{},touchedFields:k.keepTouched?r.touchedFields:{},errors:k.keepErrors?r.errors:{},isSubmitSuccessful:k.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},gh=(_,k)=>ph(Ht(_)?_(i):_,k),_0=(_,k={})=>{const E=I(n,_),$=E&&E._f;if($){const A=$.refs?$.refs[0]:$.ref;A.focus&&(A.focus(),k.shouldSelect&&Ht(A.select)&&A.select())}},b0=_=>{r={...r,..._}},yh={control:{register:$l,unregister:Or,getFieldState:oe,handleSubmit:mh,setError:lr,_subscribe:os,_runSchema:P,_focusError:Fl,_getWatch:H,_getDirty:Z,_setValid:x,_setFieldArray:v,_setDisabledField:fh,_setErrors:p,_getFieldArray:Y,_reset:ph,_resetDefaultValues:()=>Ht(t.defaultValues)&&t.defaultValues().then(_=>{gh(_,t.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:D,_disableForm:x0,_subjects:f,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return a},set _state(_){a=_},get _defaultValues(){return s},get _names(){return l},set _names(_){l=_},get _formState(){return r},get _options(){return t},set _options(_){t={...t,..._}}},subscribe:ur,trigger:z,register:$l,handleSubmit:mh,watch:Nt,setValue:Ee,getValues:Q,reset:gh,resetField:w0,clearErrors:ve,unregister:Or,setError:lr,setFocus:_0,getFieldState:oe};return{...yh,formControl:yh}}function Pr(e={}){const t=ct.useRef(void 0),r=ct.useRef(void 0),[n,s]=ct.useState({isDirty:!1,isValidating:!1,isLoading:Ht(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Ht(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!Ht(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:a,...l}=pS(e);t.current={...l,formState:n}}const i=t.current.control;return i._options=e,eS(()=>{const a=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),i._formState.isReady=!0,a},[i]),ct.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),ct.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),ct.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),ct.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),ct.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==n.isDirty&&i._subjects.state.next({isDirty:a})}},[i,n.isDirty]),ct.useEffect(()=>{e.values&&!Vr(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=e.values,s(a=>({...a}))):i._resetDefaultValues()},[i,e.values]),ct.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=Zj(n,i),t.current}/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),u0=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=S.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:a,...l},u)=>S.createElement("svg",{ref:u,...yS,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:u0("lucide",s),...l},[...a.map(([c,d])=>S.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=(e,t)=>{const r=S.forwardRef(({className:n,...s},i)=>S.createElement(vS,{ref:i,iconNode:t,className:u0(`lucide-${gS(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=te("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=te("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=te("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=te("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=te("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=te("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=te("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=te("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=te("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ch=te("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=te("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=te("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=te("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=te("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=te("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=te("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=te("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=te("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=te("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=te("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ri=te("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=te("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=te("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=te("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=te("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Su=te("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ku=te("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=te("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=te("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=te("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=te("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=te("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=te("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=te("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);function PS(){const[e,t]=S.useState(!1),{signIn:r}=Oe(),n=Je(),{register:s,handleSubmit:i,formState:{errors:a}}=Pr(),l=async u=>{try{t(!0),await r(u.email,u.password),W.success("Welcome back!"),n("/dashboard")}catch(c){W.error(c.message||"Failed to sign in")}finally{t(!1)}};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 to-primary-100",children:o.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md",children:[o.jsx("div",{className:"flex items-center justify-center mb-8",children:o.jsx(fe,{className:"h-12 w-12 text-primary-600"})}),o.jsx("h2",{className:"text-3xl font-bold text-center mb-8 text-gray-900",children:"Welcome Back"}),o.jsxs("form",{onSubmit:i(l),className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),o.jsx("input",{...s("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),type:"email",className:"input-field",placeholder:"your@email.com"}),a.email&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.email.message})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),o.jsx("input",{...s("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),type:"password",className:"input-field",placeholder:""}),a.password&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.password.message})]}),o.jsx("button",{type:"submit",disabled:e,className:"w-full btn-primary",children:e?"Signing in...":"Sign In"})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsx(ca,{to:"/forgot-password",className:"text-sm text-primary-600 hover:text-primary-700",children:"Forgot your password?"})}),o.jsx("div",{className:"mt-6 text-center",children:o.jsxs("span",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",o.jsx(ca,{to:"/register",className:"text-primary-600 hover:text-primary-700 font-medium",children:"Sign up"})]})})]})})}function TS(){const[e,t]=S.useState(!1),{signUp:r}=Oe(),n=Je(),{register:s,handleSubmit:i,watch:a,formState:{errors:l}}=Pr(),u=a("password"),c=async d=>{try{t(!0),await r(d.email,d.password,d.displayName),W.success("Registration successful! Please check your email to verify your account before signing in."),n("/login")}catch(h){W.error(h.message||"Failed to sign up")}finally{t(!1)}};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 to-primary-100",children:o.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md",children:[o.jsx("div",{className:"flex items-center justify-center mb-8",children:o.jsx(fe,{className:"h-12 w-12 text-primary-600"})}),o.jsx("h2",{className:"text-3xl font-bold text-center mb-8 text-gray-900",children:"Create Your Account"}),o.jsxs("form",{onSubmit:i(c),className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Display Name"}),o.jsx("input",{...s("displayName",{required:"Display name is required",minLength:{value:2,message:"Display name must be at least 2 characters"}}),type:"text",className:"input-field",placeholder:"John Doe"}),l.displayName&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.displayName.message})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),o.jsx("input",{...s("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),type:"email",className:"input-field",placeholder:"your@email.com"}),l.email&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.email.message})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),o.jsx("input",{...s("password",{required:"Password is required",minLength:{value:8,message:"Password must be at least 8 characters"},pattern:{value:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]/,message:"Password must contain uppercase, lowercase, number and special character"}}),type:"password",className:"input-field",placeholder:""}),l.password&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.password.message})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),o.jsx("input",{...s("confirmPassword",{required:"Please confirm your password",validate:d=>d===u||"Passwords do not match"}),type:"password",className:"input-field",placeholder:""}),l.confirmPassword&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.confirmPassword.message})]}),o.jsx("button",{type:"submit",disabled:e,className:"w-full btn-primary",children:e?"Creating account...":"Sign Up"})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsxs("span",{className:"text-sm text-gray-600",children:["Already have an account?"," ",o.jsx(ca,{to:"/login",className:"text-primary-600 hover:text-primary-700 font-medium",children:"Sign in"})]})})]})})}function OS(){const[e,t]=S.useState(!1),[r,n]=S.useState(!1),{resetPassword:s}=Oe(),{register:i,handleSubmit:a,formState:{errors:l}}=Pr(),u=async c=>{try{t(!0),await s(c.email),n(!0),W.success("Password reset email sent! Please check your inbox.")}catch(d){W.error(d.message||"Failed to send reset email")}finally{t(!1)}};return r?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 to-primary-100",children:o.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md text-center",children:[o.jsx("div",{className:"flex items-center justify-center mb-8",children:o.jsx(fe,{className:"h-12 w-12 text-primary-600"})}),o.jsx("h2",{className:"text-3xl font-bold mb-4 text-gray-900",children:"Check Your Email"}),o.jsx("p",{className:"text-gray-600 mb-8",children:"We've sent a password reset link to your email address. Please check your inbox and follow the instructions."}),o.jsxs(ca,{to:"/login",className:"inline-flex items-center text-primary-600 hover:text-primary-700 font-medium",children:[o.jsx(Gt,{className:"w-4 h-4 mr-2"}),"Back to login"]})]})}):o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 to-primary-100",children:o.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md",children:[o.jsx("div",{className:"flex items-center justify-center mb-8",children:o.jsx(fe,{className:"h-12 w-12 text-primary-600"})}),o.jsx("h2",{className:"text-3xl font-bold text-center mb-4 text-gray-900",children:"Forgot Password?"}),o.jsx("p",{className:"text-center text-gray-600 mb-8",children:"No worries! Enter your email and we'll send you a reset link."}),o.jsxs("form",{onSubmit:a(u),className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),o.jsx("input",{...i("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),type:"email",className:"input-field",placeholder:"your@email.com"}),l.email&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.email.message})]}),o.jsx("button",{type:"submit",disabled:e,className:"w-full btn-primary",children:e?"Sending...":"Send Reset Link"})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsxs(ca,{to:"/login",className:"inline-flex items-center text-sm text-primary-600 hover:text-primary-700",children:[o.jsx(Gt,{className:"w-4 h-4 mr-2"}),"Back to login"]})})]})})}function RS(){const[e,t]=S.useState(!1),{updatePassword:r,session:n}=Oe(),s=Je(),{register:i,handleSubmit:a,watch:l,formState:{errors:u}}=Pr(),c=l("password");S.useEffect(()=>{n||s("/login")},[n,s]);const d=async h=>{try{t(!0),await r(h.password),W.success("Password updated successfully!"),s("/dashboard")}catch(f){W.error(f.message||"Failed to update password")}finally{t(!1)}};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 to-primary-100",children:o.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md",children:[o.jsx("div",{className:"flex items-center justify-center mb-8",children:o.jsx(fe,{className:"h-12 w-12 text-primary-600"})}),o.jsx("h2",{className:"text-3xl font-bold text-center mb-8 text-gray-900",children:"Reset Your Password"}),o.jsxs("form",{onSubmit:a(d),className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),o.jsx("input",{...i("password",{required:"Password is required",minLength:{value:8,message:"Password must be at least 8 characters"},pattern:{value:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]/,message:"Password must contain uppercase, lowercase, number and special character"}}),type:"password",className:"input-field",placeholder:""}),u.password&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.password.message})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),o.jsx("input",{...i("confirmPassword",{required:"Please confirm your password",validate:h=>h===c||"Passwords do not match"}),type:"password",className:"input-field",placeholder:""}),u.confirmPassword&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.confirmPassword.message})]}),o.jsx("button",{type:"submit",disabled:e,className:"w-full btn-primary",children:e?"Updating...":"Update Password"})]})]})})}function AS(){const[e,t]=S.useState("loading"),[r,n]=S.useState(""),s=Je(),{user:i}=Oe();return S.useEffect(()=>{const a=async()=>{try{const l=new URLSearchParams(window.location.hash.substring(1)),u=l.get("access_token"),c=l.get("refresh_token");if(l.get("type")==="signup"&&u&&c){const{error:h}=await B.auth.setSession({access_token:u,refresh_token:c});h?(console.error("Error setting session:",h),n(h.message),t("error")):(t("success"),setTimeout(()=>{s("/dashboard")},3e3))}else n("Invalid verification link"),t("error")}catch(l){console.error("Verification error:",l),n(l.message||"An unexpected error occurred"),t("error")}};window.location.hash?a():i?s("/dashboard"):(n("No verification parameters found"),t("error"))},[s,i]),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 to-primary-100",children:o.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md text-center",children:[o.jsx("div",{className:"flex items-center justify-center mb-8",children:o.jsx(fe,{className:"h-12 w-12 text-primary-600"})}),e==="loading"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),o.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-900",children:"Verifying Your Email"}),o.jsx("p",{className:"text-gray-600",children:"Please wait while we verify your email address..."})]}),e==="success"&&o.jsxs(o.Fragment,{children:[o.jsx(uh,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),o.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-900",children:"Email Verified!"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Your email has been successfully verified. You're now logged in and will be redirected to your dashboard."}),o.jsx("div",{className:"bg-green-50 rounded-lg p-4 mb-4",children:o.jsx("p",{className:"text-green-800 text-sm",children:" Welcome to Band Song Voter! You can now create or join bands and start suggesting songs."})}),o.jsx("button",{onClick:()=>s("/dashboard"),className:"btn-primary",children:"Go to Dashboard"})]}),e==="error"&&o.jsxs(o.Fragment,{children:[o.jsx(wS,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),o.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-900",children:"Verification Failed"}),o.jsx("p",{className:"text-gray-600 mb-4",children:r||"There was a problem verifying your email address."}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("button",{onClick:()=>s("/register"),className:"btn-primary w-full",children:"Try Signing Up Again"}),o.jsx("button",{onClick:()=>s("/login"),className:"btn-secondary w-full",children:"Back to Login"})]})]})]})})}function DS(){const{user:e}=Oe();return at({queryKey:["bands",e==null?void 0:e.id],queryFn:async()=>{const{data:t,error:r}=await B.from("band_members").select(`
          band_id,
          role,
          bands:band_id (
            id,
            name,
            invite_code,
            created_by,
            created_at
          )
        `).eq("user_id",e==null?void 0:e.id);if(r)throw r;return t.map(n=>({...n.bands,role:n.role}))},enabled:!!e})}function as(e){return at({queryKey:["band",e],queryFn:async()=>{const{data:t,error:r}=await B.from("bands").select(`
          *,
          band_members (
            count
          )
        `).eq("id",e).single();if(r)throw r;return{...t,member_count:t.band_members[0].count}},enabled:!!e})}function LS(e){return at({queryKey:["band-members",e],queryFn:async()=>{const{data:t,error:r}=await B.from("band_members").select(`
          *,
          user:user_id (
            display_name,
            email,
            avatar_url
          )
        `).eq("band_id",e).order("joined_at",{ascending:!0});if(r)throw r;return t},enabled:!!e})}function MS(){const e=St();return kt({mutationFn:async t=>{const{data:{session:r}}=await B.auth.getSession();if(!(r!=null&&r.user))throw new Error("You must be logged in to create a band");const{data:n,error:s}=await B.from("bands").insert({name:t,created_by:r.user.id}).select().single();if(s)throw s;const{error:i}=await B.from("band_members").insert({band_id:n.id,user_id:r.user.id,role:"admin"});if(i)throw i;return n},onSuccess:()=>{e.invalidateQueries({queryKey:["bands"]}),W.success("Band created successfully!")},onError:t=>{W.error(t.message||"Failed to create band")}})}function $S(){const e=St();return kt({mutationFn:async t=>{const{data:{session:r}}=await B.auth.getSession();if(!(r!=null&&r.user))throw new Error("You must be logged in to join a band");const{data:n,error:s}=await B.from("bands").select("id, name").eq("invite_code",t.toUpperCase()).single();if(s)throw new Error("Invalid invite code");const{data:i}=await B.from("band_members").select("id").eq("band_id",n.id).eq("user_id",r.user.id).single();if(i)throw new Error("You are already a member of this band");const{data:a}=await B.from("band_members").select("id",{count:"exact"}).eq("band_id",n.id);if(a&&a.length>=10)throw new Error("This band has reached the maximum number of members");const{error:l}=await B.from("band_members").insert({band_id:n.id,user_id:r.user.id,role:"member"});if(l)throw l;return n},onSuccess:t=>{e.invalidateQueries({queryKey:["bands"]}),W.success(`Successfully joined ${t.name}!`)},onError:t=>{W.error(t.message||"Failed to join band")}})}function dh(e){const{user:t}=Oe();return at({queryKey:["user-band-role",e,t==null?void 0:t.id],queryFn:async()=>{const{data:r,error:n}=await B.from("band_members").select("role").eq("band_id",e).eq("user_id",t==null?void 0:t.id).single();if(n)throw n;return r.role},enabled:!!e&&!!t})}function FS(){var l;const{user:e,signOut:t}=Oe(),r=Je(),{data:n,isLoading:s}=DS();S.useEffect(()=>{!s&&n&&n.length===0&&r("/band-setup")},[n,s,r]);const i=async()=>{try{await t(),W.success("Signed out successfully"),r("/login")}catch{W.error("Failed to sign out")}},a=u=>{r(`/band/${u}`)};return s?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx("header",{className:"bg-white shadow-sm",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between items-center h-16",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(fe,{className:"h-8 w-8 text-primary-600 mr-3"}),o.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Band Song Voter"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("span",{className:"text-sm text-gray-600",children:["Welcome, ",((l=e==null?void 0:e.user_metadata)==null?void 0:l.display_name)||(e==null?void 0:e.email)]}),o.jsx("button",{onClick:()=>r("/profile"),className:"text-gray-500 hover:text-gray-700",title:"Profile Settings",children:o.jsx(il,{className:"h-5 w-5"})}),o.jsx("button",{onClick:i,className:"text-gray-500 hover:text-gray-700",title:"Sign Out",children:o.jsx(SS,{className:"h-5 w-5"})})]})]})})}),o.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Your Bands"}),n&&n.length>0?o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.map(u=>o.jsxs("div",{onClick:()=>a(u.id),className:"card hover:shadow-lg transition-shadow cursor-pointer",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:u.name}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:u.role==="admin"?"Admin":"Member"})]}),o.jsx(pa,{className:"h-6 w-6 text-gray-400"})]}),o.jsx("div",{className:"mt-4",children:o.jsxs("p",{className:"text-xs text-gray-500",children:["Invite Code: ",o.jsx("span",{className:"font-mono font-semibold",children:u.invite_code})]})})]},u.id)),o.jsx("div",{onClick:()=>r("/band-setup"),className:"card border-2 border-dashed border-gray-300 hover:border-primary-400 hover:shadow-lg transition-all cursor-pointer flex items-center justify-center min-h-[150px]",children:o.jsxs("div",{className:"text-center",children:[o.jsx(ri,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),o.jsx("p",{className:"text-gray-600",children:"Create or Join Band"})]})})]}):o.jsxs("div",{className:"text-center py-12",children:[o.jsx(pa,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"You're not part of any bands yet"}),o.jsx("button",{onClick:()=>r("/band-setup"),className:"btn-primary",children:"Create or Join a Band"})]})]})})]})}function IS(){const[e,t]=S.useState("create"),r=Je(),n=MS(),s=$S(),{register:i,handleSubmit:a,formState:{errors:l}}=Pr(),{register:u,handleSubmit:c,formState:{errors:d}}=Pr(),h=async y=>{const g=await n.mutateAsync(y.name);r(`/band/${g.id}`)},f=async y=>{const g=await s.mutateAsync(y.inviteCode);r(`/band/${g.id}`)};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-primary-100",children:[o.jsx("header",{className:"bg-white shadow-sm",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsx("div",{className:"flex items-center h-16",children:o.jsxs("button",{onClick:()=>r("/dashboard"),className:"flex items-center text-gray-600 hover:text-gray-900",children:[o.jsx(Gt,{className:"h-5 w-5 mr-2"}),"Back to Dashboard"]})})})}),o.jsx("main",{className:"max-w-2xl mx-auto px-4 py-12",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[o.jsxs("div",{className:"flex items-center justify-center mb-8",children:[o.jsx(fe,{className:"h-12 w-12 text-primary-600 mr-3"}),o.jsx(pa,{className:"h-12 w-12 text-primary-600"})]}),o.jsx("h1",{className:"text-3xl font-bold text-center mb-8 text-gray-900",children:"Band Setup"}),o.jsxs("div",{className:"flex border-b border-gray-200 mb-8",children:[o.jsx("button",{onClick:()=>t("create"),className:`flex-1 py-3 text-center font-medium transition-colors ${e==="create"?"text-primary-600 border-b-2 border-primary-600":"text-gray-500 hover:text-gray-700"}`,children:"Create New Band"}),o.jsx("button",{onClick:()=>t("join"),className:`flex-1 py-3 text-center font-medium transition-colors ${e==="join"?"text-primary-600 border-b-2 border-primary-600":"text-gray-500 hover:text-gray-700"}`,children:"Join Existing Band"})]}),e==="create"?o.jsxs("form",{onSubmit:a(h),className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Band Name"}),o.jsx("input",{...i("name",{required:"Band name is required",minLength:{value:2,message:"Band name must be at least 2 characters"},maxLength:{value:50,message:"Band name must be less than 50 characters"}}),type:"text",className:"input-field",placeholder:"The Rolling Stones"}),l.name&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.name.message})]}),o.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:"Note:"})," You'll be the admin of this band. You can invite up to 9 other members using the invite code that will be generated."]})}),o.jsx("button",{type:"submit",disabled:n.isPending,className:"w-full btn-primary",children:n.isPending?"Creating...":"Create Band"})]}):o.jsxs("form",{onSubmit:c(f),className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"inviteCode",className:"block text-sm font-medium text-gray-700 mb-2",children:"Invite Code"}),o.jsx("input",{...u("inviteCode",{required:"Invite code is required",minLength:{value:8,message:"Invite code must be 8 characters"},maxLength:{value:8,message:"Invite code must be 8 characters"}}),type:"text",className:"input-field font-mono uppercase",placeholder:"ABC12345",maxLength:8}),d.inviteCode&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.inviteCode.message})]}),o.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:"Note:"})," Ask your band admin for the invite code. Once you join, you'll be able to suggest songs and vote on the band's repertoire."]})}),o.jsx("button",{type:"submit",disabled:s.isPending,className:"w-full btn-primary",children:s.isPending?"Joining...":"Join Band"})]})]})})]})}function h0(e,t){const{user:r}=Oe();return at({queryKey:["song-suggestions",e,t==null?void 0:t.sortBy,r==null?void 0:r.id],queryFn:async()=>{let n=B.from("song_suggestions").select(`
          *,
          suggested_by_user:profiles!song_suggestions_suggested_by_fkey (
            display_name,
            avatar_url
          ),
          votes:song_votes (
            id,
            voter_id
          )
        `).eq("band_id",e);switch(t==null?void 0:t.sortBy){case"alphabetical":n=n.order("title");break;case"newest":n=n.order("created_at",{ascending:!1});break;default:n=n.order("created_at",{ascending:!1})}const{data:s,error:i}=await n;if(i)throw i;return s.map(a=>{var l,u;return{...a,vote_count:((l=a.votes)==null?void 0:l.length)||0,user_voted:((u=a.votes)==null?void 0:u.some(c=>c.voter_id===(r==null?void 0:r.id)))||!1}})},enabled:!!e&&!!r})}function hh(e,t="all"){return at({queryKey:["leaderboard",e,t],queryFn:async()=>{const{data:r,error:n}=await B.from("song_leaderboard").select("*").eq("band_id",e).order("vote_count",{ascending:!1}).limit(50);if(n)throw n;return r},enabled:!!e,staleTime:1e3*60*2})}function US(){const e=St(),{user:t}=Oe();return kt({mutationFn:async({bandId:r,track:n,notes:s=null})=>{const i={band_id:r,suggested_by:t==null?void 0:t.id,..."spotify_track_id"in n?{spotify_track_id:n.spotify_track_id,title:n.title,artist:n.artist,album:n.album,duration_ms:n.duration_ms,album_art_url:n.album_art_url,preview_url:n.preview_url}:{spotify_track_id:null,title:n.title,artist:n.artist,album:n.album||null,duration_ms:null,album_art_url:null,preview_url:null},notes:s},{data:a,error:l}=await B.from("song_suggestions").insert(i).select().single();if(l)throw l.code==="23505"?new Error("This song has already been suggested for this band"):l;return a},onSuccess:(r,{bandId:n})=>{e.invalidateQueries({queryKey:["song-suggestions",n]}),W.success("Song suggested successfully!")},onError:r=>{W.error(r.message||"Failed to suggest song")}})}function BS(){const e=St();return kt({mutationFn:async({songId:t,bandId:r,isVoting:n,voteType:s="upvote"})=>{const{data:{session:i}}=await B.auth.getSession();if(!(i!=null&&i.user))throw new Error("You must be logged in to vote");if(await zS(i.user.id,r),n){const{error:a}=await B.from("song_votes").insert({band_id:r,song_suggestion_id:t,voter_id:i.user.id,vote_type:s});if(a)throw a;await qS(i.user.id,r)}else{const{error:a}=await B.from("song_votes").delete().eq("song_suggestion_id",t).eq("voter_id",i.user.id);if(a)throw a}},onSuccess:(t,{bandId:r})=>{e.invalidateQueries({queryKey:["song-suggestions",r]}),e.invalidateQueries({queryKey:["leaderboard",r]}),e.invalidateQueries({queryKey:["vote-stats",r]})},onError:t=>{t.code==="23505"?W.error("You have already voted for this song"):t.message==="RATE_LIMIT_EXCEEDED"?W.error("You have reached your voting limit. Try again later."):W.error(t.message||"Failed to vote")}})}async function zS(e,t){const s=new Date,i=new Date(s.getTime()-36e5),{data:a,error:l}=await B.from("vote_rate_limits").select("vote_count, window_start").eq("user_id",e).eq("band_id",t).single();if(l&&l.code!=="PGRST116")throw l;if(a&&new Date(a.window_start)>i&&a.vote_count>=50)throw new Error("RATE_LIMIT_EXCEEDED")}async function qS(e,t){const n=new Date,s=new Date(n.getTime()-36e5),{data:i,error:a}=await B.from("vote_rate_limits").select("vote_count, window_start").eq("user_id",e).eq("band_id",t).single();if(a&&a.code!=="PGRST116")throw a;i?new Date(i.window_start)>s?await B.from("vote_rate_limits").update({vote_count:i.vote_count+1}).eq("user_id",e).eq("band_id",t):await B.from("vote_rate_limits").update({vote_count:1,window_start:n.toISOString()}).eq("user_id",e).eq("band_id",t):await B.from("vote_rate_limits").insert({user_id:e,band_id:t,vote_count:1,window_start:n.toISOString()})}function VS(e){return at({queryKey:["vote-stats",e],queryFn:async()=>{const{data:t,error:r}=await B.from("song_votes").select(`
          id,
          vote_type,
          created_at,
          song_suggestion_id,
          song_suggestion:song_suggestion_id (
            title,
            artist
          )
        `).eq("band_id",e);if(r)throw r;const n=t.length,s=t.filter(l=>l.vote_type==="upvote").length,i=t.filter(l=>l.vote_type==="downvote").length,a=t.filter(l=>{const u=new Date(l.created_at),c=new Date(Date.now()-7*24*60*60*1e3);return u>c}).length;return{totalVotes:n,upvotes:s,downvotes:i,recentVotes:a,votes:t}},enabled:!!e})}function WS(e){const{user:t}=Oe();return at({queryKey:["user-vote-stats",e,t==null?void 0:t.id],queryFn:async()=>{if(!t)return null;const{data:r,error:n}=await B.from("song_votes").select("*").eq("band_id",e).eq("voter_id",t.id);if(n)throw n;const s=r.length,i=r.filter(l=>l.vote_type==="upvote").length,a=r.filter(l=>l.vote_type==="downvote").length;return{totalVotes:s,upvotes:i,downvotes:a,votes:r}},enabled:!!e&&!!t})}function f0(e){const{user:t}=Oe();return at({queryKey:["vote-rate-limit",e,t==null?void 0:t.id],queryFn:async()=>{if(!t)return null;const{data:r,error:n}=await B.from("vote_rate_limits").select("*").eq("band_id",e).eq("user_id",t.id).single();if(n&&n.code!=="PGRST116")throw n;const s=50,i=60*60*1e3,a=new Date;if(!r)return{votesRemaining:s,windowStart:a,voteCount:0,resetTime:new Date(a.getTime()+i)};const l=new Date(r.window_start),u=new Date(l.getTime()+i);return a<u?{votesRemaining:Math.max(0,s-r.vote_count),windowStart:l,voteCount:r.vote_count,resetTime:u}:{votesRemaining:s,windowStart:a,voteCount:0,resetTime:new Date(a.getTime()+i)}},enabled:!!e&&!!t,refetchInterval:6e4})}function HS(e,t=50){const{user:r}=Oe();return at({queryKey:["vote-history",e,r==null?void 0:r.id,t],queryFn:async()=>{if(!r)return[];const{data:n,error:s}=await B.from("song_votes").select(`
          *,
          song_suggestion:song_suggestion_id (
            title,
            artist,
            album,
            album_art_url
          )
        `).eq("band_id",e).eq("voter_id",r.id).order("created_at",{ascending:!1}).limit(t);if(s)throw s;return n},enabled:!!e&&!!r})}function QS(){const e=St();return kt({mutationFn:async({suggestionId:t})=>{const{error:r}=await B.from("song_suggestions").delete().eq("id",t);if(r)throw r},onSuccess:(t,{bandId:r})=>{e.invalidateQueries({queryKey:["song-suggestions",r]}),e.invalidateQueries({queryKey:["leaderboard",r]}),W.success("Song suggestion removed successfully!")},onError:t=>{W.error(t.message||"Failed to remove suggestion")}})}function le(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function vn(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const m0=6048e5,KS=864e5,ao=43200,Pm=1440;let YS={};function Da(){return YS}function ga(e,t){var l,u,c,d;const r=Da(),n=(t==null?void 0:t.weekStartsOn)??((u=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:u.weekStartsOn)??r.weekStartsOn??((d=(c=r.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,s=le(e),i=s.getDay(),a=(i<n?7:0)+i-n;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function al(e){return ga(e,{weekStartsOn:1})}function p0(e){const t=le(e),r=t.getFullYear(),n=vn(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=al(n),i=vn(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const a=al(i);return t.getTime()>=s.getTime()?r+1:t.getTime()>=a.getTime()?r:r-1}function Tm(e){const t=le(e);return t.setHours(0,0,0,0),t}function ol(e){const t=le(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function GS(e,t){const r=Tm(e),n=Tm(t),s=+r-ol(r),i=+n-ol(n);return Math.round((s-i)/KS)}function JS(e){const t=p0(e),r=vn(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),al(r)}function jo(e,t){const r=le(e),n=le(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function XS(e){return vn(e,Date.now())}function ZS(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function ek(e){if(!ZS(e)&&typeof e!="number")return!1;const t=le(e);return!isNaN(Number(t))}function tk(e,t){const r=le(e),n=le(t),s=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return s*12+i}function rk(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function nk(e,t){return+le(e)-+le(t)}function sk(e){const t=le(e);return t.setHours(23,59,59,999),t}function ik(e){const t=le(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function ak(e){const t=le(e);return+sk(t)==+ik(t)}function ok(e,t){const r=le(e),n=le(t),s=jo(r,n),i=Math.abs(tk(r,n));let a;if(i<1)a=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*i);let l=jo(r,n)===-s;ak(le(e))&&i===1&&jo(e,n)===1&&(l=!1),a=s*(i-Number(l))}return a===0?0:a}function lk(e,t,r){const n=nk(e,t)/1e3;return rk(r==null?void 0:r.roundingMethod)(n)}function uk(e){const t=le(e),r=vn(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const ck={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},dk=(e,t,r)=>{let n;const s=ck[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Nu(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const hk={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},fk={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},mk={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},pk={date:Nu({formats:hk,defaultWidth:"full"}),time:Nu({formats:fk,defaultWidth:"full"}),dateTime:Nu({formats:mk,defaultWidth:"full"})},gk={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},yk=(e,t,r,n)=>gk[e];function bi(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):a;s=e.formattingValues[l]||e.formattingValues[a]}else{const a=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[a]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const vk={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},xk={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},wk={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},_k={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},bk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},jk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Sk=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},kk={ordinalNumber:Sk,era:bi({values:vk,defaultWidth:"wide"}),quarter:bi({values:xk,defaultWidth:"wide",argumentCallback:e=>e-1}),month:bi({values:wk,defaultWidth:"wide"}),day:bi({values:_k,defaultWidth:"wide"}),dayPeriod:bi({values:bk,defaultWidth:"wide",formattingValues:jk,defaultFormattingWidth:"wide"})};function ji(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const a=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(l)?Ek(l,h=>h.test(a)):Nk(l,h=>h.test(a));let c;c=e.valueCallback?e.valueCallback(u):u,c=r.valueCallback?r.valueCallback(c):c;const d=t.slice(a.length);return{value:c,rest:d}}}function Nk(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Ek(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Ck(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],i=t.match(e.parsePattern);if(!i)return null;let a=e.valueCallback?e.valueCallback(i[0]):i[0];a=r.valueCallback?r.valueCallback(a):a;const l=t.slice(s.length);return{value:a,rest:l}}}const Pk=/^(\d+)(th|st|nd|rd)?/i,Tk=/\d+/i,Ok={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Rk={any:[/^b/i,/^(a|c)/i]},Ak={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Dk={any:[/1/i,/2/i,/3/i,/4/i]},Lk={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Mk={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},$k={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Fk={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Ik={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Uk={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Bk={ordinalNumber:Ck({matchPattern:Pk,parsePattern:Tk,valueCallback:e=>parseInt(e,10)}),era:ji({matchPatterns:Ok,defaultMatchWidth:"wide",parsePatterns:Rk,defaultParseWidth:"any"}),quarter:ji({matchPatterns:Ak,defaultMatchWidth:"wide",parsePatterns:Dk,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ji({matchPatterns:Lk,defaultMatchWidth:"wide",parsePatterns:Mk,defaultParseWidth:"any"}),day:ji({matchPatterns:$k,defaultMatchWidth:"wide",parsePatterns:Fk,defaultParseWidth:"any"}),dayPeriod:ji({matchPatterns:Ik,defaultMatchWidth:"any",parsePatterns:Uk,defaultParseWidth:"any"})},g0={code:"en-US",formatDistance:dk,formatLong:pk,formatRelative:yk,localize:kk,match:Bk,options:{weekStartsOn:0,firstWeekContainsDate:1}};function zk(e){const t=le(e);return GS(t,uk(t))+1}function qk(e){const t=le(e),r=+al(t)-+JS(t);return Math.round(r/m0)+1}function y0(e,t){var d,h,f,y;const r=le(e),n=r.getFullYear(),s=Da(),i=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((y=(f=s.locale)==null?void 0:f.options)==null?void 0:y.firstWeekContainsDate)??1,a=vn(e,0);a.setFullYear(n+1,0,i),a.setHours(0,0,0,0);const l=ga(a,t),u=vn(e,0);u.setFullYear(n,0,i),u.setHours(0,0,0,0);const c=ga(u,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=c.getTime()?n:n-1}function Vk(e,t){var l,u,c,d;const r=Da(),n=(t==null?void 0:t.firstWeekContainsDate)??((u=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:u.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(c=r.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,s=y0(e,t),i=vn(e,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),ga(i,t)}function Wk(e,t){const r=le(e),n=+ga(r,t)-+Vk(r,t);return Math.round(n/m0)+1}function ie(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Lr={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return ie(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):ie(r+1,2)},d(e,t){return ie(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return ie(e.getHours()%12||12,t.length)},H(e,t){return ie(e.getHours(),t.length)},m(e,t){return ie(e.getMinutes(),t.length)},s(e,t){return ie(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return ie(s,t.length)}},ps={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Om={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return Lr.y(e,t)},Y:function(e,t,r,n){const s=y0(e,n),i=s>0?s:1-s;if(t==="YY"){const a=i%100;return ie(a,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):ie(i,t.length)},R:function(e,t){const r=p0(e);return ie(r,t.length)},u:function(e,t){const r=e.getFullYear();return ie(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return ie(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return ie(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Lr.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return ie(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=Wk(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):ie(s,t.length)},I:function(e,t,r){const n=qk(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):ie(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Lr.d(e,t)},D:function(e,t,r){const n=zk(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):ie(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return ie(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return ie(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return ie(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=ps.noon:n===0?s=ps.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=ps.evening:n>=12?s=ps.afternoon:n>=4?s=ps.morning:s=ps.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Lr.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Lr.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):ie(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):ie(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Lr.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Lr.s(e,t)},S:function(e,t){return Lr.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return Am(n);case"XXXX":case"XX":return Tn(n);case"XXXXX":case"XXX":default:return Tn(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return Am(n);case"xxxx":case"xx":return Tn(n);case"xxxxx":case"xxx":default:return Tn(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Rm(n,":");case"OOOO":default:return"GMT"+Tn(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Rm(n,":");case"zzzz":default:return"GMT"+Tn(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return ie(n,t.length)},T:function(e,t,r){const n=e.getTime();return ie(n,t.length)}};function Rm(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+t+ie(i,2)}function Am(e,t){return e%60===0?(e>0?"-":"+")+ie(Math.abs(e)/60,2):Tn(e,t)}function Tn(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=ie(Math.trunc(n/60),2),i=ie(n%60,2);return r+s+t+i}const Dm=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},v0=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Hk=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return Dm(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",Dm(n,t)).replace("{{time}}",v0(s,t))},Qk={p:v0,P:Hk},Kk=/^D+$/,Yk=/^Y+$/,Gk=["D","DD","YY","YYYY"];function Jk(e){return Kk.test(e)}function Xk(e){return Yk.test(e)}function Zk(e,t,r){const n=eN(e,t,r);if(console.warn(n),Gk.includes(e))throw new RangeError(n)}function eN(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const tN=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,rN=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,nN=/^'([^]*?)'?$/,sN=/''/g,iN=/[a-zA-Z]/;function ya(e,t,r){var d,h,f,y;const n=Da(),s=n.locale??g0,i=n.firstWeekContainsDate??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,a=n.weekStartsOn??((y=(f=n.locale)==null?void 0:f.options)==null?void 0:y.weekStartsOn)??0,l=le(e);if(!ek(l))throw new RangeError("Invalid time value");let u=t.match(rN).map(g=>{const x=g[0];if(x==="p"||x==="P"){const j=Qk[x];return j(g,s.formatLong)}return g}).join("").match(tN).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const x=g[0];if(x==="'")return{isToken:!1,value:aN(g)};if(Om[x])return{isToken:!0,value:g};if(x.match(iN))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:g}});s.localize.preprocessor&&(u=s.localize.preprocessor(l,u));const c={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return u.map(g=>{if(!g.isToken)return g.value;const x=g.value;(Xk(x)||Jk(x))&&Zk(x,t,String(e));const j=Om[x[0]];return j(l,x,s.localize,c)}).join("")}function aN(e){const t=e.match(nN);return t?t[1].replace(sN,"'"):e}function oN(e,t,r){const n=Da(),s=(r==null?void 0:r.locale)??n.locale??g0,i=2520,a=jo(e,t);if(isNaN(a))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:a});let u,c;a>0?(u=le(t),c=le(e)):(u=le(e),c=le(t));const d=lk(c,u),h=(ol(c)-ol(u))/1e3,f=Math.round((d-h)/60);let y;if(f<2)return r!=null&&r.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):f===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",f,l);if(f<45)return s.formatDistance("xMinutes",f,l);if(f<90)return s.formatDistance("aboutXHours",1,l);if(f<Pm){const g=Math.round(f/60);return s.formatDistance("aboutXHours",g,l)}else{if(f<i)return s.formatDistance("xDays",1,l);if(f<ao){const g=Math.round(f/Pm);return s.formatDistance("xDays",g,l)}else if(f<ao*2)return y=Math.round(f/ao),s.formatDistance("aboutXMonths",y,l)}if(y=ok(c,u),y<12){const g=Math.round(f/ao);return s.formatDistance("xMonths",g,l)}else{const g=y%12,x=Math.trunc(y/12);return g<3?s.formatDistance("aboutXYears",x,l):g<9?s.formatDistance("overXYears",x,l):s.formatDistance("almostXYears",x+1,l)}}function ll(e,t){return oN(e,XS(e),t)}function lN(){var u;const{bandId:e}=ns(),{user:t}=Oe(),r=Je(),{data:n}=as(e),{data:s}=LS(e),{data:i}=h0(e,{sortBy:"newest"}),{data:a}=hh(e),l=(u=s==null?void 0:s.find(c=>c.user_id===(t==null?void 0:t.id)))==null?void 0:u.role;return n?o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx("header",{className:"bg-white shadow-sm",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between items-center h-16",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:()=>r("/dashboard"),className:"mr-4 text-gray-500 hover:text-gray-700",children:o.jsx(Gt,{className:"h-5 w-5"})}),o.jsx(fe,{className:"h-6 w-6 text-primary-600 mr-3"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:n.name}),o.jsxs("p",{className:"text-xs text-gray-500",children:["Code: ",n.invite_code,"  ",(s==null?void 0:s.length)||0," members"]})]})]}),o.jsx("div",{className:"flex items-center space-x-2",children:o.jsxs("button",{onClick:()=>r(`/band/${e}/search`),className:"btn-primary text-sm",children:[o.jsx(ri,{className:"h-4 w-4 mr-1"}),"Suggest Song"]})})]})})}),o.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[o.jsxs("button",{onClick:()=>r(`/band/${e}/search`),className:"card hover:shadow-lg transition-shadow p-6 text-center",children:[o.jsx(ma,{className:"h-8 w-8 text-primary-600 mx-auto mb-2"}),o.jsx("h3",{className:"font-medium text-gray-900",children:"Search Songs"}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Find and suggest new songs"})]}),o.jsxs("button",{onClick:()=>r(`/band/${e}/suggestions`),className:"card hover:shadow-lg transition-shadow p-6 text-center",children:[o.jsx(fe,{className:"h-8 w-8 text-primary-600 mx-auto mb-2"}),o.jsx("h3",{className:"font-medium text-gray-900",children:"All Suggestions"}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"View all suggested songs"})]}),o.jsxs("button",{onClick:()=>r(`/band/${e}/leaderboard`),className:"card hover:shadow-lg transition-shadow p-6 text-center",children:[o.jsx(sl,{className:"h-8 w-8 text-primary-600 mx-auto mb-2"}),o.jsx("h3",{className:"font-medium text-gray-900",children:"Leaderboard"}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"See most popular songs"})]})]}),o.jsxs("div",{className:"card",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Recent Suggestions"}),o.jsx("button",{onClick:()=>r(`/band/${e}/suggestions`),className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:"View all"})]}),i&&i.length>0?o.jsx("div",{className:"space-y-4",children:i.slice(0,5).map(c=>{var d;return o.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center",children:[c.album_art_url?o.jsx("img",{src:c.album_art_url,alt:c.album||"Album art",className:"w-12 h-12 rounded-md mr-4"}):o.jsx("div",{className:"w-12 h-12 bg-gray-300 rounded-md mr-4 flex items-center justify-center",children:o.jsx(fe,{className:"w-6 h-6 text-gray-500"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-gray-900",children:c.title}),o.jsx("p",{className:"text-sm text-gray-600",children:c.artist}),o.jsxs("p",{className:"text-xs text-gray-500",children:["Suggested by ",(d=c.suggested_by_user)==null?void 0:d.display_name,"  "," ",ll(new Date(c.created_at),{addSuffix:!0})]})]})]}),o.jsx("div",{className:"flex items-center space-x-2",children:o.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[o.jsx(fa,{className:"w-4 h-4 mr-1"}),c.vote_count||0]})})]},c.id)})}):o.jsxs("div",{className:"text-center py-8",children:[o.jsx(fe,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"No songs suggested yet"}),o.jsx("button",{onClick:()=>r(`/band/${e}/search`),className:"btn-primary",children:"Suggest the First Song"})]})]}),o.jsxs("div",{className:"card",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Top Songs"}),o.jsx("button",{onClick:()=>r(`/band/${e}/leaderboard`),className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:"View leaderboard"})]}),a&&a.length>0?o.jsx("div",{className:"space-y-4",children:a.slice(0,5).map((c,d)=>o.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-8 h-8 bg-primary-100 text-primary-600 rounded-full flex items-center justify-center font-semibold text-sm mr-4",children:d+1}),c.album_art_url?o.jsx("img",{src:c.album_art_url,alt:"Album art",className:"w-12 h-12 rounded-md mr-4"}):o.jsx("div",{className:"w-12 h-12 bg-gray-300 rounded-md mr-4 flex items-center justify-center",children:o.jsx(fe,{className:"w-6 h-6 text-gray-500"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-gray-900",children:c.title}),o.jsx("p",{className:"text-sm text-gray-600",children:c.artist})]})]}),o.jsx("div",{className:"flex items-center space-x-2",children:o.jsxs("div",{className:"flex items-center text-sm font-semibold text-primary-600",children:[o.jsx(fa,{className:"w-4 h-4 mr-1 fill-current"}),c.vote_count]})})]},c.id))}):o.jsxs("div",{className:"text-center py-8",children:[o.jsx(sl,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"No votes yet"})]})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"card",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Band Members"}),o.jsx("div",{className:"space-y-3",children:s==null?void 0:s.map(c=>{var d,h;return o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[(d=c.user)!=null&&d.avatar_url?o.jsx("img",{src:c.user.avatar_url,alt:c.user.display_name,className:"w-8 h-8 rounded-full mr-3"}):o.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full mr-3 flex items-center justify-center",children:o.jsx(pa,{className:"w-4 h-4 text-gray-500"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-900",children:(h=c.user)==null?void 0:h.display_name}),o.jsx("p",{className:"text-xs text-gray-500",children:c.role})]})]}),c.user_id===(t==null?void 0:t.id)&&o.jsx("span",{className:"text-xs text-primary-600 font-medium",children:"You"})]},c.id)})})]}),l==="admin"&&o.jsxs("div",{className:"card",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Upcoming Rehearsals"}),o.jsx("button",{onClick:()=>r(`/band/${e}/rehearsals`),className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:"Manage"})]}),o.jsxs("div",{className:"text-center py-8",children:[o.jsx(sn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"No upcoming rehearsals"})]})]})]})]})})]}):o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})})}function uN(){const[e,t]=S.useState(""),[r,n]=S.useState(""),i=((d,h)=>{let f;return(...y)=>{clearTimeout(f),f=setTimeout(()=>d(...y),h)}})(d=>{n(d)},300),a=d=>{t(d),i(d)},{data:l,isLoading:u,error:c}=at({queryKey:["spotify-search",r],queryFn:async()=>{if(!r.trim())return[];const{data:d,error:h}=await B.functions.invoke("spotify-search",{body:{query:r,limit:20}});if(h)throw h;return d.tracks},enabled:r.length>0,staleTime:1e3*60*5});return{query:e,setQuery:a,tracks:l||[],isLoading:u,error:c,hasQuery:r.length>0}}function Ml({trackId:e,compact:t=!1,height:r=152}){const[n,s]=S.useState(!0),[i,a]=S.useState(!1),l=t?80:r,u=`https://open.spotify.com/embed/track/${e}?utm_source=generator&theme=0`,c=()=>{s(!1)},d=()=>{s(!1),a(!0)};return i?o.jsx("div",{className:"bg-gray-100 rounded-lg p-4 text-center",children:o.jsx("p",{className:"text-sm text-gray-600",children:"Preview not available"})}):o.jsxs("div",{className:"relative",children:[n&&o.jsx("div",{className:"absolute inset-0 bg-gray-100 rounded-lg flex items-center justify-center",style:{height:l},children:o.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-spotify-green"})}),o.jsx("iframe",{src:u,width:"100%",height:l,frameBorder:"0",allowTransparency:!0,allow:"encrypted-media",loading:"lazy",className:"rounded-lg",onLoad:c,onError:d,title:"Spotify player"})]})}function cN(){const{bandId:e}=ns(),t=Je(),[r,n]=S.useState(!1),{data:s}=as(e),{query:i,setQuery:a,tracks:l,isLoading:u,hasQuery:c}=uN(),d=US(),{register:h,handleSubmit:f,formState:{errors:y},reset:g}=Pr(),x=m=>{const p=Math.floor(m/6e4),b=Math.floor(m%6e4/1e3);return`${p}:${b.toString().padStart(2,"0")}`},j=async m=>{await d.mutateAsync({bandId:e,track:m}),t(`/band/${e}/suggestions`)},v=async m=>{const p={title:m.title,artist:m.artist,album:m.album||void 0};await d.mutateAsync({bandId:e,track:p,notes:m.notes||null}),g(),n(!1),t(`/band/${e}/suggestions`)};return o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx("header",{className:"bg-white shadow-sm",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsx("div",{className:"flex justify-between items-center h-16",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:()=>t(`/band/${e}`),className:"mr-4 text-gray-500 hover:text-gray-700",children:o.jsx(Gt,{className:"h-5 w-5"})}),o.jsx(fe,{className:"h-6 w-6 text-primary-600 mr-3"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Search Songs"}),o.jsx("p",{className:"text-xs text-gray-500",children:s==null?void 0:s.name})]})]})})})}),o.jsx("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:o.jsx("div",{className:"space-y-8",children:o.jsxs("div",{className:"card",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Search Spotify"}),o.jsx("button",{onClick:()=>n(!r),className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:r?"Search Spotify":"Add Manually"})]}),r?o.jsxs("form",{onSubmit:f(v),className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Song Title *"}),o.jsx("input",{...h("title",{required:"Song title is required"}),className:"input-field",placeholder:"Bohemian Rhapsody"}),y.title&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.title.message})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Artist *"}),o.jsx("input",{...h("artist",{required:"Artist is required"}),className:"input-field",placeholder:"Queen"}),y.artist&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.artist.message})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Album"}),o.jsx("input",{...h("album"),className:"input-field",placeholder:"A Night at the Opera (optional)"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),o.jsx("input",{...h("notes"),className:"input-field",placeholder:"Any additional notes (optional)"})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:()=>{n(!1),g()},className:"btn-secondary",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:d.isPending,className:"btn-primary",children:d.isPending?"Suggesting...":"Suggest Song"})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"relative mb-6",children:[o.jsx(ma,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx("input",{type:"text",value:i,onChange:m=>a(m.target.value),className:"input-field pl-10",placeholder:"Search for songs, artists, or albums..."})]}),u&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"}),o.jsx("p",{className:"text-gray-600 mt-2",children:"Searching..."})]}),!u&&c&&l.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx(fe,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"No songs found"})]}),l.length>0&&o.jsx("div",{className:"space-y-6",children:l.map(m=>o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center flex-1",children:[m.album_art_url?o.jsx("img",{src:m.album_art_url,alt:m.album,className:"w-16 h-16 rounded-md mr-4 flex-shrink-0"}):o.jsx("div",{className:"w-16 h-16 bg-gray-300 rounded-md mr-4 flex-shrink-0 flex items-center justify-center",children:o.jsx(fe,{className:"w-8 h-8 text-gray-500"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:m.title}),o.jsx("p",{className:"text-gray-600 truncate",children:m.artist}),o.jsx("p",{className:"text-sm text-gray-500 truncate",children:m.album}),o.jsxs("div",{className:"flex items-center mt-1 space-x-4",children:[m.duration_ms&&o.jsxs("span",{className:"text-xs text-gray-500 flex items-center",children:[o.jsx(Aa,{className:"w-3 h-3 mr-1"}),x(m.duration_ms)]}),o.jsxs("a",{href:m.external_url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary-600 hover:text-primary-700 flex items-center",children:[o.jsx(ch,{className:"w-3 h-3 mr-1"}),"Open in Spotify"]})]})]})]}),o.jsxs("button",{onClick:()=>j(m),disabled:d.isPending,className:"btn-primary flex items-center ml-4",children:[o.jsx(ri,{className:"w-4 h-4 mr-2"}),"Suggest"]})]}),o.jsx("div",{className:"mt-4",children:o.jsx(Ml,{trackId:m.spotify_track_id,compact:!0,height:80})})]},m.spotify_track_id))}),!c&&!u&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(ma,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Search for Songs"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Search Spotify's catalog to find and suggest songs for your band"}),o.jsxs("p",{className:"text-sm text-gray-500",children:["Can't find what you're looking for?"," ",o.jsx("button",{onClick:()=>n(!0),className:"text-primary-600 hover:text-primary-700 font-medium",children:"Add it manually"})]})]})]})]})})})]})}function dN(){const{bandId:e}=ns(),{user:t}=Oe(),r=Je(),[n,s]=S.useState("newest"),[i,a]=S.useState(""),{data:l}=as(e),{data:u,isLoading:c}=h0(e,{sortBy:n}),{data:d}=dh(e),{data:h}=f0(e),f=BS(),y=QS(),g=p=>{const b=Math.floor(p/6e4),N=Math.floor(p%6e4/1e3);return`${b}:${N.toString().padStart(2,"0")}`},x=async(p,b,N="upvote")=>{h&&h.votesRemaining<=0||await f.mutateAsync({songId:p,bandId:e,isVoting:!b,voteType:N})},j=async p=>{window.confirm("Are you sure you want to remove this suggestion? This action cannot be undone.")&&await y.mutateAsync({suggestionId:p,bandId:e})},m=[...(u==null?void 0:u.filter(p=>{var b;return p.title.toLowerCase().includes(i.toLowerCase())||p.artist.toLowerCase().includes(i.toLowerCase())||((b=p.album)==null?void 0:b.toLowerCase().includes(i.toLowerCase()))}))||[]].sort((p,b)=>{switch(n){case"votes":return(b.vote_count||0)-(p.vote_count||0);case"alphabetical":return p.title.localeCompare(b.title);case"trending":return(b.vote_count||0)-(p.vote_count||0);case"newest":default:return new Date(b.created_at).getTime()-new Date(p.created_at).getTime()}});return c?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx("header",{className:"bg-white shadow-sm",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between items-center h-16",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:()=>r(`/band/${e}`),className:"mr-4 text-gray-500 hover:text-gray-700",children:o.jsx(Gt,{className:"h-5 w-5"})}),o.jsx(fe,{className:"h-6 w-6 text-primary-600 mr-3"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Song Suggestions"}),o.jsx("p",{className:"text-xs text-gray-500",children:l==null?void 0:l.name})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[h&&o.jsxs("div",{className:"flex items-center space-x-2 px-3 py-1 bg-gray-100 rounded-lg",children:[o.jsx(Gc,{className:"h-4 w-4 text-gray-500"}),o.jsxs("span",{className:"text-sm text-gray-600",children:[h.votesRemaining," votes left"]})]}),o.jsxs("button",{onClick:()=>r(`/band/${e}/voting-analytics`),className:"btn-secondary text-sm",children:[o.jsx(Yc,{className:"h-4 w-4 mr-1"}),"Analytics"]}),o.jsxs("button",{onClick:()=>r(`/band/${e}/search`),className:"btn-primary text-sm",children:[o.jsx(ri,{className:"h-4 w-4 mr-1"}),"Suggest Song"]})]})]})})}),o.jsx("main",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"card",children:o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[o.jsxs("div",{className:"relative flex-1 max-w-md",children:[o.jsx(ma,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx("input",{type:"text",value:i,onChange:p=>a(p.target.value),className:"input-field pl-10",placeholder:"Search songs, artists, albums..."})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(bS,{className:"h-4 w-4 text-gray-500 mr-2"}),o.jsxs("select",{value:n,onChange:p=>s(p.target.value),className:"text-sm border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500",children:[o.jsx("option",{value:"newest",children:"Newest First"}),o.jsx("option",{value:"votes",children:"Most Voted"}),o.jsx("option",{value:"alphabetical",children:"Alphabetical"}),o.jsx("option",{value:"trending",children:"Trending"})]})]}),o.jsxs("span",{className:"text-sm text-gray-500",children:[m.length," songs"]})]})]})}),m.length>0?o.jsx("div",{className:"space-y-4",children:m.map(p=>{var b;return o.jsx("div",{className:"card hover:shadow-lg transition-shadow",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center flex-1",children:[p.album_art_url?o.jsx("img",{src:p.album_art_url,alt:p.album||"Album art",className:"w-16 h-16 rounded-md mr-4 flex-shrink-0"}):o.jsx("div",{className:"w-16 h-16 bg-gray-300 rounded-md mr-4 flex-shrink-0 flex items-center justify-center",children:o.jsx(fe,{className:"w-8 h-8 text-gray-500"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"flex items-center justify-between mb-1",children:o.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:p.title})}),o.jsx("p",{className:"text-gray-600 truncate",children:p.artist}),p.album&&o.jsx("p",{className:"text-sm text-gray-500 truncate",children:p.album}),o.jsxs("div",{className:"flex items-center mt-2 space-x-4 text-xs text-gray-500",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(il,{className:"w-3 h-3 mr-1"}),(b=p.suggested_by_user)==null?void 0:b.display_name]}),o.jsx("span",{children:""}),o.jsx("span",{children:ll(new Date(p.created_at),{addSuffix:!0})}),p.duration_ms&&o.jsxs(o.Fragment,{children:[o.jsx("span",{children:""}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(Aa,{className:"w-3 h-3 mr-1"}),g(p.duration_ms)]})]}),p.spotify_track_id&&o.jsxs(o.Fragment,{children:[o.jsx("span",{children:""}),o.jsxs("a",{href:`https://open.spotify.com/track/${p.spotify_track_id}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-700 flex items-center",children:[o.jsx(ch,{className:"w-3 h-3 mr-1"}),"Spotify"]})]})]}),p.notes&&o.jsxs("div",{className:"mt-2 p-2 bg-blue-50 rounded text-xs text-blue-800",children:[o.jsx("strong",{children:"Note:"})," ",p.notes]}),p.spotify_track_id&&o.jsx("div",{className:"mt-4",children:o.jsx(Ml,{trackId:p.spotify_track_id,compact:!0,height:80})})]})]}),o.jsxs("div",{className:"flex items-center ml-4 space-x-2",children:[o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("button",{onClick:()=>x(p.id,p.user_voted||!1),disabled:p.suggested_by===(t==null?void 0:t.id)||f.isPending,className:`p-3 rounded-full transition-colors ${p.user_voted?"bg-red-100 text-red-600 hover:bg-red-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"} ${p.suggested_by===(t==null?void 0:t.id)?"opacity-50 cursor-not-allowed":""}`,title:p.suggested_by===(t==null?void 0:t.id)?"Can't vote on your own suggestion":"Vote for this song",children:o.jsx(fa,{className:`w-5 h-5 ${p.user_voted?"fill-current":""}`})}),o.jsx("span",{className:"text-sm font-semibold text-gray-900 mt-1",children:p.vote_count||0})]}),d==="admin"&&o.jsx("button",{onClick:()=>j(p.id),disabled:y.isPending,className:"p-3 rounded-full transition-colors bg-gray-100 text-gray-600 hover:bg-red-100 hover:text-red-600",title:"Remove suggestion (Admin only)",children:o.jsx(Ll,{className:"w-5 h-5"})})]})]})},p.id)})}):o.jsx("div",{className:"card text-center py-12",children:i?o.jsxs(o.Fragment,{children:[o.jsx(ma,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No songs found"}),o.jsxs("p",{className:"text-gray-600 mb-4",children:['No songs match your search "',i,'"']}),o.jsx("button",{onClick:()=>a(""),className:"text-primary-600 hover:text-primary-700 font-medium",children:"Clear search"})]}):o.jsxs(o.Fragment,{children:[o.jsx(fe,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No songs suggested yet"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Be the first to suggest a song for your band to practice!"}),o.jsx("button",{onClick:()=>r(`/band/${e}/search`),className:"btn-primary",children:"Suggest a Song"})]})})]})})]})}function hN(){var c;const{bandId:e}=ns(),t=Je(),[r,n]=S.useState("all"),{data:s}=as(e),{data:i,isLoading:a}=hh(e,r),l=d=>{switch(d){case 1:return o.jsx(_S,{className:"w-6 h-6 text-yellow-500"});case 2:return o.jsx(Em,{className:"w-6 h-6 text-gray-400"});case 3:return o.jsx(Em,{className:"w-6 h-6 text-amber-600"});default:return o.jsx("div",{className:"w-8 h-8 bg-primary-100 text-primary-600 rounded-full flex items-center justify-center font-bold text-sm",children:d})}},u=d=>{switch(d){case 1:return"bg-gradient-to-r from-yellow-50 to-yellow-100 border-yellow-200";case 2:return"bg-gradient-to-r from-gray-50 to-gray-100 border-gray-200";case 3:return"bg-gradient-to-r from-amber-50 to-amber-100 border-amber-200";default:return"bg-white"}};return a?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx("header",{className:"bg-white shadow-sm",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsx("div",{className:"flex justify-between items-center h-16",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:()=>t(`/band/${e}`),className:"mr-4 text-gray-500 hover:text-gray-700",children:o.jsx(Gt,{className:"h-5 w-5"})}),o.jsx(sl,{className:"h-6 w-6 text-primary-600 mr-3"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Leaderboard"}),o.jsx("p",{className:"text-xs text-gray-500",children:s==null?void 0:s.name})]})]})})})}),o.jsx("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"card",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Most Popular Songs"}),o.jsxs("div",{className:"flex border border-gray-200 rounded-lg overflow-hidden",children:[o.jsx("button",{onClick:()=>n("week"),className:`px-4 py-2 text-sm font-medium transition-colors ${r==="week"?"bg-primary-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"This Week"}),o.jsx("button",{onClick:()=>n("month"),className:`px-4 py-2 text-sm font-medium transition-colors border-l border-gray-200 ${r==="month"?"bg-primary-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"This Month"}),o.jsx("button",{onClick:()=>n("all"),className:`px-4 py-2 text-sm font-medium transition-colors border-l border-gray-200 ${r==="all"?"bg-primary-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"All Time"})]})]})}),i&&i.length>0?o.jsx("div",{className:"space-y-3",children:i.map((d,h)=>{const f=h+1;return o.jsx("div",{className:`card border-2 ${u(f)} transition-all hover:shadow-lg`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center flex-1",children:[o.jsx("div",{className:"mr-6",children:l(f)}),d.album_art_url?o.jsx("img",{src:d.album_art_url,alt:"Album art",className:"w-16 h-16 rounded-md mr-4 flex-shrink-0"}):o.jsx("div",{className:"w-16 h-16 bg-gray-300 rounded-md mr-4 flex-shrink-0 flex items-center justify-center",children:o.jsx(fe,{className:"w-8 h-8 text-gray-500"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:d.title}),o.jsx("p",{className:"text-gray-600 truncate",children:d.artist}),o.jsxs("div",{className:"flex items-center mt-2 space-x-4 text-sm text-gray-500",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(fa,{className:"w-4 h-4 mr-1 text-red-500"}),o.jsxs("span",{className:"font-medium",children:[d.vote_count," votes"]})]}),d.recent_votes>0&&o.jsxs("div",{className:"flex items-center text-green-600",children:[o.jsx(d0,{className:"w-4 h-4 mr-1"}),o.jsxs("span",{className:"font-medium",children:[d.recent_votes," recent"]})]})]}),f<=3&&o.jsx("div",{className:"mt-2",children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${f===1?"bg-yellow-100 text-yellow-800":f===2?"bg-gray-100 text-gray-800":"bg-amber-100 text-amber-800"}`,children:f===1?" Most Popular":f===2?" Runner Up":" Third Place"})}),f<=3&&d.spotify_track_id&&o.jsx("div",{className:"mt-4",children:o.jsx(Ml,{trackId:d.spotify_track_id,compact:!0,height:80})})]})]}),o.jsxs("div",{className:"flex flex-col items-center ml-4",children:[o.jsx("div",{className:`p-3 rounded-full ${f<=3?"bg-primary-100":"bg-gray-100"}`,children:o.jsx(fa,{className:`w-6 h-6 ${f<=3?"text-primary-600 fill-current":"text-gray-600"}`})}),o.jsx("span",{className:"text-lg font-bold text-gray-900 mt-1",children:d.vote_count})]})]})},d.id)})}):o.jsxs("div",{className:"card text-center py-12",children:[o.jsx(sl,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"No Songs Yet"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"The leaderboard will show the most popular songs once voting begins."}),o.jsx("button",{onClick:()=>t(`/band/${e}/search`),className:"btn-primary",children:"Suggest the First Song"})]}),i&&i.length>0&&o.jsxs("div",{className:"card",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Leaderboard Stats"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-primary-600",children:i.length}),o.jsx("div",{className:"text-sm text-gray-600",children:"Songs with Votes"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-primary-600",children:i.reduce((d,h)=>d+h.vote_count,0)}),o.jsx("div",{className:"text-sm text-gray-600",children:"Total Votes Cast"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-primary-600",children:((c=i[0])==null?void 0:c.vote_count)||0}),o.jsx("div",{className:"text-sm text-gray-600",children:"Highest Score"})]})]})]})]})})]})}function fN(e){return at({queryKey:["rehearsals",e],queryFn:async()=>{const{data:t,error:r}=await B.from("rehearsals").select("*").eq("band_id",e).order("rehearsal_date",{ascending:!1});if(r)throw r;return t},enabled:!!e})}function mN(e){return at({queryKey:["rehearsal",e],queryFn:async()=>{const{data:t,error:r}=await B.from("rehearsals").select("*").eq("id",e).single();if(r)throw r;return t},enabled:!!e})}function pN(e){return at({queryKey:["rehearsal-setlist",e],queryFn:async()=>{const{data:t,error:r}=await B.from("rehearsal_setlists").select(`
          *,
          song_suggestion:song_suggestion_id (
            title,
            artist,
            album,
            album_art_url,
            spotify_track_id,
            id
          )
        `).eq("rehearsal_id",e).order("position",{ascending:!0});if(r)throw r;if(t&&t.length>0){const n=t.map(a=>a.song_suggestion_id),{data:s}=await B.from("song_votes").select("song_suggestion_id").in("song_suggestion_id",n),i=(s==null?void 0:s.reduce((a,l)=>(a[l.song_suggestion_id]=(a[l.song_suggestion_id]||0)+1,a),{}))||{};return t.map(a=>({...a,song_suggestion:{...a.song_suggestion,vote_count:i[a.song_suggestion_id]||0}}))}return t},enabled:!!e})}function gN(){const e=St();return kt({mutationFn:async t=>{const{data:{session:r}}=await B.auth.getSession();if(!(r!=null&&r.user))throw new Error("You must be logged in to create a rehearsal");const{data:n,error:s}=await B.from("rehearsals").insert({...t,created_by:r.user.id}).select().single();if(s)throw s;return n},onSuccess:t=>{e.invalidateQueries({queryKey:["rehearsals",t.band_id]}),W.success("Rehearsal scheduled successfully!")},onError:t=>{W.error(t.message||"Failed to schedule rehearsal")}})}function yN(){const e=St();return kt({mutationFn:async t=>{const{error:r}=await B.from("rehearsals").delete().eq("id",t);if(r)throw r},onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["rehearsal",r]}),e.invalidateQueries({queryKey:["rehearsals"]}),W.success("Rehearsal deleted successfully!")},onError:t=>{W.error(t.message||"Failed to delete rehearsal")}})}function vN(){const e=St();return kt({mutationFn:async({rehearsalId:t,bandId:r})=>{const{data:n,error:s}=await B.from("rehearsals").select("songs_to_learn").eq("id",t).single();if(s)throw s;const{data:i,error:a}=await B.from("song_leaderboard").select("*").eq("band_id",r).order("vote_count",{ascending:!1}).limit(n.songs_to_learn);if(a)throw a;if(!i||i.length===0)throw new Error("No songs available for selection");await B.from("rehearsal_setlists").delete().eq("rehearsal_id",t);const l=i.map((d,h)=>({rehearsal_id:t,song_suggestion_id:d.id,position:h+1,selection_reason:"Auto-selected from leaderboard",vote_count_at_selection:d.vote_count})),{error:u}=await B.from("rehearsal_setlists").insert(l);if(u)throw u;const{error:c}=await B.from("rehearsals").update({status:"songs_selected"}).eq("id",t);if(c)throw c;return l},onSuccess:(t,{rehearsalId:r,bandId:n})=>{e.invalidateQueries({queryKey:["rehearsal-setlist",r]}),e.invalidateQueries({queryKey:["rehearsal",r]}),e.invalidateQueries({queryKey:["rehearsals",n]}),W.success("Songs selected automatically!")},onError:t=>{W.error(t.message||"Failed to select songs")}})}function xN(){const e=St();return kt({mutationFn:async t=>{const{data:r,error:n}=await B.from("rehearsal_setlists").delete().eq("id",t).select().single();if(n)throw n;return r},onSuccess:t=>{e.invalidateQueries({queryKey:["rehearsal-setlist",t.rehearsal_id]}),W.success("Song removed from setlist!")},onError:t=>{W.error(t.message||"Failed to remove song from setlist")}})}function wN(){const{bandId:e}=ns(),t=Je(),[r,n]=S.useState(!1),{data:s}=as(e),{data:i}=dh(e),{data:a,isLoading:l}=fN(e),u=gN(),c=yN(),d=async g=>{g.preventDefault();const x=new FormData(g.currentTarget);await u.mutateAsync({band_id:e,name:x.get("name"),rehearsal_date:x.get("rehearsal_date"),start_time:x.get("start_time")||void 0,location:x.get("location")||void 0,songs_to_learn:parseInt(x.get("songs_to_learn")),selection_deadline:x.get("selection_deadline")||void 0,description:x.get("description")||void 0}),n(!1)},h=async g=>{window.confirm("Are you sure you want to delete this rehearsal? This action cannot be undone.")&&await c.mutateAsync(g)},f=g=>{switch(g){case"planning":return"text-yellow-600 bg-yellow-50";case"songs_selected":return"text-blue-600 bg-blue-50";case"completed":return"text-green-600 bg-green-50";default:return"text-gray-600 bg-gray-50"}},y=g=>{switch(g){case"planning":return o.jsx(nl,{className:"h-4 w-4"});case"songs_selected":return o.jsx(fe,{className:"h-4 w-4"});case"completed":return o.jsx(uh,{className:"h-4 w-4"});default:return o.jsx(sn,{className:"h-4 w-4"})}};return l?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx("header",{className:"bg-white shadow-sm",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between items-center h-16",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:()=>t(`/band/${e}`),className:"mr-4 text-gray-500 hover:text-gray-700",children:o.jsx(Gt,{className:"h-5 w-5"})}),o.jsx(sn,{className:"h-6 w-6 text-primary-600 mr-3"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Rehearsals"}),o.jsx("p",{className:"text-xs text-gray-500",children:s==null?void 0:s.name})]})]}),i==="admin"&&o.jsxs("button",{onClick:()=>n(!0),className:"btn-primary text-sm",children:[o.jsx(ri,{className:"h-4 w-4 mr-1"}),"Schedule Rehearsal"]})]})})}),o.jsxs("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r&&o.jsxs("div",{className:"card mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Schedule New Rehearsal"}),o.jsxs("form",{onSubmit:d,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rehearsal Name"}),o.jsx("input",{type:"text",name:"name",required:!0,className:"input-field",placeholder:"Weekly Practice Session"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),o.jsx("input",{type:"date",name:"rehearsal_date",required:!0,className:"input-field",min:new Date().toISOString().split("T")[0]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Time (Optional)"}),o.jsx("input",{type:"time",name:"start_time",className:"input-field"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Songs to Learn"}),o.jsx("select",{name:"songs_to_learn",required:!0,className:"input-field",defaultValue:"5",children:[1,2,3,4,5,6,7,8,9,10].map(g=>o.jsxs("option",{value:g,children:[g," song",g>1?"s":""]},g))})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location (Optional)"}),o.jsx("input",{type:"text",name:"location",className:"input-field",placeholder:"Studio A, John's Garage, etc."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Selection Deadline (Optional)"}),o.jsx("input",{type:"datetime-local",name:"selection_deadline",className:"input-field"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (Optional)"}),o.jsx("textarea",{name:"description",rows:3,className:"input-field",placeholder:"Additional notes for this rehearsal..."})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:()=>n(!1),className:"btn-secondary",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:u.isPending,className:"btn-primary",children:u.isPending?"Creating...":"Schedule Rehearsal"})]})]})]}),a&&a.length>0?o.jsx("div",{className:"space-y-4",children:a.map(g=>o.jsx("div",{className:"card hover:shadow-lg transition-shadow",children:o.jsx("div",{className:"flex items-start justify-between",children:o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:g.name}),o.jsxs("div",{className:`px-3 py-1 rounded-full text-xs font-medium flex items-center ${f(g.status)}`,children:[y(g.status),o.jsx("span",{className:"ml-1 capitalize",children:g.status.replace("_"," ")})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[o.jsx(sn,{className:"h-4 w-4 mr-2"}),ya(new Date(g.rehearsal_date),"EEEE, MMMM d, yyyy"),g.start_time&&o.jsxs("span",{className:"ml-2 flex items-center",children:[o.jsx(Aa,{className:"h-4 w-4 mr-1"}),g.start_time]})]}),g.location&&o.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[o.jsx(c0,{className:"h-4 w-4 mr-2"}),g.location]}),o.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[o.jsx(fe,{className:"h-4 w-4 mr-2"}),g.songs_to_learn," song",g.songs_to_learn>1?"s":""," to learn"]}),g.selection_deadline&&o.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[o.jsx(nl,{className:"h-4 w-4 mr-2"}),"Selection deadline: ",ya(new Date(g.selection_deadline),"MMM d, yyyy h:mm a")]})]}),g.description&&o.jsx("p",{className:"mt-3 text-sm text-gray-600",children:g.description}),o.jsxs("div",{className:"mt-4 flex space-x-3",children:[o.jsx("button",{onClick:()=>t(`/band/${e}/rehearsal/${g.id}`),className:"btn-primary text-sm",children:"View Details"}),i==="admin"&&o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:()=>t(`/band/${e}/rehearsal/${g.id}/edit`),className:"btn-secondary text-sm",children:[o.jsx(ES,{className:"h-4 w-4 mr-1"}),"Edit"]}),o.jsxs("button",{onClick:()=>h(g.id),disabled:c.isPending,className:"btn-secondary text-sm text-red-600 hover:bg-red-50",children:[o.jsx(Ll,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]})]})})},g.id))}):o.jsxs("div",{className:"card text-center py-12",children:[o.jsx(sn,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"No Rehearsals Scheduled"}),o.jsx("p",{className:"text-gray-600 mb-6",children:i==="admin"?"Schedule your first rehearsal to get started with organized practice sessions!":"Your band admin hasn't scheduled any rehearsals yet."}),i==="admin"&&o.jsxs("button",{onClick:()=>n(!0),className:"btn-primary",children:[o.jsx(ri,{className:"h-4 w-4 mr-1"}),"Schedule First Rehearsal"]})]})]})]})}function _N(){const{bandId:e,rehearsalId:t}=ns(),r=Je(),[n,s]=S.useState(!1),{data:i}=as(e),{data:a}=dh(e),{data:l,isLoading:u}=mN(t),{data:c,isLoading:d}=pN(t),{data:h}=hh(e),f=vN(),y=xN(),g=async()=>{await f.mutateAsync({rehearsalId:t,bandId:e}),s(!1)},x=async m=>{window.confirm("Remove this song from the rehearsal setlist?")&&await y.mutateAsync(m)},j=m=>{switch(m){case"planning":return"text-yellow-600 bg-yellow-50";case"songs_selected":return"text-blue-600 bg-blue-50";case"completed":return"text-green-600 bg-green-50";default:return"text-gray-600 bg-gray-50"}},v=m=>{switch(m){case"planning":return o.jsx(nl,{className:"h-4 w-4"});case"songs_selected":return o.jsx(fe,{className:"h-4 w-4"});case"completed":return o.jsx(uh,{className:"h-4 w-4"});default:return o.jsx(sn,{className:"h-4 w-4"})}};return u||d?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):l?o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx("header",{className:"bg-white shadow-sm",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between items-center h-16",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:()=>r(`/band/${e}/rehearsals`),className:"mr-4 text-gray-500 hover:text-gray-700",children:o.jsx(Gt,{className:"h-5 w-5"})}),o.jsx(sn,{className:"h-6 w-6 text-primary-600 mr-3"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:l.name}),o.jsx("p",{className:"text-xs text-gray-500",children:i==null?void 0:i.name})]})]}),o.jsxs("div",{className:`px-3 py-1 rounded-full text-sm font-medium flex items-center ${j(l.status)}`,children:[v(l.status),o.jsx("span",{className:"ml-1 capitalize",children:l.status.replace("_"," ")})]})]})})}),o.jsx("main",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsx("div",{className:"lg:col-span-1",children:o.jsxs("div",{className:"card",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Rehearsal Details"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center text-sm",children:[o.jsx(sn,{className:"h-5 w-5 text-gray-400 mr-3"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:ya(new Date(l.rehearsal_date),"EEEE, MMMM d, yyyy")}),l.start_time&&o.jsxs("p",{className:"text-gray-600 flex items-center mt-1",children:[o.jsx(Aa,{className:"h-4 w-4 mr-1"}),l.start_time]})]})]}),l.location&&o.jsxs("div",{className:"flex items-center text-sm",children:[o.jsx(c0,{className:"h-5 w-5 text-gray-400 mr-3"}),o.jsx("p",{children:l.location})]}),o.jsxs("div",{className:"flex items-center text-sm",children:[o.jsx(fe,{className:"h-5 w-5 text-gray-400 mr-3"}),o.jsxs("p",{children:[l.songs_to_learn," song",l.songs_to_learn>1?"s":""," to learn"]})]}),l.selection_deadline&&o.jsxs("div",{className:"flex items-center text-sm",children:[o.jsx(nl,{className:"h-5 w-5 text-gray-400 mr-3"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Selection Deadline"}),o.jsx("p",{className:"text-gray-600",children:ya(new Date(l.selection_deadline),"MMM d, yyyy h:mm a")})]})]})]}),l.description&&o.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[o.jsx("h3",{className:"font-medium mb-2",children:"Description"}),o.jsx("p",{className:"text-sm text-gray-600",children:l.description})]}),a==="admin"&&l.status==="planning"&&o.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[n?o.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[o.jsxs("p",{className:"text-sm text-yellow-800 mb-3",children:["This will select the top ",l.songs_to_learn," songs from your leaderboard and add them to this rehearsal."]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:g,disabled:f.isPending,className:"btn-primary text-sm",children:f.isPending?"Selecting...":"Confirm"}),o.jsx("button",{onClick:()=>s(!1),className:"btn-secondary text-sm",children:"Cancel"})]})]}):o.jsxs("button",{onClick:()=>s(!0),className:"w-full btn-primary",disabled:!h||h.length===0,children:[o.jsx(Cm,{className:"h-4 w-4 mr-2"}),"Auto-Select Songs from Leaderboard"]}),(!h||h.length===0)&&o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"No songs available on leaderboard. Add some song suggestions first!"})]})]})}),o.jsx("div",{className:"lg:col-span-2",children:o.jsxs("div",{className:"card",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-xl font-semibold",children:"Rehearsal Setlist"}),c&&c.length>0&&o.jsxs("span",{className:"text-sm text-gray-500",children:[c.length," of ",l.songs_to_learn," songs selected"]})]}),c&&c.length>0?o.jsx("div",{className:"space-y-4",children:c.map((m,p)=>{var b,N,C,P,R,U,D,Z;return o.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[o.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-primary-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:p+1}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:(b=m.song_suggestion)==null?void 0:b.title}),o.jsx("p",{className:"text-gray-600 truncate",children:(N=m.song_suggestion)==null?void 0:N.artist}),((C=m.song_suggestion)==null?void 0:C.album)&&o.jsx("p",{className:"text-sm text-gray-500 truncate",children:(P=m.song_suggestion)==null?void 0:P.album})]}),((R=m.song_suggestion)==null?void 0:R.album_art_url)&&o.jsx("img",{src:m.song_suggestion.album_art_url,alt:m.song_suggestion.album||"Album art",className:"w-12 h-12 rounded-md ml-4"})]}),o.jsxs("div",{className:"flex items-center mt-2 space-x-4 text-xs text-gray-500",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(pa,{className:"w-3 h-3 mr-1"}),m.vote_count_at_selection||((U=m.song_suggestion)==null?void 0:U.vote_count)||0," votes"]}),m.selection_reason&&o.jsxs(o.Fragment,{children:[o.jsx("span",{children:""}),o.jsx("span",{children:m.selection_reason})]}),((D=m.song_suggestion)==null?void 0:D.spotify_track_id)&&o.jsxs(o.Fragment,{children:[o.jsx("span",{children:""}),o.jsxs("a",{href:`https://open.spotify.com/track/${m.song_suggestion.spotify_track_id}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-700 flex items-center",children:[o.jsx(ch,{className:"w-3 h-3 mr-1"}),"Spotify"]})]})]}),((Z=m.song_suggestion)==null?void 0:Z.spotify_track_id)&&o.jsx("div",{className:"mt-3",children:o.jsx(Ml,{trackId:m.song_suggestion.spotify_track_id,compact:!0,height:80})})]})]}),a==="admin"&&l.status==="planning"&&o.jsx("button",{onClick:()=>x(m.id),disabled:y.isPending,className:"ml-4 p-2 rounded-full transition-colors bg-white text-gray-600 hover:bg-red-50 hover:text-red-600",title:"Remove from setlist",children:o.jsx(Ll,{className:"w-4 h-4"})})]})},m.id)})}):o.jsxs("div",{className:"text-center py-12",children:[o.jsx(fe,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Songs Selected"}),o.jsx("p",{className:"text-gray-600 mb-6",children:a==="admin"?"Use the auto-select feature or manually add songs to create your rehearsal setlist.":"The admin hasn't selected songs for this rehearsal yet."}),a==="admin"&&l.status==="planning"&&o.jsxs("button",{onClick:()=>s(!0),className:"btn-primary",disabled:!h||h.length===0,children:[o.jsx(Cm,{className:"h-4 w-4 mr-2"}),"Auto-Select from Leaderboard"]})]})]})})]})})]}):o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Rehearsal Not Found"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"The rehearsal you're looking for doesn't exist."}),o.jsx("button",{onClick:()=>r(`/band/${e}/rehearsals`),className:"btn-primary",children:"Back to Rehearsals"})]})})}function bN(){const{user:e}=Oe();return at({queryKey:["profile",e==null?void 0:e.id],queryFn:async()=>{if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await B.from("profiles").select("*").eq("id",e.id).single();if(r)throw r;return t},enabled:!!e})}function jN(){const e=St(),{user:t}=Oe();return kt({mutationFn:async r=>{if(!t)throw new Error("Not authenticated");const{data:n,error:s}=await B.from("profiles").update(r).eq("id",t.id).select().single();if(s)throw s;if(r.display_name){const{error:i}=await B.auth.updateUser({data:{display_name:r.display_name}});if(i)throw i}return n},onSuccess:()=>{e.invalidateQueries({queryKey:["profile"]}),W.success("Profile updated successfully!")},onError:r=>{W.error(r.message||"Failed to update profile")}})}function SN(){return kt({mutationFn:async e=>{const{error:t}=await B.auth.updateUser({password:e});if(t)throw t},onSuccess:()=>{W.success("Password updated successfully!")},onError:e=>{W.error(e.message||"Failed to update password")}})}function kN(){return kt({mutationFn:async()=>{const{data:{session:e}}=await B.auth.getSession();if(!(e!=null&&e.user))throw new Error("Not authenticated");const{error:t}=await B.auth.admin.deleteUser(e.user.id);if(t)throw t},onSuccess:()=>{W.success("Account deleted successfully")},onError:e=>{W.error(e.message||"Failed to delete account")}})}function NN(){const e=St(),{user:t}=Oe();return kt({mutationFn:async r=>{if(!t)throw new Error("Not authenticated");const n=r.name.split(".").pop(),i=`avatars/${`${t.id}-${Math.random()}.${n}`}`,{error:a}=await B.storage.from("avatars").upload(i,r,{cacheControl:"3600",upsert:!0});if(a)throw a;const{data:{publicUrl:l}}=B.storage.from("avatars").getPublicUrl(i),{data:u,error:c}=await B.from("profiles").update({avatar_url:l}).eq("id",t.id).select().single();if(c)throw c;return u},onSuccess:()=>{e.invalidateQueries({queryKey:["profile"]}),W.success("Avatar updated successfully!")},onError:r=>{W.error(r.message||"Failed to upload avatar")}})}function EN(){const e=Je(),{signOut:t}=Oe(),[r,n]=S.useState(!1),[s,i]=S.useState(!1),[a,l]=S.useState(!1),[u,c]=S.useState(!1),[d,h]=S.useState(null),[f,y]=S.useState(null),{data:g,isLoading:x}=bN(),j=jN(),v=SN(),m=kN(),p=NN(),{register:b,handleSubmit:N,formState:{errors:C,isDirty:P}}=Pr({defaultValues:{display_name:(g==null?void 0:g.display_name)||""},values:{display_name:(g==null?void 0:g.display_name)||""}}),{register:R,handleSubmit:U,formState:{errors:D},watch:Z,reset:H}=Pr(),Y=Z("new_password"),ue=async z=>{await j.mutateAsync(z)},Re=async z=>{await v.mutateAsync(z.new_password),H(),n(!1)},Ee=z=>{var oe;const Q=(oe=z.target.files)==null?void 0:oe[0];if(Q){h(Q);const ve=new FileReader;ve.onload=lr=>{var Nt;y((Nt=lr.target)==null?void 0:Nt.result)},ve.readAsDataURL(Q)}},We=async()=>{d&&(await p.mutateAsync(d),h(null),y(null))},L=async()=>{await m.mutateAsync(),await t(),e("/login")};return x?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx("header",{className:"bg-white shadow-sm",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex items-center h-16",children:[o.jsx("button",{onClick:()=>e("/dashboard"),className:"mr-4 text-gray-500 hover:text-gray-700",children:o.jsx(Gt,{className:"h-5 w-5"})}),o.jsx(il,{className:"h-6 w-6 text-primary-600 mr-3"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Profile Settings"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Manage your account settings and preferences"})]})]})})}),o.jsx("main",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"flex items-center justify-between mb-6",children:o.jsx("h2",{className:"text-xl font-semibold",children:"Profile Information"})}),o.jsxs("div",{className:"flex items-center space-x-6 mb-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-20 h-20 rounded-full overflow-hidden bg-gray-200",children:f?o.jsx("img",{src:f,alt:"Avatar preview",className:"w-full h-full object-cover"}):g!=null&&g.avatar_url?o.jsx("img",{src:g.avatar_url,alt:"Profile avatar",className:"w-full h-full object-cover"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center",children:o.jsx(il,{className:"w-8 h-8 text-gray-400"})})}),o.jsxs("label",{className:"absolute bottom-0 right-0 bg-white rounded-full p-2 shadow-lg cursor-pointer hover:bg-gray-50",children:[o.jsx(xS,{className:"w-4 h-4 text-gray-600"}),o.jsx("input",{type:"file",accept:"image/*",onChange:Ee,className:"sr-only"})]})]}),d&&o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:We,disabled:p.isPending,className:"btn-primary text-sm",children:p.isPending?"Uploading...":"Save Avatar"}),o.jsx("button",{onClick:()=>{h(null),y(null)},className:"btn-secondary text-sm",children:"Cancel"})]})]}),o.jsxs("form",{onSubmit:N(ue),className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Display Name"}),o.jsx("input",{...b("display_name",{required:"Display name is required",minLength:{value:2,message:"Display name must be at least 2 characters"}}),className:"input-field",placeholder:"Your display name"}),C.display_name&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:C.display_name.message})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"email",value:(g==null?void 0:g.email)||"",disabled:!0,className:"input-field bg-gray-50 text-gray-500 cursor-not-allowed pr-10"}),o.jsx(kS,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"})]}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Email cannot be changed. Contact support if you need to update your email."})]}),P&&o.jsx("div",{className:"flex justify-end",children:o.jsxs("button",{type:"submit",disabled:j.isPending,className:"btn-primary",children:[o.jsx(NS,{className:"w-4 h-4 mr-2"}),j.isPending?"Saving...":"Save Changes"]})})]})]}),o.jsxs("div",{className:"card",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-xl font-semibold",children:"Password & Security"}),o.jsxs("button",{onClick:()=>n(!r),className:"btn-secondary text-sm",children:[o.jsx(jS,{className:"w-4 h-4 mr-2"}),"Change Password"]})]}),r&&o.jsxs("form",{onSubmit:U(Re),className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{...R("new_password",{required:"New password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),type:a?"text":"password",className:"input-field pr-10",placeholder:"Enter new password"}),o.jsx("button",{type:"button",onClick:()=>l(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:a?o.jsx(km,{className:"w-5 h-5 text-gray-400"}):o.jsx(Nm,{className:"w-5 h-5 text-gray-400"})})]}),D.new_password&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:D.new_password.message})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{...R("confirm_password",{required:"Please confirm your new password",validate:z=>z===Y||"Passwords do not match"}),type:u?"text":"password",className:"input-field pr-10",placeholder:"Confirm new password"}),o.jsx("button",{type:"button",onClick:()=>c(!u),className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:u?o.jsx(km,{className:"w-5 h-5 text-gray-400"}):o.jsx(Nm,{className:"w-5 h-5 text-gray-400"})})]}),D.confirm_password&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:D.confirm_password.message})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:()=>{n(!1),H()},className:"btn-secondary",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:v.isPending,className:"btn-primary",children:v.isPending?"Updating...":"Update Password"})]})]})]}),o.jsxs("div",{className:"card border-red-200",children:[o.jsxs("div",{className:"flex items-center mb-6",children:[o.jsx(CS,{className:"w-5 h-5 text-red-600 mr-2"}),o.jsx("h2",{className:"text-xl font-semibold text-red-600",children:"Danger Zone"})]}),o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[o.jsx("h3",{className:"font-medium text-red-800 mb-2",children:"Delete Account"}),o.jsx("p",{className:"text-sm text-red-700 mb-4",children:"Permanently delete your account and all associated data. This action cannot be undone."}),s?o.jsxs("div",{className:"space-y-3",children:[o.jsx("p",{className:"text-sm font-medium text-red-800",children:"Are you absolutely sure? This will permanently delete your account and all data."}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx("button",{onClick:L,disabled:m.isPending,className:"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 disabled:opacity-50 text-sm",children:m.isPending?"Deleting...":"Yes, delete my account"}),o.jsx("button",{onClick:()=>i(!1),className:"btn-secondary text-sm",children:"Cancel"})]})]}):o.jsxs("button",{onClick:()=>i(!0),className:"btn-secondary text-red-600 border-red-300 hover:bg-red-50",children:[o.jsx(Ll,{className:"w-4 h-4 mr-2"}),"Delete Account"]})]})]})]})})]})}function CN(){const{bandId:e}=ns(),t=Je(),{data:r}=as(e),{data:n,isLoading:s}=VS(e),{data:i}=WS(e),{data:a}=f0(e),{data:l}=HS(e,20);return s?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx("header",{className:"bg-white shadow-sm",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex items-center h-16",children:[o.jsx("button",{onClick:()=>t(`/band/${e}`),className:"mr-4 text-gray-500 hover:text-gray-700",children:o.jsx(Gt,{className:"h-5 w-5"})}),o.jsx(Yc,{className:"h-6 w-6 text-primary-600 mr-3"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Voting Analytics"}),o.jsx("p",{className:"text-xs text-gray-500",children:r==null?void 0:r.name})]})]})})}),o.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsx("div",{className:"card",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:o.jsx(Yc,{className:"h-6 w-6 text-blue-600"})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Votes"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(n==null?void 0:n.totalVotes)||0})]})]})}),o.jsx("div",{className:"card",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:o.jsx(ku,{className:"h-6 w-6 text-green-600"})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Upvotes"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(n==null?void 0:n.upvotes)||0})]})]})}),o.jsx("div",{className:"card",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:o.jsx(Su,{className:"h-6 w-6 text-red-600"})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Downvotes"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(n==null?void 0:n.downvotes)||0})]})]})}),o.jsx("div",{className:"card",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:o.jsx(d0,{className:"h-6 w-6 text-purple-600"})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"This Week"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(n==null?void 0:n.recentVotes)||0})]})]})})]}),i&&o.jsxs("div",{className:"card",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Your Voting Activity"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[o.jsx("p",{className:"text-2xl font-bold text-blue-600",children:i.totalVotes}),o.jsx("p",{className:"text-sm text-blue-800",children:"Total Votes Cast"})]}),o.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[o.jsx("p",{className:"text-2xl font-bold text-green-600",children:i.upvotes}),o.jsx("p",{className:"text-sm text-green-800",children:"Songs You Liked"})]}),o.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[o.jsx("p",{className:"text-2xl font-bold text-red-600",children:i.downvotes}),o.jsx("p",{className:"text-sm text-red-800",children:"Songs You Disliked"})]})]})]}),l&&l.length>0&&o.jsxs("div",{className:"card",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Your Recent Votes"}),o.jsx("div",{className:"space-y-3",children:l.slice(0,10).map(u=>{var c,d;return o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`p-2 rounded-full ${u.vote_type==="upvote"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:u.vote_type==="upvote"?o.jsx(ku,{className:"h-4 w-4"}):o.jsx(Su,{className:"h-4 w-4"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900",children:(c=u.song_suggestion)==null?void 0:c.title}),o.jsxs("p",{className:"text-sm text-gray-600",children:["by ",(d=u.song_suggestion)==null?void 0:d.artist]})]})]}),o.jsx("div",{className:"text-right",children:o.jsx("p",{className:"text-sm text-gray-500",children:ll(new Date(u.created_at),{addSuffix:!0})})})]},u.id)})})]})]}),o.jsxs("div",{className:"space-y-6",children:[a&&o.jsxs("div",{className:"card",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Vote Limit Status"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between text-sm font-medium mb-2",children:[o.jsx("span",{children:"Votes Remaining"}),o.jsxs("span",{children:[a.votesRemaining,"/50"]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-primary-600 h-2 rounded-full transition-all duration-300",style:{width:`${(50-a.votesRemaining)/50*100}%`}})})]}),a.votesRemaining===0&&o.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(Gc,{className:"h-5 w-5 text-yellow-600 mr-2"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"Vote limit reached"}),o.jsxs("p",{className:"text-xs text-yellow-700",children:["Resets ",ll(a.resetTime,{addSuffix:!0})]})]})]})}),o.jsx("div",{className:"text-xs text-gray-500",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(Aa,{className:"h-3 w-3 mr-1"}),"Window resets: ",ya(a.resetTime,"MMM d, h:mm a")]})})]})]}),o.jsxs("div",{className:"card",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Voting Tips"}),o.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[o.jsxs("div",{className:"flex items-start",children:[o.jsx(ku,{className:"h-4 w-4 text-green-600 mr-2 mt-0.5 flex-shrink-0"}),o.jsx("p",{children:"Vote for songs you'd like to practice with your band"})]}),o.jsxs("div",{className:"flex items-start",children:[o.jsx(Su,{className:"h-4 w-4 text-red-600 mr-2 mt-0.5 flex-shrink-0"}),o.jsx("p",{children:"Downvote songs that don't fit your band's style"})]}),o.jsxs("div",{className:"flex items-start",children:[o.jsx(Gc,{className:"h-4 w-4 text-blue-600 mr-2 mt-0.5 flex-shrink-0"}),o.jsx("p",{children:"You can cast up to 50 votes per hour"})]}),o.jsxs("div",{className:"flex items-start",children:[o.jsx(fe,{className:"h-4 w-4 text-purple-600 mr-2 mt-0.5 flex-shrink-0"}),o.jsx("p",{children:"Songs with more votes are more likely to be selected for rehearsals"})]})]})]}),o.jsxs("div",{className:"card",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quick Facts"}),o.jsx("div",{className:"space-y-3",children:n&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Upvote Rate"}),o.jsxs("span",{className:"text-sm font-medium",children:[n.totalVotes>0?Math.round(n.upvotes/n.totalVotes*100):0,"%"]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Activity This Week"}),o.jsxs("span",{className:"text-sm font-medium",children:[n.recentVotes," votes"]})]})]})})]})]})]})})]})}const PN=new __({defaultOptions:{queries:{staleTime:1e3*60*5,refetchOnWindowFocus:!1}}});function TN(){return o.jsx(N_,{client:PN,children:o.jsx(Hj,{children:o.jsxs(r_,{children:[o.jsx(E1,{position:"top-center"}),o.jsxs(Yw,{children:[o.jsx($e,{path:"/login",element:o.jsx(PS,{})}),o.jsx($e,{path:"/register",element:o.jsx(TS,{})}),o.jsx($e,{path:"/forgot-password",element:o.jsx(OS,{})}),o.jsx($e,{path:"/reset-password",element:o.jsx(RS,{})}),o.jsx($e,{path:"/verify-email",element:o.jsx(AS,{})}),o.jsxs($e,{element:o.jsx(Qj,{}),children:[o.jsx($e,{path:"/dashboard",element:o.jsx(FS,{})}),o.jsx($e,{path:"/band-setup",element:o.jsx(IS,{})}),o.jsx($e,{path:"/band/:bandId",element:o.jsx(lN,{})}),o.jsx($e,{path:"/band/:bandId/search",element:o.jsx(cN,{})}),o.jsx($e,{path:"/band/:bandId/suggestions",element:o.jsx(dN,{})}),o.jsx($e,{path:"/band/:bandId/leaderboard",element:o.jsx(hN,{})}),o.jsx($e,{path:"/band/:bandId/rehearsals",element:o.jsx(wN,{})}),o.jsx($e,{path:"/band/:bandId/rehearsal/:rehearsalId",element:o.jsx(_N,{})}),o.jsx($e,{path:"/band/:bandId/voting-analytics",element:o.jsx(CN,{})}),o.jsx($e,{path:"/profile",element:o.jsx(EN,{})})]}),o.jsx($e,{path:"/",element:o.jsx(my,{to:"/dashboard",replace:!0})})]})]})})})}ny(document.getElementById("root")).render(o.jsx(S.StrictMode,{children:o.jsx(TN,{})}));
